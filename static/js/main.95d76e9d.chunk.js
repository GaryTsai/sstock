(this.webpackJsonpsstock=this.webpackJsonpsstock||[]).push([[0],{18:function(e,t,a){},22:function(e,t,a){e.exports=a(41)},27:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(20),o=a.n(l),r=(a(18),a(2)),s=a(3),i=a(15),u=a(5),m=a(4),d=(a(27),a(28),a(29),{}),p=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state=d,n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.record,a=e.index;return c.a.createElement("tr",null,c.a.createElement("th",{scope:"row"},a),c.a.createElement("td",null,t.account_record_Money),c.a.createElement("td",null,t.account_record_Stock),c.a.createElement("td",null,t.transfer),c.a.createElement("td",null,"\u8f49\u51fa"===t.transferStatus?"\u8f49\u51fa":"\u5b58\u5165"),c.a.createElement("td",null,t.transferTime),c.a.createElement("td",null,t.source))}}]),a}(n.Component),f=a(8),h={isMobile:function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(e.substr(0,4)))&&(t=!0),/\(macintosh; intel mac os x 10_15\)/i.test(e)&&(t=!0),t}},b=a(7),v=a.n(b),E=a(9),k=a(10),g=(a(42),a(32),a(34),a(36),[31,28,31,30,31,30,31,31,30,31,30,31]),S={dateFormat:function(e){return e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+(new Date).getDate()).slice(-2)},toDualDigit:function(e){return e<10?"0"+e:e},days:function(e,t){return console.log(e,t),(e%4===0&&e%100!==0||e%400===0)&&2===t?29:g[t]}};k.initializeApp({apiKey:"AIzaSyCHZGM1JyAUp_8_lm4OQFLviuiXFJJto5o",authDomain:"stock-f7053.firebaseapp.com",databaseURL:"https://stock-f7053.firebaseio.com",projectId:"stock-f7053",storageBucket:"stock-f7053.appspot.com",messagingSenderId:"1056992757888",appId:"1:1056992757888:web:2067426b1bcf54fd7c3e65",measurementId:"G-V0QBQ3VNJF"}),k.analytics();var y,w=k.database().ref("/stockInfo"),C=k.database().ref("/us_stockInfo"),N=k.database().ref("/account"),x=k.database().ref("/accountRecord"),O=k.database().ref("/us_accountRecord"),_=k.database().ref("/us_account"),M={getAllData:function(e){var t=this;return Object(E.a)(v.a.mark((function a(){var n;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.route=e,n="US_account"===e?C:w,a.next=4,n.once("value").then((function(e){var t=[];e.forEach((function(e){t.unshift(e.val())}));var a=t.sort((function(e,t){return e.date<t.date?1:-1})),n=a.filter((function(e){return"sale"!==e.status})).sort((function(e,t){return e.date<t.date?1:-1})),c=a.filter((function(e){return"sale"===e.status})).sort((function(e,t){return e.sale_date<t.sale_date?1:-1}));if(t){var l=0,o=0,r=0;for(var s in t)l+="unsale"===t[s].status?t[s].cost:0;for(var i in t)o+="sale"===t[i].status?t[i].income:0,r+="sale"===t[i].status?t[i].cost:0;y={showStocks:t,allStocks:t,saleStocks:c,unSaleStocks:n,totalCost:l,profitAndLoss:o,saleCost:r,profit:Math.floor(o/r*100)}}}));case 4:return a.abrupt("return",y);case 5:case"end":return a.stop()}}),a)})))()},insertNewData:function(e){var t=this;return Object(E.a)(v.a.mark((function a(){var n,c,l,o;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=Math.floor(Date.now()/1e3),c=Math.floor(1e3*e.price*e.sheet*1.001425),l=e.price*e.sheet,console.log(t.route),o="US_account"===t.route?C:w,a.next=7,o.child(n.toString()).set({timestamp:n,date:e.date,name:e.name,number:e.number,price:e.price,sheet:e.sheet,cost:"US_account"===t.route?l:c,income:0,sale_cost:0,sale_date:0,sale_price:0,sale_sheet:0,status:"unsale"}).then((function(){console.log("\u65b0\u589ePost\u6210\u529f")})).catch((function(e){console.error("\u65b0\u589ePost\u932f\u8aa4\uff1a",e)}));case 7:case"end":return a.stop()}}),a)})))()},deleteStock:function(e){var t=this;return Object(E.a)(v.a.mark((function a(){return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:("US_account"===t.route?C:w).child("".concat(e)).remove().then((function(){console.log("\u522a\u9664\u6210\u529f")})).catch((function(e){console.error("\u522a\u9664\u932f\u8aa4\uff1a",e)}));case 2:case"end":return a.stop()}}),a)})))()},updateStock:function(e,t,a,n){return Object(E.a)(v.a.mark((function c(){var l,o,r,s,i,u;return v.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return l=Math.round(1e3*e*t)-Math.floor(1e3*e*t*.001425)-Math.floor(1e3*e*t*.003)-a.cost,o=Math.round(1e3*e*t)-Math.floor(1e3*e*t*.001425)-Math.floor(1e3*e*t*.003),r=e*t-a.cost,s=e*t,i=S.dateFormat(new Date),u="US_account"===n?C:w,c.next=8,u.child(a.timestamp).update({income:"US_account"===n?r:l,sale_cost:"US_account"===n?s:o,sale_date:i,sale_price:e,sale_sheet:t,status:"sale"});case 8:case"end":return c.stop()}}),c)})))()},getAccount:function(e){return Object(E.a)(v.a.mark((function t(){var a,n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=[],n="US_account"===e?_:N,t.next=4,n.once("value").then((function(e){a=e.val()}));case 4:return t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})))()},getAccountRecord:function(e){return Object(E.a)(v.a.mark((function t(){var a,n;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=[],n="Taiwan_account"===e?x:O,t.next=4,n.once("value").then((function(e){e.forEach((function(e){a.unshift(e.val())}))}));case 4:return t.abrupt("return",a);case 5:case"end":return t.stop()}}),t)})))()},tradeForAccount:function(e,t){return Object(E.a)(v.a.mark((function a(){var n,c,l,o,r,s,i,u,m;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=[],c=0,l=S.dateFormat(new Date),o=Math.floor(Date.now()/1e3),r="Taiwan_account"===t?N:_,s="Taiwan_account"===t?x:O,a.next=8,r.once("value").then((function(e){n=e.val()}));case 8:return c="transferOut"===e.transferStatus?-1*parseInt(e.price):parseInt(e.price),i=("Taiwan_account"===t?parseInt(n.accountMoney):n.accountMoney)+c,u="Taiwan_account"===t?parseInt(n.accountStock):n.accountStock,m=i+u,a.next=14,r.update({accountMoney:i,accountStock:u,summary:m});case 14:return a.next=16,s.child(o.toString()).set({timestamp:o,account_record_Money:i,account_record_Stock:u,source:e.source,transfer:e.price,transferStatus:"transferIn"===e.transferStatus?"\u5b58\u5165":"\u8f49\u51fa",transferTime:l});case 16:return a.abrupt("return");case 17:case"end":return a.stop()}}),a)})))()},updateAccountRecord:function(e,t,a){return Object(E.a)(v.a.mark((function n(){var c,l,o,r,s,i,u,m,d;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=Math.floor(Date.now()/1e3),l=S.dateFormat(new Date),o=[],r="US_account"===a?_:N,n.next=6,r.once("value").then((function(e){o=e.val()}));case 6:return s=0,i=0,u=0,m=0,"US_account"!==a?(u=Math.round(1e3*e.price*e.sheet)-Math.floor(1e3*e.price*e.sheet*.001425)-Math.floor(1e3*e.price*e.sheet*.003),m=Math.floor(1e3*e.price*e.sheet)+Math.floor(1e3*e.price*e.sheet*.001425),t?(s=parseInt(o.accountMoney)-m,i=parseInt(o.accountStock)+m):(s=parseInt(o.accountMoney)+u,i=parseInt(o.accountStock)-e.cost)):(u=e.price*e.sheet,m=e.price*e.sheet,u=parseFloat(u),m=parseFloat(m),t?(s=parseFloat(o.accountMoney)-parseFloat(m),i=parseFloat(o.accountStock)+parseFloat(m)):(s=parseFloat(o.accountMoney)+u,i=parseFloat(o.accountStock)-e.cost)),s=parseFloat(s.toFixed(2)),i=parseFloat(i.toFixed(2)),n.next=15,r.update({accountMoney:s,accountStock:i,summary:(s+i).toFixed(2)});case 15:return d="US_account"===a?O:x,n.next=18,d.child(c.toString()).set({timestamp:c,account_record_Money:s,account_record_Stock:i,source:"\u80a1\u7968",transfer:t?m:u,transferTime:l,transferStatus:t?"\u5b58\u5165":"\u8f49\u51fa"});case 18:return n.abrupt("return");case 19:case"end":return n.stop()}}),n)})))()}},D=(a(16),{date:new Date,price:"",transferStatus:"transferIn",source:""}),A=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).inputSource=function(e){n.setState({source:e})},n.submitTrade=function(){var e=n.state,t=e.price,a=e.transferStatus,c=e.source,l=n.props.whichAccount;if(!a||!c||isNaN(t))return alert("\u4e0d\u8a31\u6709\u4efb\u4f55\u4e00\u500b\u70ba\u7a7a");var o=n.props,r={price:t,transferStatus:a,source:c};M.tradeForAccount(r,l).then((function(){o.callback(l)})),n.setState({price:"",source:""})},n.getStyleOfButton=function(){return h.isMobile()?{margin:"4px  0px"}:{margin:"0px  0px"}},n.handleChange=function(e){n.setState({price:e})},n.getTransferOptions=function(e){return n.setState({transferStatus:e.target.value})},n.state=D,n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{style:{margin:"5px 5px"}},c.a.createElement("div",{className:"form-row"},c.a.createElement("div",{className:"col"},c.a.createElement("input",{type:"text",className:"form-control",placeholder:"\u91d1\u984d",onChange:function(t){return e.handleChange(t.target.value)},value:this.state.price})),c.a.createElement("div",{className:"from-group col-md-2 input-sale-frame"},c.a.createElement("input",{type:"text",className:"form-control",placeholder:"\u4f86\u6e90",onChange:function(t){return e.inputSource(t.target.value)},value:this.state.source})),c.a.createElement("div",{className:"btn-group btn-group-toggle from-group col-md-2","data-toggle":"buttons",style:Object(f.a)({},this.getStyleOfButton())},c.a.createElement("label",{className:"btn btn-warning active",onClick:this.getTransferOptions},c.a.createElement("input",{type:"radio",name:"stockOption",id:"individual",value:"transferIn",autoComplete:"off"})," \u5b58\u5165"),c.a.createElement("label",{className:"btn btn-warning",onClick:this.getTransferOptions},c.a.createElement("input",{type:"radio",name:"stockOption",id:"mutual",value:"transferOut",autoComplete:"off"})," \u8f49\u51fa")),c.a.createElement("button",{style:{borderRadius:"5px",margin:"auto 5px"},className:"btn btn-primary from-group col-md-2 input-sale-frame",type:"submit",onClick:this.submitTrade},"\u78ba\u8a8d\u9001\u51fa")))}}]),a}(n.Component),j=(a(39),{acTime:"",acMoney:"",acStock:"",acSummary:"",records:[],usRecords:[],whichAccount:"Taiwan_account",isAssetTransfer:!1}),T=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).updateAccount=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Taiwan_account";M.getAccount(e).then((function(t){"Taiwan_account"===e?(n.setState({acTime:t.accountTime,acMoney:t.accountMoney,acStock:t.accountStock,acSummary:t.summary}),M.getAccountRecord(e).then((function(e){n.setState({records:e})}))):n.setState({acTime:t.accountTime,acMoney:t.accountMoney,acStock:t.accountStock,acSummary:t.summary}),M.getAccountRecord(e).then((function(e){n.setState({usRecords:e})}))}))},n.selectAccount=function(e){n.setState({whichAccount:e,records:[],usRecords:[]}),n.updateAccount(e)},n.isAssetTransfer=function(e){return n.setState({isAssetTransfer:e})},n.state=j,n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this.state.whichAccount;this.updateAccount(e)}},{key:"render",value:function(){var e=this,t=this.state,a=t.acTime,n=t.acMoney,l=t.acStock,o=t.acSummary,r=t.records,s=t.usRecords,i=t.whichAccount,u=t.isAssetTransfer;this.props.route;return c.a.createElement("div",null,c.a.createElement("nav",null,c.a.createElement("div",{className:"nav nav-tabs",id:"nav-tab",role:"tablist"},c.a.createElement("a",{className:"nav-item nav-link active",style:{width:"50%"},id:"nav-home-tab","data-toggle":"tab",href:"#nav-home",role:"tab","aria-controls":"nav-home","aria-selected":"true",onClick:function(){return e.selectAccount("Taiwan_account")}},"\u53f0\u80a1\u8cc7\u7522"),c.a.createElement("a",{className:"nav-item nav-link",style:{width:"50%"},id:"nav-profile-tab","data-toggle":"tab",href:"#nav-profile",role:"tab","aria-controls":"nav-profile","aria-selected":"false",onClick:function(){return e.selectAccount("US_account")}},"\u7f8e\u80a1\u8cc7\u7522"))),c.a.createElement("div",{className:"tab-content",id:"nav-tabContent"},c.a.createElement("div",{className:"tab-pane fade show active",id:"nav-home",role:"tabpanel","aria-labelledby":"nav-home-tab"},h.isMobile()&&!this.state.isAssetTransfer&&c.a.createElement("button",{className:"btn btn-warning from-group col-md-2 input-sale-frame",type:"submit",onClick:function(){return e.isAssetTransfer(!0)}},"\u8cc7\u7522\u8f49\u79fb"),h.isMobile()&&this.state.isAssetTransfer&&c.a.createElement("button",{className:"btn btn-secondary from-group col-md-2 input-sale-frame",type:"submit",onClick:function(){return e.isAssetTransfer(!1)}},"\u96b1\u85cf"),u&&c.a.createElement(A,{whichAccount:i,callback:this.updateAccount}),c.a.createElement("div",{className:"container"},c.a.createElement("table",{className:"table table-striped"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"\u5275\u5efa\u6642\u9593"),c.a.createElement("th",null,"\u5e33\u6236\u91d1\u984d"),c.a.createElement("th",null,"\u80a1\u7968\u5e33\u6236"),c.a.createElement("th",null,"\u7e3d\u91d1\u984d"))),c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("td",null,a),c.a.createElement("td",null,n),c.a.createElement("td",null,l),c.a.createElement("td",null,o))))),c.a.createElement("div",{className:"table-responsive"},c.a.createElement("table",{className:"table"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{scope:"col"},"#"),c.a.createElement("th",{scope:"col"},"\u5e33\u6236\u91d1\u984d"),c.a.createElement("th",{scope:"col"},"\u80a1\u7968\u91d1\u984d"),c.a.createElement("th",{scope:"col"},"\u91d1\u984d(\u542b\u640d\u76ca)"),c.a.createElement("th",{scope:"col"},"\u72c0\u614b"),c.a.createElement("th",{scope:"col"},"\u6642\u9593"),c.a.createElement("th",{scope:"col"},"\u4f86\u6e90"))),c.a.createElement("tbody",null,r&&r.map((function(e,t){return c.a.createElement(p,{ket:t,record:e,index:t})})))))),c.a.createElement("div",{className:"tab-pane fade",id:"nav-profile",role:"tabpanel","aria-labelledby":"nav-profile-tab"},h.isMobile()&&!this.state.isAssetTransfer&&c.a.createElement("button",{className:"btn btn-warning from-group col-md-2 input-sale-frame",type:"submit",onClick:function(){return e.isAssetTransfer(!0)}},"\u8cc7\u7522\u8f49\u79fb"),h.isMobile()&&this.state.isAssetTransfer&&c.a.createElement("button",{className:"btn btn-secondary from-group col-md-2 input-sale-frame",type:"submit",onClick:function(){return e.isAssetTransfer(!1)}},"\u96b1\u85cf"),u&&c.a.createElement(A,{whichAccount:i,callback:this.updateAccount}),c.a.createElement("div",{className:"container"},c.a.createElement("table",{className:"table table-striped"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"\u5275\u5efa\u6642\u9593"),c.a.createElement("th",null,"\u5e33\u6236\u91d1\u984d($)"),c.a.createElement("th",null,"\u80a1\u7968\u5e33\u6236($)"),c.a.createElement("th",null,"\u7e3d\u91d1\u984d($)"))),c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("td",null,a),c.a.createElement("td",null,n),c.a.createElement("td",null,l),c.a.createElement("td",null,o))))),c.a.createElement("div",{className:"table-responsive"},c.a.createElement("table",{className:"table"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{scope:"col"},"#"),c.a.createElement("th",{scope:"col"},"\u5e33\u6236\u91d1\u984d"),c.a.createElement("th",{scope:"col"},"\u80a1\u7968\u91d1\u984d"),c.a.createElement("th",{scope:"col"},"\u91d1\u984d(\u542b\u640d\u76ca)"),c.a.createElement("th",{scope:"col"},"\u72c0\u614b"),c.a.createElement("th",{scope:"col"},"\u6642\u9593"),c.a.createElement("th",{scope:"col"},"\u4f86\u6e90"))),c.a.createElement("tbody",null,s&&s.map((function(e,t){return c.a.createElement(p,{ket:t,record:e,index:t})}))))))))}}]),a}(n.Component),F=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(r.a)(this,a);for(var n=arguments.length,c=new Array(n),l=0;l<n;l++)c[l]=arguments[l];return(e=t.call.apply(t,[this].concat(c))).getActiveStyle=function(){return h.isMobile()?{fontSize:"16px",marginTop:"5px",background:"rgb(232 232 232)",borderRadius:"10px"}:{fontSize:"16px",cursor:"pointer",background:"rgb(232 232 232)",borderRadius:"10px"}},e.getComputeStyleForMobile=function(){return h.isMobile()?{flexBasis:"100%",flexGrow:"1",alignItems:"center",color:"#ed2a2a",fontSize:"16px",fontWeight:"bold"}:{color:"#ed2a2a",fontSize:"18px",fontWeight:"bold"}},e}return Object(s.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.saleCost,a=e.profitAndLoss,n=e.profit,l=e.totalCost,o=e.route,r=e.changeRoute;return c.a.createElement("div",null,c.a.createElement("nav",{className:"navbar navbar-expand-md navbar-light ",style:{backgroundColor:"rgb(52 149 220)",cursor:"pointer"}},c.a.createElement("div",{className:"navbar-brand",style:"Taiwan_account"===o?Object(f.a)(Object(f.a)({},this.getActiveStyle()),{},{padding:"5px"}):{},onClick:function(e){return r("Taiwan_account")}},"\u53f0\u7063\u80a1\u7968"),c.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarCollapse","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation"},c.a.createElement("span",{className:"navbar-toggler-icon"})),c.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarCollapse"},c.a.createElement("ul",{className:"navbar-nav mr-auto"},c.a.createElement("li",{className:"nav-item",style:"Taiwan_history"===o?this.getActiveStyle():{}},c.a.createElement("div",{className:"nav-link",onClick:function(e){return r("Taiwan_history")}},"\u53f0\u80a1\u6b77\u53f2\u7d00\u9304 ",c.a.createElement("span",{className:"sr-only"}))),c.a.createElement("li",{className:"nav-item",style:"US_account"===o?this.getActiveStyle():{}},c.a.createElement("div",{className:"nav-link",style:{color:"#e91e63"},onClick:function(e){return r("US_account")}},"\u7f8e\u80a1\u8b49\u5377")),c.a.createElement("li",{className:"nav-item",style:"account"===o?this.getActiveStyle():{}},c.a.createElement("div",{className:"nav-link",onClick:function(e){return r("account")}},"\u6211\u7684\u5e33\u6236")))),c.a.createElement("div",{style:Object(f.a)({display:"inherit"},this.getComputeStyleForMobile())},("Taiwan_history"===o||"US_account"===o)&&c.a.createElement("div",{style:{display:"flex"}},c.a.createElement("div",null,"\u6295\u5165\u6210\u672c:",t,"\u5143"),c.a.createElement("div",null,"\u7e3d\u640d\u76ca: ",a,"\u5143"),c.a.createElement("div",null,"\u6295\u6b96\u5229\u7387: ",n,"%"))),c.a.createElement("div",{style:Object(f.a)({display:"inherit",padding:"5px 0px"},this.getComputeStyleForMobile())},("Taiwan_account"===o||"US_account"===o)&&c.a.createElement("div",null,"\u76ee\u524d\u6295\u5165\u7e3d\u6210\u672c: ",l,"\u5143"))))}}]),a}(n.Component),I={date:new Date,name:"",number:"",code_name:"",price:"",sheet:"",datePickerDate:new Date},R=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).inputDate=function(e){n.setState({date:e})},n.inputName=function(e){n.setState({name:e})},n.inputNumber=function(e){n.setState({number:e})},n.inputPrice=function(e){n.setState({price:e})},n.inputSheet=function(e){n.setState({sheet:e})},n.submitStock=function(e){var t=n.state,a=t.date,c=t.name,l=t.number,o=t.price,r=t.sheet;if(!(a&&c&&l)||isNaN(o)||isNaN(r))return alert("\u4e0d\u8a31\u6709\u4efb\u4f55\u4e00\u500b\u70ba\u7a7a");var s={date:a,name:c,number:l,price:o,sheet:r};M.updateAccountRecord(s,!0,e),n.props&&n.props.callback(s),n.setState({name:"",number:"",price:"",sheet:""})},n.handleChange=function(e){n.setState({date:e,datePickerDate:e})},n.state=I,n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.setState({date:S.dateFormat(new Date),datePickerDate:S.dateFormat(new Date)})}},{key:"render",value:function(){var e=this,t=this.state.datePickerDate,a=this.props.route;return c.a.createElement("div",{style:{margin:"5px 5px"}},c.a.createElement("div",{className:"form-row"},c.a.createElement("div",{className:"col"},c.a.createElement("input",{type:"date",className:"form-control",placeholder:"\u65e5\u671f",onChange:function(t){return e.handleChange(t.target.value)},value:t})),c.a.createElement("div",{className:"from-group col-md-2 input-sale-frame"},c.a.createElement("input",{type:"text",className:"form-control",placeholder:"\u80a1\u7968\u540d\u7a31",onChange:function(t){return e.inputName(t.target.value)},value:this.state.name})),c.a.createElement("div",{className:"from-group col-md-2 input-sale-frame"},c.a.createElement("input",{type:"text",className:"form-control",placeholder:"US_account"===a?"\u7f8e\u80a1\u4ee3\u865f":"\u7de8\u865f",onChange:function(t){return e.inputNumber(t.target.value)},value:this.state.number})),c.a.createElement("div",{className:"from-group col-md-2 input-sale-frame"},c.a.createElement("input",{type:"text",className:"form-control",placeholder:"\u55ae\u50f9",onChange:function(t){return e.inputPrice(t.target.value)},value:this.state.price})),c.a.createElement("div",{className:"from-group col-md-2 input-sale-frame"},c.a.createElement("input",{type:"text",className:"form-control",placeholder:"US_account"===a?"\u80a1\u6578":"\u5f35\u6578",onChange:function(t){return e.inputSheet(t.target.value)},value:this.state.sheet})),c.a.createElement("button",{className:"btn btn-primary from-group col-md-2 input-sale-frame",type:"submit",onClick:function(){return e.submitStock(a)}},"\u78ba\u8a8d\u8cb7\u5165")))}}]),a}(n.Component),U={},Q=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).updateStockStatus=function(){var e=n.props.stock,t=parseInt(n.price.value);e.sheet<n.sheet.value||isNaN(t)||!t?alert("\u8ce3\u51fa\u5f35\u6578\u932f\u8aa4"):(n.props.stockSaleCallback(n.price.value,n.sheet.value,e),n.price.value="",n.sheet.value="")},n.deleteStock=function(){var e=n.props.stock;n.props.delete(e.timestamp)},n.state=U,n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props,a=t.stock,n=t.saleStatus,l=t.index,o=t.route,r=a.price*1.001425.toFixed(2),s=1e3*a.price*a.sheet*.001424<20?20:Math.round(1e3*a.price*a.sheet*.001424);return c.a.createElement("tr",null,c.a.createElement("th",{scope:"row"},l),!this.props.hideFiled&&c.a.createElement("td",{key:l},c.a.createElement("button",{type:"button",className:"btn btn-info","data-toggle":"modal","data-target":"#modal-".concat(l)},"\u8ce3\u51fa"),c.a.createElement("div",null,c.a.createElement("div",{className:"modal fade",id:"modal-".concat(l),tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},c.a.createElement("div",{className:"modal-dialog",role:"document"},c.a.createElement("div",{className:"modal-content"},c.a.createElement("div",{className:"modal-header"},c.a.createElement("h5",{className:"modal-title",style:{color:"black"},id:"exampleModalLabel"},"\u8ce3\u51fa\u8cc7\u8a0a"),c.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},c.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),c.a.createElement("div",{className:"modal-body"},c.a.createElement("div",{className:"form-group"},c.a.createElement("h5",{style:{color:"black",textAlign:"left"},key:"price"+l,htmlFor:"price-name-".concat(l),className:"col-form-label"},"\u8ce3\u51fa\u55ae\u50f9:"),c.a.createElement("input",{type:"text",className:"form-control",id:"price-name-".concat(l),ref:function(t){e.price=t}})),c.a.createElement("div",{className:"form-group"},c.a.createElement("h5",{style:{color:"black",textAlign:"left"},key:"sheet"+l,htmlFor:"sheet-name-".concat(l),className:"col-form-label"},"\u8ce3\u51fa\u5f35\u6578:"),c.a.createElement("input",{type:"text",className:"form-control",id:"sheet-name-".concat(l),ref:function(t){e.sheet=t}}))),c.a.createElement("div",{className:"modal-footer"},c.a.createElement("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal","aria-label":"Close",onClick:this.updateStockStatus},"\u78ba\u8a8d",a.name))))))),"home"===o&&"sale"===a.status&&c.a.createElement("td",null,a.sale_date),"home"===o&&"unsale"===a.status&&c.a.createElement("td",null,a.date),"home"!==o&&("all"===n||"sale"===n)&&("sale"===a.status?c.a.createElement("td",null,a.sale_date):c.a.createElement("td",null)),"home"!==o&&("all"===n||"unsale"===n)&&(a.status,c.a.createElement("td",null,a.date)),c.a.createElement("td",null,a.name),c.a.createElement("td",null,a.number),c.a.createElement("td",null,r),c.a.createElement("td",null,a.sheet),c.a.createElement("td",null,Math.floor(s)),c.a.createElement("td",null,Math.floor(a.cost)),c.a.createElement("td",null,"unsale"===a.status?"\u672a\u8ce3\u51fa":"\u5df2\u8ce3\u51fa"),c.a.createElement("td",null,Math.floor(a.sale_cost)),c.a.createElement("td",{style:{color:a.income<0?"#30ff30":"rgb(255 19 19)"}},Math.floor(a.income)),c.a.createElement("td",null,c.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:this.deleteStock},"\u522a\u9664")))}}]),a}(n.Component),z=(a(40),{startStandardDate:"",endStandardDate:"",dateRegion1:"",dateRegion2:"",saleStatus:"all",stockStatus:"individual"}),L=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).queryRegion=function(){var e=n.state,t=e.dateRegion1,a=e.dateRegion2,c=e.saleStatus,l=e.stockStatus;if(!(t&&a&&c&&l))return alert("\u4e0d\u8a31\u6709\u4efb\u4f55\u4e00\u500b\u70ba\u7a7a");var o={dateRegion1:t,dateRegion2:a,saleStatus:c,stockStatus:l};n.props&&n.props.callback(o),n.setState({date:"",name:"",number:"",price:"",sheet:""})},n.handleStartDateChange=function(e){return n.setState({startStandardDate:e,dateRegion1:e})},n.handleEndDateChange=function(e){return n.setState({endStandardDate:e,dateRegion2:e})},n.getSaleOptions=function(e){return n.setState({saleStatus:e.target.value})},n.getStockOptions=function(e){return n.setState({stockStatus:e.target.value})},n.getMobileStyleOfButton=function(){return{margin:"3px 0px"}},n.state=z,n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.setState({date:S.dateFormat(new Date),dateRegion1:S.dateFormat(new Date),dateRegion2:S.dateFormat(new Date),startStandardDate:S.dateFormat(new Date),endStandardDate:S.dateFormat(new Date)})}},{key:"render",value:function(){var e=this,t=this.state,a=t.startStandardDate,n=t.endStandardDate,l=h.isMobile();return c.a.createElement("div",null,c.a.createElement("div",{className:"form-row",style:{margin:"5px",overflowY:l?"scroll":"unset"}},c.a.createElement("button",{type:"button",className:"btn btn-info from-group col-md-2",style:{margin:"3px 5px"},onClick:this.props.resetCallBack},"\u986f\u793a\u5168\u90e8 Stock "),c.a.createElement("div",{style:{margin:"5px",float:"left",display:"flex",alignItems:"center",width:h.isMobile()?"100%":"auto"}},c.a.createElement("div",null,"\u8d77\u59cb\u5340\u9593:"),c.a.createElement("div",{className:"col"},c.a.createElement("input",{type:"date",className:"form-control",placeholder:"\u65e5\u671f",onChange:function(t){return e.handleStartDateChange(t.target.value)},value:a}))),c.a.createElement("div",{style:{margin:"5px",float:"left",display:"flex",alignItems:"center",width:h.isMobile()?"100%":"auto"}},c.a.createElement("div",null,"\u7d50\u675f\u5340\u9593:"),c.a.createElement("div",{className:"col"},c.a.createElement("input",{type:"date",className:"form-control",placeholder:"\u65e5\u671f",onChange:function(t){return e.handleEndDateChange(t.target.value)},value:n}))),c.a.createElement("div",{className:"btn-group btn-group-toggle"+(l?" from-group col-md-6":" from-group col-md-2"),"data-toggle":"buttons",style:Object(f.a)({margin:"0px 10px",zIndex:0},this.getMobileStyleOfButton())},c.a.createElement("label",{className:"btn btn-secondary active",onClick:this.getSaleOptions},c.a.createElement("input",{type:"radio",name:"saleOption",id:"saleOption1",value:"all",autoComplete:"off"})," \u5168\u90e8"),c.a.createElement("label",{className:"btn btn-secondary",onClick:this.getSaleOptions},c.a.createElement("input",{type:"radio",name:"saleOption",id:"saleOption2",value:"sale",autoComplete:"off"})," \u5df2\u8ce3\u51fa"),c.a.createElement("label",{className:"btn btn-secondary",onClick:this.getSaleOptions},c.a.createElement("input",{type:"radio",name:"saleOption",id:"saleOption3",value:"unsale",autoComplete:"off"})," \u672a\u8ce3\u51fa")),c.a.createElement("div",{className:"btn-group btn-group-toggle from-group col-md-2","data-toggle":"buttons",style:Object(f.a)({margin:"0px 10px",zIndex:0},this.getMobileStyleOfButton())},c.a.createElement("label",{className:"btn btn-warning active",onClick:this.getStockOptions},c.a.createElement("input",{type:"radio",name:"stockOption",id:"individual",value:"individual",autoComplete:"off"})," \u500b\u5225\u80a1")),c.a.createElement("button",{className:"btn btn-primary "+(l?" from-group col-md-2":" from-group col-md-1"),type:"submit",style:{margin:"3px 5px"},onClick:this.queryRegion},"\u67e5\u8a62\u9001\u51fa")))}}]),a}(n.Component),B={allData:[],allStocks:"",isQueryOpen:!1},q=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).queryData=function(e){return n.props.queryDataCallback(e)},n.isQueryOpen=function(e){return n.setState({isQueryOpen:e})},n.getQueryStatus=function(){return!h.isMobile()||n.state.isQueryOpen},n.state=B,n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this.props;e&&this.setState({allStocks:e})}},{key:"render",value:function(){var e=this,t=this.props,a=t.allStocks,n=t.deleteCallback,l=t.queryDataCallback,o=t.saleStockCallback,r=t.resetCallBack,s=t.hideFiled,i=t.saleStatus,u=t.route,m=this.state.isQueryOpen,d=h.isMobile(),p="Taiwan_history"===u;return c.a.createElement("div",null,p&&!m&&d&&c.a.createElement("button",{style:{borderRadius:"0px"},className:"btn btn-success from-group col-md-2",type:"submit",onClick:function(){return e.isQueryOpen(!0)}},"\u67e5\u8a62\u6642\u5340"),p&&m&&d&&c.a.createElement("button",{style:{borderRadius:"0px"},className:"btn btn-secondary from-group col-md-2",type:"submit",onClick:function(){return e.isQueryOpen(!1)}},"\u96b1\u85cf"),p&&this.getQueryStatus()&&c.a.createElement(L,{callback:l,resetCallBack:r}),c.a.createElement("div",{style:{overflowY:h.isMobile()?"scroll":"unset"}},c.a.createElement("table",{className:"table table-dark"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{scope:"col"},"#"),!s&&c.a.createElement("th",{scope:"col"},"\u8ce3\u51fa"),"all"!==i&&("sale"===i?c.a.createElement("th",{scope:"col"},"\u8ce3\u51fa\u65e5\u671f"):c.a.createElement("th",{scope:"col"},"\u8cfc\u8cb7\u65e5\u671f")),"all"===i&&"home"!==u&&c.a.createElement("th",{scope:"col"},"\u8ce3\u51fa\u65e5\u671f"),"all"===i&&c.a.createElement("th",{scope:"col"},"\u8cfc\u8cb7\u65e5\u671f"),c.a.createElement("th",{scope:"col"},"\u80a1\u7968\u540d\u7a31"),c.a.createElement("th",{scope:"col"},"\u7de8\u865f"),c.a.createElement("th",{scope:"col"},"\u5e73\u5747\u55ae\u50f9"),c.a.createElement("th",{scope:"col"},"\u5f35\u6578"),c.a.createElement("th",{scope:"col"},"\u624b\u7e8c\u8cbb"),c.a.createElement("th",{scope:"col"},"\u8cfc\u8cb7\u6210\u672c"),c.a.createElement("th",{scope:"col"},"\u72c0\u614b"),c.a.createElement("th",{scope:"col"},"\u8ce3\u51fa\u7e3d\u50f9"),c.a.createElement("th",{scope:"col"},"\u640d\u76ca"),c.a.createElement("th",{scope:"col"},"\u522a\u9664"))),c.a.createElement("tbody",null,0!==a.length&&a.map((function(e,t){return c.a.createElement(Q,{hideFiled:s,saleStatus:i,key:e.number+t,stock:e,index:t+1,route:u,stockSaleCallback:o,delete:function(e){return n(e)}})}))))))}}]),a}(n.Component),P={},J=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).updateStockStatus=function(){var e=n.props.stock,t=parseFloat(n.price.value);e.sheet<n.sheet.value||isNaN(t)||!t?alert("\u8ce3\u51fa\u5f35\u6578\u932f\u8aa4"):(n.props.stockSaleCallback(n.price.value,n.sheet.value,e),n.price.value="",n.sheet.value="")},n.deleteStock=function(){var e=n.props.stock;n.props.delete(e.timestamp)},n.state=P,n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props,a=t.stock,n=t.saleStatus,l=t.index,o=a.price;return c.a.createElement("tr",null,c.a.createElement("th",{scope:"row"},l),!this.props.hideFiled&&c.a.createElement("td",{key:l},c.a.createElement("button",{type:"button",className:"btn btn-info","data-toggle":"modal","data-target":"#modal-".concat(l)},"\u8ce3\u51fa"),c.a.createElement("div",null,c.a.createElement("div",{className:"modal fade",id:"modal-".concat(l),tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},c.a.createElement("div",{className:"modal-dialog",role:"document"},c.a.createElement("div",{className:"modal-content"},c.a.createElement("div",{className:"modal-header"},c.a.createElement("h5",{className:"modal-title",style:{color:"black"},id:"exampleModalLabel"},"\u8ce3\u51fa\u8cc7\u8a0a"),c.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},c.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),c.a.createElement("div",{className:"modal-body"},c.a.createElement("div",{className:"form-group"},c.a.createElement("h5",{style:{color:"black",textAlign:"left"},key:"price"+l,htmlFor:"price-name-".concat(l),className:"col-form-label"},"\u8ce3\u51fa\u55ae\u50f9:"),c.a.createElement("input",{type:"text",className:"form-control",id:"price-name-".concat(l),ref:function(t){e.price=t}})),c.a.createElement("div",{className:"form-group"},c.a.createElement("h5",{style:{color:"black",textAlign:"left"},key:"sheet"+l,htmlFor:"sheet-name-".concat(l),className:"col-form-label"},"\u8ce3\u51fa\u5f35\u6578:"),c.a.createElement("input",{type:"text",className:"form-control",id:"sheet-name-".concat(l),ref:function(t){e.sheet=t}}))),c.a.createElement("div",{className:"modal-footer"},c.a.createElement("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal","aria-label":"Close",onClick:this.updateStockStatus},"\u78ba\u8a8d",a.name))))))),"US_all"===n&&("sale"===a.status?c.a.createElement("td",null,a.sale_date):c.a.createElement("td",null)),"US_all"===n&&(a.status,c.a.createElement("td",null,a.date)),c.a.createElement("td",null,a.name),c.a.createElement("td",null,a.number),c.a.createElement("td",null,o),c.a.createElement("td",null,a.sheet),c.a.createElement("td",null,a.cost),c.a.createElement("td",null,"unsale"===a.status?"\u672a\u8ce3\u51fa":"\u5df2\u8ce3\u51fa"),c.a.createElement("td",null,a.sale_cost),c.a.createElement("td",{style:{color:a.income<0?"#30ff30":"rgb(255 19 19)"}},a.income),c.a.createElement("td",null,c.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:this.deleteStock},"\u522a\u9664")))}}]),a}(n.Component),W={allData:[],allStocks:"",isQueryOpen:!1},Y=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).queryData=function(e){return n.props.queryDataCallback(e)},n.isQueryOpen=function(e){return n.setState({isQueryOpen:e})},n.getQueryStatus=function(){return!h.isMobile()||n.state.isQueryOpen},n.state=W,n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this.props;e&&this.setState({allStocks:e})}},{key:"render",value:function(){var e=this,t=this.props,a=t.allStocks,n=t.deleteCallback,l=t.UsInfo,o=t.hideFiled,r=t.saleStatus,s=t.route,i=t.saleStockCallback,u=t.queryDataCallback,m=t.resetCallBack,d=this.state.isQueryOpen,p=h.isMobile();return c.a.createElement("div",null,"US_account"===s&&!d&&p&&c.a.createElement("button",{style:{borderRadius:"0px"},className:"btn btn-success from-group col-md-2",type:"submit",onClick:function(){return e.isQueryOpen(!0)}},"\u67e5\u8a62\u6642\u5340"),"US_account"===s&&d&&p&&c.a.createElement("button",{style:{borderRadius:"0px"},className:"btn btn-secondary from-group col-md-2",type:"submit",onClick:function(){return e.isQueryOpen(!1)}},"\u96b1\u85cf"),"US_account"===s&&this.getQueryStatus()&&c.a.createElement(L,{callback:u,resetCallBack:m}),c.a.createElement("div",{style:{overflowY:h.isMobile()?"scroll":"unset"}},c.a.createElement("table",{className:"table table-dark"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{scope:"col"},"#"),!o&&c.a.createElement("th",{scope:"col"},"\u8ce3\u51fa"),"US_all"===r&&c.a.createElement("th",{scope:"col"},"\u8ce3\u51fa\u65e5\u671f"),"US_all"===r&&c.a.createElement("th",{scope:"col"},"\u8cfc\u8cb7\u65e5\u671f"),c.a.createElement("th",{scope:"col"},"\u80a1\u7968\u540d\u7a31"),c.a.createElement("th",{scope:"col"},"\u4ee3\u865f"),c.a.createElement("th",{scope:"col"},"\u55ae\u50f9"),c.a.createElement("th",{scope:"col"},"\u80a1\u6578"),c.a.createElement("th",{scope:"col"},"\u8cfc\u8cb7\u6210\u672c"),c.a.createElement("th",{scope:"col"},"\u72c0\u614b"),c.a.createElement("th",{scope:"col"},"\u8ce3\u51fa\u7e3d\u50f9"),c.a.createElement("th",{scope:"col"},"\u640d\u76ca"),c.a.createElement("th",{scope:"col"},"\u522a\u9664"))),c.a.createElement("tbody",null,0!==a.length&&a.map((function(e,t){return c.a.createElement(J,{hideFiled:o,UsInfo:l,saleStatus:r,key:e.number+t,stock:e,index:t+1,route:s,stockSaleCallback:i,delete:function(e){return n(e)}})}))))))}}]),a}(n.Component),$={inputData:[],unSaleStocks:[],saleStocks:[],allStocks:[],showStocks:[],totalCost:0,route:"Taiwan_account",profitAndLoss:0,profit:0,saleCost:0,saleIsOpen:!1,saleStatus:"all"},G=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).updateAllData=function(e){"US_account"===e?M.getAllData(e).then((function(e){n.setState({saleStatus:"US_all",showStocks:e.showStocks,allStocks:e.allStocks,saleStocks:e.saleStocks,unSaleStocks:e.unSaleStocks,totalCost:e.totalCost,profitAndLoss:e.profitAndLoss,saleCost:e.saleCost,profit:Math.floor(e.profitAndLoss/e.saleCost*100)})})):M.getAllData(e).then((function(e){n.setState({saleStatus:"all",showStocks:e.showStocks,allStocks:e.allStocks,saleStocks:e.saleStocks,unSaleStocks:e.unSaleStocks,totalCost:e.totalCost,profitAndLoss:e.profitAndLoss,saleCost:e.saleCost,profit:Math.floor(e.profitAndLoss/e.saleCost*100)})}))},n.inputData=function(e){var t=Object(i.a)(n),a=n.state.route;M.insertNewData(e).then((function(){t.updateAllData(a)}))},n.deleteStock=function(e){var t=n.state.route;M.deleteStock(e).then((function(){return n.updateAllData(t)}))},n.saleStock=function(e,t,a){var c=n.state.route;M.updateStock(e,t,a,c).then((function(){var l={price:e,sheet:t,cost:a.cost};M.updateAccountRecord(l,!1,c),n.updateAllData(c)}))},n.changeRoute=function(e){n.setState({route:e}),n.updateAllData(e)},n.updateQueryData=function(e){var t=n.state,a=t.allStocks,c=t.unSaleStocks,l=t.saleStocks,o=e.dateRegion1,r=e.dateRegion2,s=0,i=0,u=0,m="";if(n.setState({saleStatus:e.saleStatus}),"individual"===e.stockStatus){switch(e.saleStatus){case"all":m=a.filter((function(e){return o<=e.date&&e.date<=r}));break;case"sale":m=l.filter((function(e){return o<=e.sale_date&&e.sale_date<=r}));break;case"unsale":m=c.filter((function(e){return o<=e.date&&e.date<=r}))}for(var d in m)u+=m[d].income,i+=m[d].cost;s=Math.floor(u/i*100),n.setState({showStocks:m,profit:s,saleCost:i,profitAndLoss:u})}else e.stockStatus},n.reset=function(){return n.updateAllData(n.state.route)},n.saleIsOpen=function(){return n.setState({saleIsOpen:!n.state.saleIsOpen})},n.getSaleIsStatus=function(){return!h.isMobile()||n.state.saleIsOpen},n.state=$,n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){this.updateAllData(this.props.route)}},{key:"render",value:function(){var e=this,t=this.state.inputData,a=this.state.unSaleStocks,n=this.state.showStocks,l=this.state.route;return c.a.createElement("div",{className:"App",style:{height:window.innerHeight,margin:"0 auto"}},c.a.createElement(F,{totalCost:this.state.totalCost,profitAndLoss:this.state.profitAndLoss,route:l,changeRoute:this.changeRoute,profit:this.state.profit,saleCost:this.state.saleCost}),h.isMobile()&&!this.state.saleIsOpen&&("Taiwan_account"===l||"US_account"===l)&&c.a.createElement("button",{className:"btn btn-warning from-group col-md-2 input-sale-frame",type:"submit",onClick:function(){return e.saleIsOpen(!0)}},"\u8cb7\u5165"),h.isMobile()&&this.state.saleIsOpen&&("Taiwan_account"===l||"US_account"===l)&&c.a.createElement("button",{className:"btn btn-secondary from-group col-md-2 input-sale-frame",type:"submit",onClick:function(){return e.saleIsOpen(!1)}},"\u96b1\u85cf"),this.getSaleIsStatus()&&("Taiwan_account"===l||"US_account"===l)&&c.a.createElement(R,{callback:this.inputData,route:l}),"Taiwan_account"===l&&c.a.createElement(q,{hideFiled:!1,saleStatus:this.state.saleStatus,inputData:t,allStocks:a,deleteCallback:this.deleteStock,saleStockCallback:this.saleStock,route:l}),"Taiwan_history"===l&&c.a.createElement(q,{hideFiled:!0,saleStatus:this.state.saleStatus,inputData:t,allStocks:n,deleteCallback:this.deleteStock,saleStockCallback:this.saleStock,route:l,queryDataCallback:this.updateQueryData,resetCallBack:this.reset}),"US_account"===l&&c.a.createElement(Y,{hideFiled:!1,saleStatus:"US_all",route:l,allStocks:n,saleStockCallback:this.saleStock,deleteCallback:this.deleteStock,queryDataCallback:this.updateQueryData,resetCallBack:this.reset}),"account"===l&&c.a.createElement(T,{route:l}))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(G,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.95d76e9d.chunk.js.map