{"version":3,"sources":["assets/img/logo.png","assets/img/loading.gif","component/account/record.jsx","utils/browserUtils.js","utils/dateFormat.js","component/settings/settings.js","api/api.js","component/account/AccountTransfer.jsx","component/account/account.jsx","component/navbar/style.js","component/navbar/navbar.jsx","component/input.jsx","component/stock/stock.jsx","component/inputRegion.jsx","component/stock/stocks.jsx","component/usstock/stock.jsx","component/usstock/stocks.jsx","component/login/styles.js","component/login/login.jsx","custom/YearColumnChart/index.js","custom/DulaColumnChart/index.js","component/twChart/index.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","sourceMapping","sourceColor","source","colorNumber","Object","keys","forEach","element","search","Td","styled","color","initialState","Record","props","state","this","record","index","scope","parseFloat","account_record_Money","toFixed","account_record_Stock","transfer","transferStatus","transferTime","Component","utils","isMobile","a","check","navigator","userAgent","vendor","window","opera","test","substr","daysOfMonth","dateFormat","date","getFullYear","getMonth","slice","getDate","toDualDigit","day","days","y","m","console","log","user_id","country","i","stockData","firebase","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","api","getAllData","getDataRef","ref","settings","once","then","snapshot","items","unshift","val","stocks","sort","b","unSaleStocks","filter","status","saleStocks","sale_date","item","total","profitAndLoss","saleCost","cost","income","getLastYearROI","lastYearROI","showStocks","allStocks","totalCost","profit","Math","floor","insertNewData","data","route","timestamp","Date","now","price","sheet","US_cost","child","toString","set","name","number","sale_cost","sale_price","sale_sheet","catch","err","error","deleteStock","remove","updateStock","salePrice","saleSheet","stock","isDayTrading","d","round","US_income","US_sale_cost","update","getAccount","accountData","getAccountRef","getAccountRecord","accountRecord","tradeForAccount","transferInfo","whichAccount","transfer_price","getRefOfAccount","getRefOfAccountRecord","parseInt","money","accountMoney","accountStock","summary","updateAccountRecord","stockInfo","sale","transfer_date","accountInfo","lastYearStartDate","lastYearEndDate","thisYearStartDate","thisYearEndDate","lastYearItems","thisYearItems","incomeOfLastYear","incomeOfThisYear","inAccountOfThisYear","accountRecords","thisYearAccountRecords","ROI","AccountTransfer","inputSource","setState","submitTrade","isNaN","alert","self","callback","getStyleOfButton","browserUtils","margin","handleChange","getTransferOptions","e","target","value","style","className","type","placeholder","onChange","c","data-toggle","onClick","id","autoComplete","borderRadius","acTime","acMoney","acStock","acSummary","records","usRecords","isAssetTransfer","Account","updateAccount","accountTime","selectAccount","account","role","width","href","aria-controls","aria-selected","aria-labelledby","map","ket","logOutButton","backgroundColor","padding","fontSize","logOutButtonMobile","report","display","alignItems","reportMobile","reportFormat","reportFormatMobile","justifyContent","Navbar","getActiveStyle","marginTop","background","cursor","getComputeStyleForMobile","flexBasis","flexGrow","fontWeight","changeRoute","logOutCallBack","isMerge","data-target","aria-expanded","aria-label","FormGroup","FormControlLabel","control","Switch","checked","handleMerge","label","styles","Input","inputDate","inputName","inputNumber","inputPrice","inputSheet","submitStock","datePickerDate","Stock","updateStockStatus","stockSaleCallback","delete","isFloat","n","Number","saleStatus","averagePrice","handlingFee","hideFiled","key","tabIndex","aria-hidden","data-dismiss","textAlign","htmlFor","input","InputRegion","queryRegion","region","dateRegion1","dateRegion2","stockStatus","startDate","endDate","yearAgo","setDate","handleStartDateChange","startStandardDate","handleEndDateChange","endStandardDate","getSaleOptions","getStockOptions","paddingRight","paddingLeft","whiteSpace","overflowY","resetCallBack","zIndex","float","allData","isQueryOpen","Stocks","queryData","queryDataCallback","getQueryStatus","deleteCallback","saleStockCallback","isShowQueryOption","length","Usstock","wrapper","flexDirection","minHeight","position","frameContent","WebkitBorderRadius","maxWidth","WebkitBoxShadow","boxShadow","border","top","logIn","height","backgroundSize","register","logo","inputContent","textDecoration","submit","textTransform","opacity","back","forgetPWD","marginBottom","email","resetEmail","password","isLogIn","message","isOpenForgetPWD","Login","loginSubmitWithKeydown","getStatusMethod","actionForSubmit","logInSelect","logInSubmit","registerSubmit","logInCallBack","homePageCallBack","setTimeout","signInWithEmailAndPassword","result","user","currentUser","localStorage","setItem","uid","pwd","createUserWithEmailAndPassword","u","exist","setEmail","setPassword","openForgetPWD","closeForgetPWD","resetPWD","sendPasswordResetEmail","setResetEmail","document","removeEventListener","keyCode","bind","addEventListener","backgroundImage","require","Radium","SummaryInfo","ChartTitle","ChartValue","ColumnChart","chartInfo","dividend","useState","yearDividend","setYearDividend","chartComponentRef","useRef","HighchartsReact","RefObject","options","chart","title","text","xAxis","categories","yearCategories","lineWidth","yAxis","labels","format","Highcharts","getOptions","colors","series","yearValue","tooltip","valueSuffix","useEffect","JSON","stringify","_yearDividend","year","push","reduce","allStockDividend","previousValue","currentValue","highcharts","usRef","Container","DropDownContainer","StyledDiv","DualColumnChart","selectTimeRange","setSelectTimeRange","selectList","setSelectList","rate","info","setInfo","monthValue","RegExp","monthRate","list","concat","alignTicks","linkedTo","enabled","offset","softMax","max","softMin","min","gridLineWidth","opposite","getSummary","TextField","select","sx","option","MenuItem","TwChart","setChartInfo","setDividend","handleDateData","it","firstDateYear","substring","firstDateMonth","lastDateYear","lastDateMonth","dateArray","month","valueArray","ROIArray","balance","costSummary","getValue","yearArray","getYearDate","getYearValue","dividendInfo","isDividend","fetchData","Grid","container","xs","md","YearColumnChart","inputData","saleIsOpen","logInStatus","loading","App","updateAllData","saleStock","loginRecord","getItem","closeLoginPage","logOut","removeItem","infoMerge","datas","mergeResult","prev","next","_","trim","findIndex","updateQueryData","startRegion","endRegion","reset","getSaleIsStatus","innerHeight","left","alt","src","Boolean","location","hostname","match","ReactDOM","render","StrictMode","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.b46d8b4c.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.e27c8735.png\";","module.exports = __webpack_public_path__ + \"static/media/loading.a57e7c9a.gif\";","import React, {Component} from 'react';\nimport { styled } from \"@mui/material\";\nconst sourceMapping = {\n  '股利': 1,\n  '薪資': 2,\n'手續費折': 3\n}\n\nconst sourceColor = ({source}) => {\n  let colorNumber = null \n  if(!source) {\n    return \n  }\n  Object.keys(sourceMapping).forEach(element => {\n    if(!!colorNumber) return\n    colorNumber = source.search(element) !== -1 && sourceMapping[element]\n  });\n\n  switch (colorNumber) {\n    case 1:\n      return 'red'\n      break;\n    case 2:\n      return 'green'\n      break;  \n    case 3:\n      return 'purple'\n      break;  \n    default:\n      return 'black'\n      break;\n  }\n}\n\nconst Td = styled('td')((source) => ({\n  color: sourceColor(source),\n}));\n\nconst initialState = {\n};\n\nexport default class Record extends Component {\n  constructor(props) {\n    super(props);\n    this.state = initialState;\n  }\n\n  render() {\n    const {record, index} = this.props;\n    return (\n      <tr>\n        <th scope=\"row\">{index}</th>\n        <td>{parseFloat(record.account_record_Money).toFixed(0)}</td>\n        <td>{parseFloat(record.account_record_Stock).toFixed(0)}</td>\n        <td>{record.transfer}</td>\n        <td>{record.transferStatus=== '轉出' ? '轉出' : '存入'}</td>\n        <td>{record.transferTime}</td>\n        <Td source={record.source}>{record.source}</Td>\n      </tr>\n    )\n  }\n}\n","\nconst utils = {\n  isMobile: () => {\n    let check = false;\n    (function (a) {\n      if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\\\-(n|u)|c55\\/|capi|ccwa|cdm\\\\-|cell|chtm|cldc|cmd\\\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\\\-|_)|g1 u|g560|gene|gf\\\\-5|g\\\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\\\-(m|p|t)|hei\\\\-|hi(pt|ta)|hp( i|ip)|hs\\\\-c|ht(c(\\\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\\\-(20|go|ma)|i230|iac( |\\\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\\\-[a-w])|libw|lynx|m1\\\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\\\-2|po(ck|rt|se)|prox|psio|pt\\\\-g|qa\\\\-a|qc(07|12|21|32|60|\\\\-[2-7]|i\\\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\\\-|oo|p\\\\-)|sdk\\/|se(c(\\\\-|0|1)|47|mc|nd|ri)|sgh\\\\-|shar|sie(\\\\-|m)|sk\\\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\\\-|v\\\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\\\-|tdg\\\\-|tel(i|m)|tim\\\\-|t\\\\-mo|to(pl|sh)|ts(70|m\\\\-|m3|m5)|tx\\\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\\\-|your|zeto|zte\\\\-/i.test(a.substr(0, 4))) check = true;\n\n      if (/\\(macintosh; intel mac os x 10_15\\)/i.test(a)) {\n        check = true;\n      }\n    })(navigator.userAgent || navigator.vendor || window.opera);\n    return check;\n  },\n};\n\nexport default utils;","const daysOfMonth = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\nconst utils = {\n  dateFormat: date =>{\n    const year =  date.getFullYear();\n    const month = (\"0\" + (date.getMonth() + 1)).slice(-2);\n    const day = (\"0\" + (date.getDate())).slice(-2);\n    return year + '-' + month + '-' + day\n  },\n  toDualDigit : day => {\n    if (day < 10) return '0' + day;\n    return day;\n  },\n  days : (y,m) => {\n    console.log(y,m);\n    if (((((y % 4 === 0) && (y % 100 !== 0)) || ((y % 400 === 0)) )&& (m === 2))) {\n      return 29\n    }else{\n      return  daysOfMonth[m];\n    }\n  }\n};\n\nexport default utils;\n","export default {\n  user_id: '',\n  country: 'tw',\n}","// Firebase App (the core Firebase SDK) is always required and must be listed first\nimport * as firebase from \"firebase/app\";\n// If you enabled Analytics in your project, add the Firebase SDK for Analytics\nimport \"firebase/analytics\";\nimport \"firebase/database\";\n// Add the Firebase products that you want to use\nimport \"firebase/auth\";\nimport \"firebase/firestore\";\nimport d from \"../utils/dateFormat\";\nimport settings from './../component/settings/settings'\n\nconst fireBaseConfig= {\n  apiKey: process.env.REACT_APP_APP_KEY,\n  authDomain:process.env.REACT_APP_AUTHDOMAIN,\n  databaseURL:process.env.REACT_APP_DATABSEURL,\n  projectId:process.env.REACT_APP_PROJECTID,\n  storageBucket: process.env.REACT_APP_STORAGEBUCKET,\n  messagingSenderId: process.env.REACT_APP_MESSAGEINGSENDERID,\n  appId:　process.env.REACT_APP_APPID,\n  measurementId: process.env.REACT_APP_MEASUREMENTID\n};\n\nfirebase.initializeApp(fireBaseConfig);\nfirebase.analytics();\n// get database refer\n// var getDataRef = firebase.database().ref(`/account_data/${settings.user_id}/${settings.country}/stockInfo` );\n// var getUSDataRef = firebase.database().ref(`/account_data/${settings.user_id}/${settings.country}/stockInfo` );\n//\n// var getAccountRef = firebase.database().ref(`/account_data/${settings.user_id}/${settings.country}/account_record` );\n// var getAccountRecordRef = firebase.database().ref(`/accountRecord` );\n// var getUSAccountRecordRef = firebase.database().ref(`/us_accountRecord` );\n// var getUSAccountRef = firebase.database().ref(`/us_account` );\nvar stockData;\n\nconst api = {\n  async getAllData() {\n    let  getDataRef = firebase.database().ref(`/account_data/${settings.user_id}/${settings.country}/stock_info` );\n    await getDataRef.once('value').then(async (snapshot) => {\n\n      let items = [];\n      snapshot.forEach(element => {\n        items.unshift(element.val());\n      });\n      let stocks = items.sort(function (a, b) {\n        return a.date < b.date ? 1 : -1\n      });\n      let unSaleStocks = stocks.filter(a => a.status !== 'sale').sort(function (a, b) {\n        return a.date < b.date ? 1 : -1\n      });\n      let saleStocks = stocks.filter(a => a.status === 'sale').sort(function (a, b) {\n        return a.sale_date > b.sale_date ? 1 : -1\n      });\n\n      if (!!items) {\n        let total = 0;\n        let profitAndLoss = 0;\n        let saleCost = 0;\n        for (let item in items) {\n          total += items[item].status === \"unsale\" ? items[item].cost : 0;\n        }\n        for (let item in items) {\n          profitAndLoss += items[item].status === \"sale\" ? items[item].income : 0;\n          saleCost += items[item].status === \"sale\" ? items[item].cost : 0;\n        }\n        let lastYearROI = await this.getLastYearROI(items);\n        stockData = {\n          lastYearROI: lastYearROI,\n          showStocks: items,\n          allStocks: items,\n          saleStocks: saleStocks,\n          unSaleStocks: unSaleStocks,\n          totalCost: total,\n          profitAndLoss: profitAndLoss,\n          saleCost: saleCost,\n          profit: Math.floor(profitAndLoss / saleCost * 100)\n        }\n      }\n    });\n    return stockData;\n  },\n\n  async insertNewData(data, route){\n    let timestamp = Math.floor(Date.now() / 1000);\n    let cost = Math.floor(data.price * 1000 * data.sheet * 1.001425);\n    let US_cost = data.price * data.sheet;\n    let  getDataRef = firebase.database().ref(`/account_data/${settings.user_id}/${settings.country}/stock_info` );\n      await getDataRef.child(timestamp.toString()).set({\n      timestamp: timestamp,\n      date: data.date,\n      name: data.name,\n      number: data.number,\n      price: data.price,\n      sheet: data.sheet,\n      cost: route === \"US_account\" ?　US_cost : cost,\n      income:0,\n      sale_cost:0,\n      sale_date:0,\n      sale_price:0,\n      sale_sheet:0,\n      status:\"unsale\"\n    }).then(function () {\n      console.log(\"insert new stock successfully\");\n      // self.updateAllData();\n    }).catch(function (err) {\n      console.error(\"insert new stock failed：\", err);\n    });\n  },\n\n  async deleteStock(timestamp){\n    let  getDataRef = firebase.database().ref(`/account_data/${settings.user_id}/${settings.country}/stock_info` );\n    getDataRef.child(`${timestamp}`).remove().then(function () {\n      console.log(\"delete stock successfully\");\n    }).catch(function (err) {\n      console.error(\"delete failed：\", err);\n    });\n  },\n\n  async updateStock(salePrice, saleSheet, stock, route){\n      const isDayTrading = stock.date == d.dateFormat(new Date());\n      let income = Math.round(salePrice * 1000 * saleSheet) - Math.floor(salePrice * 1000 * saleSheet * 0.001425) - Math.floor(salePrice * 1000 * saleSheet * 0.003 * (isDayTrading ? 0.5 : 1)) - stock.cost;\n      let sale_cost = Math.round(salePrice * 1000 * saleSheet) - Math.floor(salePrice * 1000 * saleSheet * 0.001425) - Math.floor(salePrice * 1000 * saleSheet * 0.003 * (isDayTrading ? 0.5 : 1));\n      let US_income = salePrice * saleSheet - stock.cost;\n      let US_sale_cost = salePrice * saleSheet;\n      let sale_date = d.dateFormat(new Date());\n      let  getDataRef = firebase.database().ref(`/account_data/${settings.user_id}/${settings.country}/stock_info` );\n\n      await getDataRef.child(stock.timestamp).update({\n        income: route === 'US_account' ? US_income : income,\n        sale_cost: route === 'US_account' ? US_sale_cost　:　sale_cost,\n        sale_date: sale_date,\n        sale_price: salePrice,\n        sale_sheet: saleSheet,\n        status: \"sale\"\n      });\n  },\n\n  async getAccount(){\n    let accountData = [];\n    let getAccountRef = firebase.database().ref(`/account_data/${settings.user_id}/${settings.country}/account_summary` );\n      await getAccountRef.once('value').then((snapshot) => {\n        accountData = snapshot.val();\n    });\n    return accountData;\n  },\n\n  async getAccountRecord(){\n    let accountRecord = [];\n    let getAccountRef = firebase.database().ref(`/account_data/${settings.user_id}/${settings.country}/account_record` );\n    await getAccountRef.once('value').then((snapshot) => {\n      snapshot.forEach(element => {\n        accountRecord.unshift(element.val());\n      });\n    });\n\n    return accountRecord;\n  },\n\n  async tradeForAccount(transferInfo, whichAccount){\n    let accountData = [];\n    let transfer_price = 0;\n    let date = d.dateFormat(new Date());\n    let timestamp = Math.floor(Date.now() / 1000);\n    let getRefOfAccount = firebase.database().ref(`/account_data/${settings.user_id}/${settings.country}/account_summary` );\n    let getRefOfAccountRecord = firebase.database().ref(`/account_data/${settings.user_id}/${settings.country}/account_record` );\n\n    await getRefOfAccount.once('value').then((snapshot) => {\n        accountData = snapshot.val();\n    });\n    if(transferInfo.transferStatus === \"transferOut\"){\n      transfer_price = whichAccount === 'Taiwan_account' ? parseInt(transferInfo.price) * -1 : parseFloat(transferInfo.price) * -1;\n    }else{\n      transfer_price = whichAccount === 'Taiwan_account' ? parseInt(transferInfo.price) : parseFloat(transferInfo.price);\n    }\n    let money = ((whichAccount === 'Taiwan_account' ? parseInt(accountData.accountMoney) : parseFloat(accountData.accountMoney)) + transfer_price);\n    let stock = (whichAccount === 'Taiwan_account' ? parseInt(accountData.accountStock) : parseFloat(accountData.accountStock));\n    let summary = money + stock;\n\n    await getRefOfAccount.update({\n      accountMoney: money.toFixed(0),\n      accountStock: stock.toFixed(0),\n      summary: summary.toFixed(0)\n    });\n\n    await getRefOfAccountRecord.child(timestamp.toString()).set({\n      timestamp: timestamp,\n      account_record_Money: money.toFixed(0),\n      account_record_Stock: stock.toFixed(0),\n      source: transferInfo.source,\n      transfer: transferInfo.price,\n      transferStatus: transferInfo.transferStatus === \"transferIn\" ? '轉出': '存入',\n      transferTime: date,\n    })\n    return ;\n\n  },\n  async updateAccountRecord(stockInfo, sale, route){\n    let timestamp = Math.floor(Date.now() / 1000);\n    let transfer_date = d.dateFormat(new Date())\n    let accountData = [];\n    let getRefOfAccount = firebase.database().ref(`/account_data/${settings.user_id}/${settings.country}/account_summary` );\n    await getRefOfAccount.once('value').then((snapshot) => {\n      accountData = snapshot.val();\n    });\n    let money = 0;\n    let stock = 0;\n    let cost = 0;\n    let salePrice = 0;\n    const isDayTrading = stockInfo.date == d.dateFormat(new Date());\n    if(route !== \"US_account\") {\n      if (sale) {\n        salePrice = Math.round(stockInfo.price * 1000 * stockInfo.sheet) - Math.floor(stockInfo.price * 1000 * stockInfo.sheet * 0.001425) - Math.floor(stockInfo.price * 1000 * stockInfo.sheet * (isDayTrading ? 0.5 : 1) * 0.003);\n        money = parseInt(accountData.accountMoney) + salePrice;\n        stock = parseInt(accountData.accountStock) - stockInfo.cost;\n      } else {\n        cost = Math.round(stockInfo.price * 1000 * stockInfo.sheet) + Math.floor(stockInfo.price * 1000 * stockInfo.sheet * 0.001425);\n        money = parseInt(accountData.accountMoney) - cost;\n        stock = parseInt(accountData.accountStock) + cost;\n      }\n    }else{\n      if (sale) {\n        salePrice =  parseFloat(stockInfo.price) * parseFloat(stockInfo.sheet);\n        cost = parseFloat(stockInfo.cost);\n        money = parseFloat(accountData.accountMoney) + parseFloat(salePrice);\n        stock = parseFloat(accountData.accountStock) - cost;\n      } else{\n        cost = parseFloat(stockInfo.price) * parseFloat(stockInfo.sheet);\n        money = parseFloat(accountData.accountMoney) - cost;\n        stock =  parseFloat(accountData.accountStock) + cost;\n      }\n    }\n    money = parseFloat(money.toFixed(2));\n    stock = parseFloat(stock.toFixed(2));\n    await getRefOfAccount.update({\n      accountMoney: money,\n      accountStock: stock,\n      summary: (money + stock).toFixed(2)\n    });\n\n    let getRefOfAccountRecord = firebase.database().ref(`/account_data/${settings.user_id}/${settings.country}/account_record` );\n    await getRefOfAccountRecord.child(timestamp.toString()).set({\n      timestamp: timestamp,\n      account_record_Money: money,\n      account_record_Stock: stock,\n      source: '股票',\n      transfer: sale ? salePrice : cost,\n      transferTime: transfer_date,\n      transferStatus: sale ? '轉出' : '存入'\n    });\n\n    return ;\n  },\n\n  async getLastYearROI(items){\n    let accountInfo  = await this.getAccount();\n    let summary = parseInt(accountInfo.summary);\n    let lastYearStartDate = d.dateFormat(new Date(new Date().getFullYear() - 1,0,1));\n    let lastYearEndDate = d.dateFormat(new Date(new Date().getFullYear() - 1,11,31));\n    let thisYearStartDate = d.dateFormat(new Date(new Date().getFullYear(),0,1));\n    let thisYearEndDate = d.dateFormat(new Date(new Date().getFullYear(),11,31));\n    let lastYearItems = items.filter(a => (lastYearStartDate <= a.sale_date && a.sale_date <= lastYearEndDate));\n    let thisYearItems = items.filter(a => (thisYearStartDate <= a.sale_date && a.sale_date <= thisYearEndDate));\n    let incomeOfLastYear = 0;\n    let incomeOfThisYear = 0;\n    let inAccountOfThisYear = 0;\n    for (let item in lastYearItems) {\n      incomeOfLastYear += lastYearItems[item].income;\n    }\n    for (let item in thisYearItems) {\n      incomeOfThisYear += thisYearItems[item].income;\n    }\n    let accountRecords  = await this.getAccountRecord();\n    let thisYearAccountRecords = accountRecords.filter(a => (thisYearStartDate <= a.transferTime && a.transferTime <= thisYearEndDate));\n    for (let record in thisYearAccountRecords) {\n      inAccountOfThisYear += thisYearAccountRecords[record].source !== '股票' ? parseInt(thisYearAccountRecords[record].transfer) : 0;\n    }\n    let ROI = (incomeOfLastYear/(summary - incomeOfThisYear - inAccountOfThisYear));\n    return ROI.toFixed(4)\n  }\n};\n\nexport default api;","import React, {Component} from 'react';\nimport browserUtils from \"../../utils/browserUtils\";\nimport api from \"../../api/api\";\nimport \"react-datepicker/dist/react-datepicker.css\";\n\nconst initialState = {\n  date: new Date(),\n  price: '',\n  transferStatus: 'transferIn',\n  source: ''\n};\n\nexport default class AccountTransfer extends Component {\n  constructor(props) {\n    super(props);\n    this.state = initialState;\n  }\n\n  componentDidMount() {\n  }\n\n  inputSource = source => {\n    this.setState({\n      source\n    })\n  };\n\n  submitTrade = () => {\n    const {price, transferStatus, source} = this.state;\n    const {whichAccount} = this.props;\n    if (transferStatus && source && !isNaN(price)) {\n      let self = this.props;\n\n      const transferInfo = {price: price, transferStatus: transferStatus, source: source};\n      api.tradeForAccount(transferInfo, whichAccount).then(() => {\n        self.callback(whichAccount);\n      });\n      this.setState({\n        'price': '',\n        'source': ''\n      });\n    } else {\n      return alert('不許有任何一個為空');\n    }\n  };\n\n  getStyleOfButton = () =>{\n    if(browserUtils.isMobile()){\n      return {\n        margin: '4px  0px'\n      }\n    }else{\n      return {\n        margin: '0px  0px'\n      }\n    }\n  };\n\n  handleChange = (price) => {\n    this.setState({price: price});\n  };\n\n  getTransferOptions = (e) => this.setState({transferStatus: e.target.value});\n\n\n  render() {\n    return (\n      <div style={{margin: '5px 5px'}}>\n        <div className=\"form-row\">\n          <div className=\"col\">\n            <input type=\"text\" className=\"form-control\" placeholder=\"金額\"\n                   onChange={(c) => this.handleChange(c.target.value)} value={this.state.price}/>\n          </div>\n          <div className=\"from-group col-md-2 input-sale-frame\">\n            <input type=\"text\" className=\"form-control\" placeholder=\"來源\"\n                   onChange={(c) => this.inputSource(c.target.value)} value={this.state.source}/>\n          </div>\n          <div className=\"btn-group btn-group-toggle from-group col-md-2\" data-toggle=\"buttons\"\n               style={{...this.getStyleOfButton()}}>\n            <label className=\"btn btn-warning active\" onClick={this.getTransferOptions}>\n              <input type=\"radio\" name=\"stockOption\" id=\"individual\" value='transferIn' autoComplete=\"off\"/> 存入\n            </label>\n            <label className=\"btn btn-warning\" onClick={this.getTransferOptions}>\n              <input type=\"radio\" name=\"stockOption\" id=\"mutual\" value='transferOut' autoComplete=\"off\"/> 轉出\n            </label>\n          </div>\n          <button style={{borderRadius: '5px', margin: 'auto 5px'}} className=\"btn btn-primary from-group col-md-2 input-sale-frame\" type=\"submit\"\n                  onClick={this.submitTrade}>確認送出\n          </button>\n        </div>\n      </div>\n    )\n  }\n}\n","import React, {Component} from 'react';\nimport Record from './record'\nimport AccountTransfer from './AccountTransfer'\nimport './account.css'\nimport api from '../../api/api'\nimport browserUtils from \"../../utils/browserUtils\";\nimport settings from \"../settings/settings\";\n\nconst initialState = {\n  acTime: '',\n  acMoney: '',\n  acStock: '',\n  acSummary: '',\n  records:[],\n  usRecords:[],\n  whichAccount: 'Taiwan_account',\n  isAssetTransfer: false\n};\n\nexport default class Account extends Component {\n  constructor(props) {\n    super(props);\n    this.state = initialState;\n  }\n\n  componentDidMount() {\n    const {whichAccount} = this.state\n    this.updateAccount(whichAccount);\n  }\n\n  updateAccount = (whichAccount = 'Taiwan_account') =>{\n    api.getAccount().then((data)=> {\n      if(whichAccount === 'Taiwan_account') {\n        this.setState({\n          acTime: data.accountTime,\n          acMoney: data.accountMoney,\n          acStock: data.accountStock,\n          acSummary: data.summary,\n        });\n        api.getAccountRecord().then((data)=>{\n          this.setState({records:data})\n        });\n      }else{\n        this.setState({\n          acTime: data.accountTime,\n          acMoney: data.accountMoney,\n          acStock: data.accountStock,\n          acSummary: data.summary,\n        });\n      }\n      api.getAccountRecord().then((data)=>{\n        this.setState({usRecords:data})\n      });\n      });\n  };\n  selectAccount = account => {\n    if(account === 'Taiwan_account')\n      settings.country = 'tw';\n    else {\n      settings.country = 'us';\n    }\n    this.setState({whichAccount: account, records:[], usRecords:[]}, () => this.updateAccount(account))\n  };\n\n  isAssetTransfer = status => this.setState({isAssetTransfer:status});\n\n  render() {\n    const {acTime, acMoney, acStock, acSummary, records, usRecords, whichAccount, isAssetTransfer} = this.state;\n    return (\n      <div>\n        <nav>\n          <div className=\"nav nav-tabs\" id=\"nav-tab\" role=\"tablist\">\n            <a className=\"nav-item nav-link active\" style={{width: '100%'}} id=\"nav-home-tab\" data-toggle=\"tab\" href=\"#nav-home\" role=\"tab\"\n               aria-controls=\"nav-home\" aria-selected=\"true\" onClick={() => this.selectAccount('Taiwan_account')}>台股資產</a>\n            {/* <a className=\"nav-item nav-link\"  style={{width: '50%'}} id=\"nav-profile-tab\" data-toggle=\"tab\" href=\"#nav-profile\" role=\"tab\"\n               aria-controls=\"nav-profile\" aria-selected=\"false\" onClick={() => this.selectAccount('US_account')}>美股資產</a> */}\n          </div>\n        </nav>\n        <div className=\"tab-content\" id=\"nav-tabContent\">\n          <div className=\"tab-pane fade show active\" id=\"nav-home\" role=\"tabpanel\" aria-labelledby=\"nav-home-tab\">\n            {browserUtils.isMobile() && !isAssetTransfer && <button className=\"btn btn-warning from-group col-md-2 input-sale-frame\" type=\"submit\" onClick={() => this.isAssetTransfer(true)}>資產轉移</button>}\n            {browserUtils.isMobile() && !isAssetTransfer  && <button className=\"btn btn-secondary from-group col-md-2 input-sale-frame\" type=\"submit\" onClick={() => this.isAssetTransfer(false)}>隱藏</button>}\n            {isAssetTransfer && <AccountTransfer whichAccount={whichAccount} callback={this.updateAccount}/>}\n            {!browserUtils.isMobile() && <AccountTransfer whichAccount={whichAccount} callback={this.updateAccount}/>}\n            <div className=\"container\">\n              <table className=\"table table-striped\">\n                <thead>\n                <tr>\n                  <th>創建時間</th>\n                  <th>帳戶金額</th>\n                  <th>股票帳戶</th>\n                  <th>總金額</th>\n                </tr>\n                </thead>\n                <tbody>\n                <tr>\n                  <td>{acTime}</td>\n                  <td>{parseFloat(acMoney).toFixed(0)}</td>\n                  <td>{parseFloat(acStock).toFixed(0)}</td>\n                  <td>{parseFloat(acSummary).toFixed(0)}</td>\n                </tr>\n                </tbody>\n              </table>\n            </div>\n            <div className=\"table-responsive\">\n              <table className=\"table\">\n                <thead>\n                <tr>\n                  <th scope=\"col\">#</th>\n                  <th scope=\"col\">帳戶金額</th>\n                  <th scope=\"col\">股票金額</th>\n                  <th scope=\"col\">金額(含損益)</th>\n                  <th scope=\"col\">狀態</th>\n                  <th scope=\"col\">時間</th>\n                  <th scope=\"col\">來源</th>\n                </tr>\n                </thead>\n                <tbody>\n                {\n                  records&&records.map((record, index) => (\n                    <Record ket={index} record={record} index={index}/>\n                  ))\n                }\n                </tbody>\n              </table>\n            </div>\n          </div>\n          <div className=\"tab-pane fade\" id=\"nav-profile\" role=\"tabpanel\" aria-labelledby=\"nav-profile-tab\">\n            {browserUtils.isMobile() && !this.state.isAssetTransfer && <button className=\"btn btn-warning from-group col-md-2 input-sale-frame\" type=\"submit\" onClick={() => this.isAssetTransfer(true)}>資產轉移</button>}\n            {browserUtils.isMobile() && this.state.isAssetTransfer  && <button className=\"btn btn-secondary from-group col-md-2 input-sale-frame\" type=\"submit\" onClick={() => this.isAssetTransfer(false)}>隱藏</button>}\n            {isAssetTransfer && <AccountTransfer whichAccount={whichAccount} callback={this.updateAccount}/>}\n            {!browserUtils.isMobile() && <AccountTransfer whichAccount={whichAccount} callback={this.updateAccount}/>}\n            <div className=\"container\">\n              <table className=\"table table-striped\">\n                <thead>\n                <tr>\n                  <th>創建時間</th>\n                  <th>帳戶金額($)</th>\n                  <th>股票帳戶($)</th>\n                  <th>總金額($)</th>\n                </tr>\n                </thead>\n                <tbody>\n                <tr>\n                  <td>{acTime}</td>\n                  <td>{acMoney}</td>\n                  <td>{acStock}</td>\n                  <td>{acSummary}</td>\n                </tr>\n                </tbody>\n              </table>\n            </div>\n            <div className=\"table-responsive\">\n              <table className=\"table\">\n                <thead>\n                <tr>\n                  <th scope=\"col\">#</th>\n                  <th scope=\"col\">帳戶金額</th>\n                  <th scope=\"col\">股票金額</th>\n                  <th scope=\"col\">金額(含損益)</th>\n                  <th scope=\"col\">狀態</th>\n                  <th scope=\"col\">時間</th>\n                  <th scope=\"col\">來源</th>\n                </tr>\n                </thead>\n                <tbody>\n                {/* {\n                  usRecords && usRecords.map((record, index) => (\n                    <Record ket={index} record={record} index={index}/>\n                  ))\n                } */}\n                </tbody>\n              </table>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","export default {\n  logOutButton: {\n    backgroundColor: '#ef5959',\n    color: '#ffffff',\n    borderRadius: '5px',\n    padding: '5px 10px',\n    margin: '0px 5px',\n    fontSize: '18px',\n    ':hover': {\n      backgroundColor: '#ef0f0f',\n    }\n  },\n  logOutButtonMobile:{\n    backgroundColor: '#ef5959',\n    color: '#ffffff',\n    borderRadius: '5px',\n    padding: '5px 10px',\n    fontSize: '18px',\n    ':hover': {\n      backgroundColor: '#ef0f0f',\n    }\n  },\n  report: {\n    display: 'flex',\n    alignItems: 'center'\n  },\n  reportMobile: {\n    width: '100%'\n  },\n  reportFormat: {\n    display: 'flex',\n  },\n  reportFormatMobile: {\n    display: 'flex',\n    justifyContent: 'space-between'\n  }\n}","import React, {Component} from 'react';\nimport browserUtils from '../../utils/browserUtils';\nimport styles from './style';\nimport {FormGroup, FormControlLabel, Switch} from '@mui/material'\nexport default class Navbar extends Component {\n  componentDidMount() {}\n\n  getActiveStyle = () =>{\n    if(browserUtils.isMobile()){\n      return {\n        fontSize: '16px',\n        marginTop: '5px',\n        background:'rgb(232 232 232)',\n        borderRadius: '10px'\n      }\n    } else {\n      return {\n        fontSize: '16px',\n        cursor: 'pointer',\n        background: 'rgb(232 232 232)',\n        borderRadius: '10px'\n      }\n    }\n  };\n\n  getComputeStyleForMobile = () =>{\n    if(browserUtils.isMobile()){\n      return {\n        flexBasis: '100%',\n        flexGrow: '1',\n        alignItems: 'center',\n        color:'#ed2a2a',\n        fontSize:'16px',\n        fontWeight:'bold'\n      }\n    }else{\n      return {\n        color:'#ed2a2a',\n        fontSize:'18px',\n        fontWeight:'bold'\n      }\n    }\n  };\n\n  render() {\n    const {saleCost, profitAndLoss, profit, totalCost ,route, changeRoute, logOutCallBack, lastYearROI, isMerge} = this.props;\n    const isMobile = browserUtils.isMobile();\n\n    return (\n      <div>\n        <nav className=\"navbar navbar-expand-md navbar-light \" style={{backgroundColor: 'rgb(52 149 220)', cursor: 'pointer'}}>\n          <div className=\"navbar-brand\"  style={route === 'Taiwan_account' ? {...this.getActiveStyle(), padding: '5px'} : {}} onClick={e => changeRoute('Taiwan_account')}>台灣股票</div>\n          <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarCollapse\"\n                  aria-controls=\"navbarCollapse\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n            <span className=\"navbar-toggler-icon\"></span>\n          </button>\n          <div className=\"collapse navbar-collapse\" id=\"navbarCollapse\">\n            <ul className=\"navbar-nav mr-auto\">\n              <li className={`nav-item`} data-toggle=\"collapse\" data-target=\".navbar-collapse.show\" style={route === 'Taiwan_history' ? this.getActiveStyle() : {}}>\n                <div className=\"nav-link\"  onClick={e => changeRoute('Taiwan_history')}>台股歷史紀錄 <span className=\"sr-only\"></span></div>\n              </li>\n              {/* <li className=\"nav-item\" data-toggle=\"collapse\" data-target=\".navbar-collapse.show\" style={route === 'US_account' ? this.getActiveStyle() : {}} >\n                <div className=\"nav-link\"　style={{color: '#e91e63'}} onClick={e => changeRoute('US_account')} >美股證卷</div>\n              </li> */}\n              <li className=\"nav-item\" data-toggle=\"collapse\" data-target=\".navbar-collapse.show\" style={route === 'account' ? this.getActiveStyle() : {}} >\n                <div className=\"nav-link\"　onClick={e => changeRoute('account')} >我的帳戶</div>\n              </li>\n              <li className=\"nav-item\" data-toggle=\"collapse\" data-target=\".navbar-collapse.show\" style={route === 'twChart' ? this.getActiveStyle() : {}} >\n                <div className=\"nav-link\"　onClick={e => changeRoute('twChart')} >損益圖表</div>\n              </li>\n              {route === 'Taiwan_account' && <FormGroup>\n                <FormControlLabel control={<Switch checked={isMerge} onChange={() => this.props.handleMerge()} color=\"warning\"/>} label=\"股票統整\" />\n              </FormGroup>}\n              {isMobile &&<li className=\"nav-item\"  data-toggle=\"collapse\" data-target=\".navbar-collapse.show\" style={{marginTop: '5px'}}>\n                <div className=\"nav-link\"　style={styles.logOutButtonMobile} onClick={() => logOutCallBack()} >登出</div>\n              </li>}\n            </ul>\n          </div>\n          <div style={{display: 'inherit',...this.getComputeStyleForMobile()}}>\n          {(route === 'Taiwan_history' || route === 'US_account') && <div style={isMobile ? styles.reportMobile : styles.report}>\n          <div style={isMobile ?　styles.reportFormatMobile : styles.reportFormat}><div>投入成本:</div><div>{saleCost.toFixed(2)}元</div></div>\n          <div style={isMobile ?　styles.reportFormatMobile : styles.reportFormat}><div>總損益:</div> <div>{profitAndLoss.toFixed(2)}元</div></div>\n          <div style={isMobile ?　styles.reportFormatMobile : styles.reportFormat}><div>投報率:</div> <div>{profit}%</div></div>\n          <div style={isMobile ?　styles.reportFormatMobile : styles.reportFormat}><div>去年投報率:</div> <div>{lastYearROI}%</div></div>\n          </div>}\n          </div>\n          <div style={{ padding: '5px 0px',...this.getComputeStyleForMobile()}}>\n            {(route === 'Taiwan_account' || route === 'US_account') && <div style={isMobile ?　styles.reportFormatMobile : styles.reportFormat}><div>目前投入總成本:</div><div> {totalCost.toFixed(2)}元</div></div>}\n          </div>\n          {!isMobile && <div style={styles.logOutButton} onClick={() => logOutCallBack()}>登出</div>}\n        </nav>\n      </div>\n    )\n  }\n}\n","import React, {Component} from 'react';\nimport utils from \"./../utils/dateFormat\";\nimport api from './../api/api'\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport browserUtils from \"./../utils/browserUtils\";\n\nconst initialState = {\n  'date': new Date(),\n  'name': '',\n  'number': '',\n  'code_name':'',\n  'price': '',\n  'sheet': '',\n  'datePickerDate': new Date()\n};\n\nexport default class Input extends Component {\n  constructor(props) {\n    super(props);\n    this.state = initialState;\n  }\n\n  componentDidMount() {\n    this.setState({date: utils.dateFormat(new Date()), datePickerDate: utils.dateFormat(new Date())})\n  }\n\n  inputDate = date => {\n    this.setState({\n      date\n    })\n  };\n\n  inputName = name => {\n    this.setState({\n      name\n    })\n  };\n\n  inputNumber = number => {\n    this.setState({\n      number\n    })\n  };\n\n  inputPrice = price => {\n    this.setState({\n      price\n    })\n  };\n\n  inputSheet = sheet => {\n    this.setState({\n      sheet\n    })\n  };\n\n  submitStock = route => {\n    const {date, name, number, price, sheet} = this.state;\n    if (date && name && number && !isNaN(price) && !isNaN(sheet)) {\n      const stockInfo = {'date': date, 'name': name, 'number': number, 'price': price, 'sheet': sheet};\n      api.updateAccountRecord(stockInfo, false, route);\n      this.props && this.props.callback(stockInfo);\n      this.setState({\n        'name': '',\n        'number': '',\n        'price': '',\n        'sheet': ''\n      })\n    } else {\n      return alert('不許有任何一個為空');\n    }\n  };\n\n  handleChange = (date) => {\n    this.setState({date: date, datePickerDate: date})\n  };\n\n  render() {\n    const {datePickerDate} = this.state;\n    const {route} = this.props;\n    const isMobile = browserUtils.isMobile();\n    return (\n      <div style={{margin: isMobile ?  '5px 5px 0px 5px' : '5px'}}>\n        <div className=\"form-row\">\n          <div className=\"col-md-2\">\n            <input type=\"date\" className=\"form-control\" placeholder=\"日期\"\n                   onChange={(c) => this.handleChange(c.target.value)} value={datePickerDate}/>\n          </div>\n          <div className=\"from-group col-md-2 input-sale-info-frame\">\n            <input type=\"text\" className=\"form-control\" placeholder=\"股票名稱\"\n                   onChange={(c) => this.inputName(c.target.value)} value={this.state.name} autoComplete=\"on\"/>\n          </div>\n          <div className=\"from-group col-md-2 input-sale-info-frame\">\n            <input type=\"text\" className=\"form-control\" placeholder={route === 'US_account' ?  \"美股代號\" : \"編號\" }\n                   onChange={(c) => this.inputNumber(c.target.value)} value={this.state.number} autoComplete=\"on\"/>\n          </div>\n          <div className=\"from-group col-md-2 input-sale-info-frame\">\n            <input type=\"text\" className=\"form-control\" placeholder=\"單價\"\n                   onChange={(c) => this.inputPrice(c.target.value)} value={this.state.price} autoComplete=\"on\"/>\n          </div>\n          <div className=\"from-group col-md-2 input-sale-info-frame\">\n            <input type=\"text\" className=\"form-control\" placeholder={route === 'US_account' ?  \"股數\" : \"張數\" }\n                   onChange={(c) => this.inputSheet(c.target.value)} value={this.state.sheet} autoComplete=\"on\"/>\n          </div>\n          <button className=\"btn btn-primary from-group col-md-2 input-sale-frame\" type=\"submit\"\n                  onClick={() => this.submitStock(route)}>確認買入\n          </button>\n        </div>\n      </div>\n    )\n  }\n}\n","import React, {Component} from 'react';\n\nconst initialState = {\n};\n\nexport default class Stock extends Component {\n  constructor(props) {\n    super(props);\n    this.state = initialState;\n  }\n\n  componentDidMount() {\n  }\n\n  updateStockStatus = () => {\n    const {stock} = this.props;\n    const salePrice = parseInt(this.price.value);\n    if((stock.sheet < this.sheet.value) || isNaN(salePrice) || !salePrice )\n      alert('賣出張數錯誤');\n    else{\n      this.props.stockSaleCallback(this.price.value,this.sheet.value,stock);\n      this.price.value = '';\n      this.sheet.value = '';\n    }\n  };\n\n  deleteStock = () => {\n    const {stock} = this.props;\n    this.props.delete(stock.timestamp);\n  };\n\n  isFloat = (n) => {\n    return Number(n) === n && n % 1 !== 0;\n  }\n\n  render() {\n    const {stock, saleStatus, index, route, isMerge} = this.props;\n    const averagePrice = stock.price*1.001425.toFixed(2);\n    const handlingFee = stock.price*1000*stock.sheet*0.001424 < 20 ? 20 : Math.round(stock.price*1000*stock.sheet*0.001424);\n \n    return (\n        <tr>\n          <th scope=\"row\">{index}</th>\n          {isMerge === false && !this.props.hideFiled && <td key={index}>\n            {<button type=\"button\" className=\"btn btn-info\" data-toggle=\"modal\" data-target={`#modal-${index}`}>賣出</button>}\n            <div>\n              <div className=\"modal fade\" id={`modal-${index}`} tabIndex=\"-1\" role=\"dialog\"\n                   aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n                <div className=\"modal-dialog\" role=\"document\">\n                  <div className=\"modal-content\">\n                    <div className=\"modal-header\">\n                      <h5 className=\"modal-title\" style={{color:'black'}} id=\"exampleModalLabel\">賣出資訊</h5>\n                      <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                        <span aria-hidden=\"true\">&times;</span>\n                      </button>\n                    </div>\n                    <div className=\"modal-body\">\n                      <div className=\"form-group\">\n                        <h5 style={{ color: 'black', textAlign: 'left'}} key={'price' + index} htmlFor={`price-name-${index}`} className=\"col-form-label\">賣出單價:</h5>\n                        <input type=\"text\" className=\"form-control\"  id={`price-name-${index}`} ref={(input) => { this.price = input; }} />\n                      </div>\n                      <div className=\"form-group\">\n                        <h5 style={{ color: 'black', textAlign: 'left'}} key={'sheet' + index} htmlFor={`sheet-name-${index}`} className=\"col-form-label\">賣出張數:</h5>\n                        <input type=\"text\" className=\"form-control\" id={`sheet-name-${index}`}  ref={(input) => { this.sheet = input; }}/>\n                      </div>\n                    </div>\n                    <div className=\"modal-footer\">\n                      <button type=\"button\" className=\"btn btn-primary\"  data-dismiss=\"modal\" aria-label=\"Close\"onClick={ this.updateStockStatus}>確認{stock.name}</button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </td>}\n          {  (route ==='Taiwan_account'  && isMerge === false && stock.status === 'sale') && <td>{stock.sale_date}</td>}\n          {  (route ==='Taiwan_account'  && isMerge === false && stock.status === 'unsale')  && <td>{stock.date}</td>}\n          { route !=='Taiwan_account' && isMerge === false &&(saleStatus === 'all' || saleStatus === 'sale') && (stock.status === 'sale' ? <td>{stock.sale_date}</td> : <td></td>)}\n          { route !=='Taiwan_account' && isMerge === false &&(saleStatus === 'all' || saleStatus === 'unsale') && (stock.status === 'unsale' ? <td>{stock.date}</td>: <td>{stock.date}</td>)}\n          <td>{stock.name}</td>\n          <td>{stock.number}</td>\n          <td>{isMerge ? (averagePrice / (stock.sheet)).toFixed(2) : averagePrice }</td>\n          <td>{this.isFloat(stock.sheet) ? parseFloat(stock.sheet).toFixed(3) : stock.sheet}</td>\n          <td>{isMerge ? parseFloat(stock.cost - averagePrice * 1000).toFixed(0) : Math.floor(handlingFee)}</td>\n          <td>{Math.floor(stock.cost)}</td>\n          <td>{stock.status === \"unsale\" ? '未賣出' : '已賣出'}</td>\n          <td>{Math.floor(stock.sale_cost)}</td>\n          <td style={{ 'color': stock.income < 0 ? '#30ff30' : 'rgb(255 19 19)'}}>{Math.floor(stock.income)}</td>\n          { isMerge === false && <td>\n            <button type=\"button\" className=\"btn btn-danger\" onClick={this.deleteStock}>刪除</button>\n          </td> }\n        </tr>\n    )\n  }\n}\n","import React, {Component} from 'react';\nimport utils from \"./../utils/dateFormat\";\nimport browserUtils from \"./../utils/browserUtils\";\nimport \"./styles.css\";\n\nimport \"react-datepicker/dist/react-datepicker.css\";\nconst initialState = {\n  'startStandardDate': '',\n  'endStandardDate': '',\n  'dateRegion1': '',\n  'dateRegion2': '',\n  'saleStatus': 'all',\n  'stockStatus': 'individual'\n\n};\n\nexport default class InputRegion extends Component {\n  constructor(props) {\n    super(props);\n    this.state = initialState;\n  }\n\n  componentDidMount() {\n    this.setState({date: utils.dateFormat(new Date()),dateRegion1: utils.dateFormat(new Date()),dateRegion2: utils.dateFormat(new Date()), startStandardDate: utils.dateFormat(new Date()), endStandardDate: utils.dateFormat(new Date())})\n  }\n\n  queryRegion = (region = false) => {\n    const {dateRegion1, dateRegion2, saleStatus, stockStatus} = this.state;\n    let stockInfo = {};\n    let startDate = new Date();\n    let endDate = new Date();\n\n    if (region) {\n      if (region === 'yearAgo') {\n        const yearAgo = new Date().getFullYear() - 1\n        stockInfo = {\n          'dateRegion1': utils.dateFormat(new Date(yearAgo, 0, 1)),\n          'dateRegion2': utils.dateFormat(new Date(yearAgo, 11, 31)),\n          'saleStatus': saleStatus,\n          'stockStatus': stockStatus\n        };\n      } else if (region === 'thisYear') {\n        const yearAgo = new Date().getFullYear()\n        stockInfo = {\n          'dateRegion1': utils.dateFormat(new Date(yearAgo, 0, 1)),\n          'dateRegion2': utils.dateFormat(new Date(yearAgo, 11, 31)),\n          'saleStatus': saleStatus,\n          'stockStatus': stockStatus\n        };\n      } else {\n        startDate.setDate(startDate.getDate() - region);\n        endDate.setDate(endDate.getDate() + 1);\n        stockInfo = {\n          'dateRegion1': utils.dateFormat(startDate),\n          'dateRegion2': utils.dateFormat(endDate),\n          'saleStatus': saleStatus,\n          'stockStatus': stockStatus\n        };\n      }\n      return this.props && this.props.callback(stockInfo);\n    } else {\n      if (dateRegion1 && dateRegion2 && saleStatus && stockStatus) {\n        stockInfo = {\n          'dateRegion1': dateRegion1,\n          'dateRegion2': dateRegion2,\n          'saleStatus': saleStatus,\n          'stockStatus': stockStatus\n        };\n        this.props && this.props.callback(stockInfo);\n        this.setState({\n          'date': '',\n          'name': '',\n          'number': '',\n          'price': '',\n          'sheet': ''\n        })\n      } else {\n        return alert('不許有任何一個為空');\n      }\n    }\n  };\n\n  handleStartDateChange = (date) => this.setState({startStandardDate:date, dateRegion1: date});\n\n  handleEndDateChange = (date) => this.setState({endStandardDate:date, dateRegion2: date});\n\n  getSaleOptions = (e) => this.setState({saleStatus: e.target.value});\n\n  getStockOptions = (e) => this.setState({stockStatus: e.target.value});\n\n  getStyleOfButton = () =>{\n    if(browserUtils.isMobile()) {\n      return {\n        margin: '0px 0px',\n        paddingRight: '0px',\n        paddingLeft: '0px',\n        whiteSpace: 'nowrap'\n      }\n    }else{\n      return {\n        margin: '3px 5px',\n        paddingRight: '0px',\n        paddingLeft: '0px',\n        whiteSpace: 'nowrap'\n      }\n    }\n  };\n\n  render() {\n    const {startStandardDate, endStandardDate} = this.state;\n    const isMobile = browserUtils.isMobile();\n    return (\n      <div>\n          <div className=\"form-row\" style={{margin:'5px', overflowY: isMobile ? 'scroll' : 'unset'}}>\n            <button type=\"button\" className={\"btn btn-info from-group col-md-2\" + (isMobile ? ' show-all-stock-mobile' : ' show-all-stock')}  onClick={this.props.resetCallBack}>顯示全部 Stock </button>\n            <button type=\"button\"  className={\"btn btn-group btn-group-toggle\" + (isMobile ? ' from-group col-md-6' : ' from-group' +\n              ' col-md-2')} data-toggle=\"buttons\" style={{margin: '0px 10px', zIndex: 0, ...this.getStyleOfButton()}}>\n              <label className=\"btn btn-secondary active\" onClick={this.getSaleOptions}>\n                <input type=\"radio\" name=\"saleOption\" id=\"saleOption1\" value='all' autoComplete=\"off\" /> 全部\n              </label>\n              <label className=\"btn btn-secondary\" onClick={this.getSaleOptions}>\n                <input type=\"radio\" name=\"saleOption\" id=\"saleOption2\" value='sale' autoComplete=\"off\" /> 已賣出\n              </label>\n              <label className=\"btn btn-secondary\" onClick={this.getSaleOptions}>\n                <input type=\"radio\" name=\"saleOption\" id=\"saleOption3\" value='unsale'  autoComplete=\"off\" /> 未賣出\n              </label>\n            </button>\n            <div className={\"btn-group\" + (isMobile ? \" query-region-group-mobile\": \" query-region-group\")}  role=\"group\" aria-label=\"Basic outlined example\" style={{width : isMobile ? 'inherit' :'unset'}}>\n              <button type=\"button\" className=\"btn btn-outline-primary\" onClick={()=>this.queryRegion(0)} >Today</button>\n              <button type=\"button\" className=\"btn btn-outline-primary\"onClick={()=>this.queryRegion(7)}>前 7 日</button>\n              <button type=\"button\" className=\"btn btn-outline-primary\"onClick={()=>this.queryRegion(30)}>前 30 日</button>\n              <button type=\"button\" className=\"btn btn-outline-primary\"onClick={()=>this.queryRegion(120)}>前三月</button>\n              <button type=\"button\" className=\"btn btn-outline-primary\"onClick={()=>this.queryRegion('yearAgo')}>去年</button>\n              <button type=\"button\" className=\"btn btn-outline-primary\"onClick={()=>this.queryRegion('thisYear')}>今年</button>\n            </div>\n            <div style={{margin:'5px', float: 'left', display: 'flex', alignItems: 'center', width: browserUtils.isMobile() ? '100%' : 'auto'}}>\n                <div>起始區間:</div>\n                <div className=\"col\">\n                  <input type=\"date\" className=\"form-control\" placeholder=\"日期\" onChange={(c) => this.handleStartDateChange(c.target.value)} value={startStandardDate}/>\n                </div>\n            </div>\n            <div style={{margin:'5px', float: 'left', display: 'flex', alignItems: 'center', width: browserUtils.isMobile() ? '100%' : 'auto'}}>\n                <div>結束區間:</div>\n                <div className=\"col\">\n                  <input type=\"date\" className=\"form-control\" placeholder=\"日期\" onChange={(c) => this.handleEndDateChange(c.target.value)} value={endStandardDate}/>\n                </div>\n              </div>\n            <div className=\"btn-group btn-group-toggle from-group col-md-3\" data-toggle=\"buttons\" style={{margin: '0px 10px', zIndex: 0, ...this.getStyleOfButton()}}>\n              <label className=\"btn btn-warning active\" onClick={this.getStockOptions} >\n                <input type=\"radio\" name=\"stockOption\" id=\"individual\" value='individual' autoComplete=\"off\" /> 個別股\n              </label>\n              {/*<label className=\"btn btn-warning\" onClick={this.getStockOptions} >*/}\n              {/*  <input type=\"radio\" name=\"stockOption\" id=\"mutual\" value='mutual' autoComplete=\"off\" /> 共同股*/}\n              {/*</label>*/}\n            </div>\n            <button className={\"btn btn-primary query-region-submit \"+ (isMobile ? ' from-group col-md-3' : ' from-group col-md-1' +\n              ' query-region-submit') } onClick={()=>this.queryRegion('')}>查詢送出</button>\n          </div>\n      </div>\n    )\n  }\n}\n","import React, {Component} from 'react';\nimport Stock from './stock';\nimport InputRegion from \"../inputRegion\";\nimport browserUtils from \"../../utils/browserUtils\";\nconst initialState = {\n  allData:[],\n  allStocks:\"\",\n  isQueryOpen: false\n};\n\nexport default class Stocks extends Component {\n  constructor(props) {\n    super(props);\n    this.state = initialState;\n  }\n\n  componentDidMount() {\n    const allStocks = this.props;\n    if (allStocks) {\n      this.setState({allStocks: allStocks})\n    }\n  }\n\n  queryData = (stockInfo) => this.props.queryDataCallback(stockInfo);\n\n  isQueryOpen = status => this.setState({isQueryOpen:status});\n\n  getQueryStatus = () =>{\n    if(!browserUtils.isMobile()){\n      return true\n    }else{\n      return this.state.isQueryOpen;\n    }\n  };\n\n\n  render() {\n    const {allStocks, deleteCallback, queryDataCallback, saleStockCallback, resetCallBack, hideFiled, saleStatus, route, isMerge}= this.props;\n    const {isQueryOpen}= this.state;\n    const isMobile = browserUtils.isMobile();\n    const isShowQueryOption = route === 'Taiwan_history';\n\n    return (\n      <div>\n        {isShowQueryOption && !isQueryOpen && isMobile && <button style={{borderRadius: '0px'}} className=\"btn btn-success from-group col-md-2\" type=\"submit\" onClick={() => this.isQueryOpen(true)}>查詢時區</button>}\n        {isShowQueryOption && isQueryOpen && isMobile && <button style={{borderRadius: '0px'}} className=\"btn btn-secondary from-group col-md-2\" type=\"submit\" onClick={() => this.isQueryOpen(false)}>隱藏</button>}\n        {isShowQueryOption && this.getQueryStatus() && <InputRegion callback={queryDataCallback} resetCallBack={resetCallBack}/>}\n        <div style={{overflowY: browserUtils.isMobile() ? 'scroll' : 'unset'}}>\n        <table className=\"table table-dark\" style={{whiteSpace: 'nowrap'}}>\n          <thead>\n          <tr>\n            <th scope=\"col\">#</th>\n            {!hideFiled && isMerge === false &&<th scope=\"col\">賣出</th>}\n            { saleStatus !== 'all' &&((saleStatus === 'sale') ? <th scope=\"col\">賣出日期</th> : <th scope=\"col\">購買日期</th> )}\n            {(saleStatus === 'all' && route !== 'Taiwan_account') && <th scope=\"col\">賣出日期</th>}\n            { saleStatus === 'all'  && isMerge === false && <th scope=\"col\">購買日期</th>}\n            <th scope=\"col\">股票名稱</th>\n            <th scope=\"col\">編號</th>\n            <th scope=\"col\">平均單價</th>\n            <th scope=\"col\">張數</th>\n            <th scope=\"col\">手續費</th>\n            <th scope=\"col\">購買成本</th>\n            <th scope=\"col\">狀態</th>\n            <th scope=\"col\">賣出總價</th>\n            <th scope=\"col\">損益</th>\n            { isMerge === false &&<th scope=\"col\">刪除</th> }\n          </tr>\n          </thead>\n          <tbody>\n          {\n            (allStocks.length !== 0) && allStocks.map((stock, index) => (\n            <Stock hideFiled={hideFiled} saleStatus={saleStatus} key={stock.number+index} stock={stock} index={index+1} route={route} stockSaleCallback = {saleStockCallback} delete={index => deleteCallback(index)} isMerge = {isMerge}/>\n            ))\n          }\n          </tbody>\n        </table>\n      </div>\n      </div>\n    )\n  }\n}\n","import React, {Component} from 'react';\n\nconst initialState = {\n};\n\nexport default class Usstock extends Component {\n  constructor(props) {\n    super(props);\n    this.state = initialState;\n  }\n\n  componentDidMount() {\n  }\n\n  updateStockStatus = () => {\n    const {stock} = this.props;\n    const salePrice = parseFloat(this.price.value);\n    if((stock.sheet < this.sheet.value) || isNaN(salePrice) || !salePrice )\n      alert('賣出張數錯誤');\n    else{\n      this.props.stockSaleCallback(this.price.value,this.sheet.value,stock);\n      this.price.value = '';\n      this.sheet.value = '';\n    }\n  };\n\n  deleteStock = () => {\n    const {stock} = this.props;\n    this.props.delete(stock.timestamp);\n  };\n\n  render() {\n    const {stock, saleStatus, index} = this.props;\n    const averagePrice = stock.price;\n    return (\n        <tr>\n          <th scope=\"row\">{index}</th>\n          {!this.props.hideFiled && <td key={index}>\n            <button type=\"button\" className=\"btn btn-info\" data-toggle=\"modal\" data-target={`#modal-${index}`}>賣出</button>\n            <div>\n              <div className=\"modal fade\" id={`modal-${index}`} tabIndex=\"-1\" role=\"dialog\"\n                   aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\n                <div className=\"modal-dialog\" role=\"document\">\n                  <div className=\"modal-content\">\n                    <div className=\"modal-header\">\n                      <h5 className=\"modal-title\" style={{color:'black'}} id=\"exampleModalLabel\">賣出資訊</h5>\n                      <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\n                        <span aria-hidden=\"true\">&times;</span>\n                      </button>\n                    </div>\n                    <div className=\"modal-body\">\n                      <div className=\"form-group\">\n                        <h5 style={{ color: 'black', textAlign: 'left'}} key={'price' + index} htmlFor={`price-name-${index}`} className=\"col-form-label\">賣出單價:</h5>\n                        <input type=\"text\" className=\"form-control\"  id={`price-name-${index}`} ref={(input) => { this.price = input; }} />\n                      </div>\n                      <div className=\"form-group\">\n                        <h5 style={{ color: 'black', textAlign: 'left'}} key={'sheet' + index} htmlFor={`sheet-name-${index}`} className=\"col-form-label\">賣出張數:</h5>\n                        <input type=\"text\" className=\"form-control\" id={`sheet-name-${index}`}  ref={(input) => { this.sheet = input; }}/>\n                      </div>\n                    </div>\n                    <div className=\"modal-footer\">\n                      <button type=\"button\" className=\"btn btn-primary\"  data-dismiss=\"modal\" aria-label=\"Close\"onClick={ this.updateStockStatus}>確認{stock.name}</button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </td>}\n          { (saleStatus === 'US_all') && (stock.status === 'sale' ? <td>{stock.sale_date}</td> : <td></td>)}\n          { (saleStatus === 'US_all') && (stock.status === 'unsale' ? <td>{stock.date}</td>: <td>{stock.date}</td>)}\n          <td>{stock.name}</td>\n          <td>{stock.number}</td>\n          <td>{averagePrice}</td>\n          <td>{stock.sheet}</td>\n          <td>{stock.cost}</td>\n          <td>{stock.status === \"unsale\" ? '未賣出' : '已賣出'}</td>\n          <td>{stock.sale_cost}</td>\n          <td style={{ 'color': stock.income < 0 ? '#30ff30' : 'rgb(255 19 19)'}}>{stock.income}</td>\n          <td>\n            <button type=\"button\" className=\"btn btn-danger\" onClick={this.deleteStock}>刪除</button>\n          </td>\n        </tr>\n    )\n  }\n}\n","import React, {Component} from 'react';\nimport Stock from './stock';\n// import InputRegion from \"../inputRegion\";\nimport browserUtils from \"../../utils/browserUtils\";\nimport InputRegion from \"../inputRegion\";\nconst initialState = {\n  allData:[],\n  allStocks:\"\",\n  isQueryOpen: false\n};\n\nexport default class Usstocks extends Component {\n  constructor(props) {\n    super(props);\n    this.state = initialState;\n  }\n\n  componentDidMount() {\n    const allStocks = this.props;\n    if (allStocks) {\n      this.setState({allStocks: allStocks})\n    }\n  }\n\n  queryData = (stockInfo) => this.props.queryDataCallback(stockInfo);\n\n  isQueryOpen = status => this.setState({isQueryOpen:status});\n\n  getQueryStatus = () =>{\n    if(!browserUtils.isMobile()){\n      return true\n    }else{\n      return this.state.isQueryOpen;\n    }\n  };\n\n\n  render() {\n    const {allStocks, deleteCallback, UsInfo, hideFiled, saleStatus, route, saleStockCallback, queryDataCallback, resetCallBack}= this.props;\n    const {isQueryOpen}= this.state;\n    const isMobile = browserUtils.isMobile();\n    return (\n      <div>\n        {route === 'US_account' && !isQueryOpen && isMobile && <button style={{borderRadius: '0px',}} className=\"btn btn-success from-group col-md-2\" type=\"submit\" onClick={() => this.isQueryOpen(true)}>查詢時區</button>}\n        {route === 'US_account' && isQueryOpen && isMobile && <button style={{borderRadius: '0px'}} className=\"btn btn-secondary from-group col-md-2\" type=\"submit\" onClick={() => this.isQueryOpen(false)}>隱藏</button>}\n        {route === 'US_account' && this.getQueryStatus() && <InputRegion callback={queryDataCallback} resetCallBack={resetCallBack}/>}\n        <div style={{overflowY: browserUtils.isMobile() ? 'scroll' : 'unset'}}>\n        <table className=\"table table-dark\" style={{whiteSpace: 'nowrap'}}>\n          <thead>\n          <tr>\n            <th scope=\"col\">#</th>\n            {!hideFiled && <th scope=\"col\">賣出</th>}\n            { saleStatus === 'US_all' && <th scope=\"col\">賣出日期</th>}\n            { saleStatus === 'US_all'  && <th scope=\"col\">購買日期</th>}\n            <th scope=\"col\">股票名稱</th>\n            <th scope=\"col\">代號</th>\n            <th scope=\"col\">單價</th>\n            <th scope=\"col\">股數</th>\n            <th scope=\"col\">購買成本</th>\n            <th scope=\"col\">狀態</th>\n            <th scope=\"col\">賣出總價</th>\n            <th scope=\"col\">損益</th>\n            <th scope=\"col\">刪除</th>\n          </tr>\n          </thead>\n          <tbody>\n          {\n            (allStocks.length !== 0) && allStocks.map((stock, index) => (\n            <Stock hideFiled={hideFiled} UsInfo={UsInfo} saleStatus={saleStatus} key={stock.number+index} stock={stock} index={index+1} route={route}  stockSaleCallback = {saleStockCallback} delete={index => deleteCallback(index)}/>\n            ))\n          }\n          </tbody>\n        </table>\n      </div>\n      </div>\n    )\n  }\n}\n","export default {\n  wrapper: {\n    display: 'flex',\n    alignItems: 'center',\n    flexDirection: 'column',\n    justifyContent: 'center',\n    width: '100%',\n    minHeight: '100%',\n    padding: '20px',\n    position: 'absolute',\n    backgroundColor: 'rgba(0,0,0,0.7)',\n  },\n  frameContent: {\n    WebkitBorderRadius: '10px 10px 10px 10px',\n    borderRadius: '10px 10px 10px 10px',\n    background: '#fff',\n    padding: '0px',\n    width: '90%',\n    maxWidth: '450px',\n    position: 'fixed',\n    WebkitBoxShadow: '0 30px 60px 0 rgba(0,0,0,0.3)',\n    boxShadow: '0 30px 60px 0 rgba(0,0,0,0.3)',\n    textAlign: 'center',\n    border: '5px solid #2196f3',\n    top: '25%'\n  },\n  logIn: {\n    width: '75px',\n    height: '75px',\n    backgroundSize: '100%',\n    margin: '15px auto',\n    borderRadius: '50px',\n    backgroundColor: 'rgb(0 127 185 / 50%)',\n    position: 'relative',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    fontSize: '20px',\n    color: 'aliceblue',\n    cursor: 'pointer',\n    ':hover':{\n      backgroundColor: 'rgb(0 127 185 / 25%)',\n    }\n  },\n  register: {\n    width: '75px',\n    height: '75px',\n    backgroundSize: '100%',\n    margin: '15px auto',\n    borderRadius: '50px',\n    backgroundColor: 'rgb(232 88 78)',\n    position: 'relative',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    fontSize: '20px',\n    color: 'aliceblue',\n    cursor: 'pointer',\n    ':hover':{\n      backgroundColor: 'rgb(232 88 78 / 25%)',\n    }\n  },\n  logo: {\n    width: '75px',\n    height: '75px',\n    backgroundSize: '100%',\n    margin: '15px auto'\n  },\n  inputContent:{\n    textAlign: 'center',\n    textDecoration: 'none',\n    display: 'inline-block',\n    fontSize: '16px',\n    margin: '5px',\n    width: '93%',\n    padding: '10px 20px'\n  },\n  input:{\n    backgroundColor: '#f6f6f6',\n    color: '#0d0d0d',\n    padding: '10px 32px',\n    textDecoration: 'none',\n    display: 'inline-block',\n    fontSize: '16px',\n    margin: '5px',\n    width: '93%',\n    border: '2px solid #f6f6f6',\n  },\n  submit:{\n    backgroundColor: '#000000',\n    border: 'none',\n    color: 'white',\n    padding: '15px 20px',\n    textAlign: 'center',\n    textDecoration: 'none',\n    display: 'inline-block',\n    textTransform: 'uppercase',\n    fontSize: '13px',\n    opacity: 0.5,\n    margin: '20px',\n    width: '50%',\n    ':hover':{\n      opacity: 1,\n      backgroundColor: '#000000',\n      boxShadow: '#00000'\n    }\n  },\n  back:{\n    backgroundColor: '#ff990e',\n    border: 'none',\n    color: 'white',\n    padding: '15px 20px',\n    textAlign: 'center',\n    textDecoration: 'none',\n    display: 'inline-block',\n    textTransform: 'uppercase',\n    fontSize: '13px',\n    opacity: 0.5,\n    margin: '20px',\n    width: '50%',\n    ':hover':{\n      opacity: 1,\n      backgroundColor: '#ff990e',\n      boxShadow: '#00000'\n    }\n  },\n  forgetPWD:{\n    marginBottom: '20px'\n  }\n}","import React, {Component} from 'react';\nimport Radium from \"radium\";\n// Firebase App (the core Firebase SDK) is always required and must be listed first\nimport * as firebase from \"firebase/app\";\n// If you enabled Analytics in your project, add the Firebase SDK for Analytics\nimport \"firebase/analytics\";\nimport \"firebase/database\";\n// Add the Firebase products that you want to use\nimport styles from './styles'\nimport settings from './../settings/settings'\nimport utils from './../../utils/dateFormat'\nimport browserUtils from \"./../../utils/browserUtils\";\nconst initialState = {\n  email:'',\n  resetEmail:'',\n  password:'',\n  isLogIn: true,\n  error: false,\n  message: '',\n  isOpenForgetPWD: false\n};\n\nclass Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = initialState;\n  }\n  componentWillUnmount() {\n    window.document.removeEventListener('keydown', (function(e) {\n      if( e.keyCode === 13 ) this.loginSubmitWithKeydown();\n    }).bind(this));\n  }\n\n  componentDidMount() {\n    window.document.addEventListener('keydown', (function(e) {\n      if( e.keyCode === 13 ) this.loginSubmitWithKeydown();\n    }).bind(this));\n  }\n\n  loginSubmitWithKeydown =() => this.getStatusMethod();\n\n  getStatusMethod = ()=>{\n    return this.actionForSubmit(this.state.email, this.state.password);\n  }\n\n  logInSelect = status => this.setState({isOpenForgetPWD: false,isLogIn: status});\n\n  actionForSubmit = () =>{\n    const {email, password ,isLogIn} = this.state;\n    const self = this;\n    switch (isLogIn) {\n      case true:\n        return self.logInSubmit(email, password);\n      case false:\n        return self.registerSubmit(email, password);\n    }\n  };\n\n  logInSubmit = (email, password) =>{\n    const {logInCallBack, homePageCallBack} = this.props;\n    if(!email && !password ){\n      this.setState({error:true, message:'Please input email&password'});\n      setTimeout(() =>this.setState({error:false, message: ''}), 5000)\n      return ;\n    }\n    firebase.auth().signInWithEmailAndPassword(email, password)\n      .then((result) => {\n        var user = firebase.auth().currentUser;\n\n        if(user){\n          localStorage.setItem('account-stock', user.uid);\n          console.log('log in successfully');\n          settings.user_id = user.uid;\n          logInCallBack&&logInCallBack(user.uid);\n          homePageCallBack&&homePageCallBack();\n        }\n      })\n      .catch((error) => {\n        window.alert(error.message.toString())\n        this.setState({error:true, message: error.message})\n        setTimeout(() =>this.setState({error:false, message: ''}), 5000);\n        return ;\n      });\n  };\n\n  registerSubmit = (email, password) =>{\n    const {logInCallBack, homePageCallBack} = this.props;\n    if(!email && !password ){\n      this.setState({error:true, message:'Please input email&password'});\n      setTimeout(() =>this.setState({error: false, message: ''}), 5000);\n      return ;\n    }\n    let user = {\n      email: email,\n      pwd: password\n    };\n    firebase.auth().createUserWithEmailAndPassword(user.email, user.pwd)\n      .then(u => {\n        settings.user_id = u.user.uid;\n        firebase.database().ref(`/account_data/${u.user.uid}`).set({\n          \"tw\" : {\n            \"account_summary\" : {\n              \"accountMoney\" : 0,\n              \"accountStock\" : 0,\n              \"accountTime\" : utils.dateFormat(new Date()),\n              \"summary\" : 0\n            },\n            \"account_record\" : {},\n            \"stock_info\" :{}\n          },\n          \"us\" : {\n            \"account_summary\" : {\n              \"accountMoney\" : 0,\n              \"accountStock\" : 0,\n              \"accountTime\" : utils.dateFormat(new Date()),\n              \"summary\" : 0\n            },\n            \"account_record\" : {},\n            \"stock_info\" : {}\n          }\n        }).then(() => {\n          // 儲存成功後顯示訊息\n          localStorage.setItem('account-sstock', u.user.uid);\n          console.log('register successfully');\n          logInCallBack&&logInCallBack(u.user.uid);\n          homePageCallBack&&homePageCallBack();\n        });\n      }).catch(error => {\n      // 註冊失敗時顯示錯誤訊息\n      this.setState({exist: true, error:true, message: error.message.toString()});\n      window.alert(error.message.toString())\n      console.log('register failed');\n      return ;\n    });\n  }\n\n  setEmail = email => this.setState({email:email});\n\n  setPassword = password => this.setState({password:password});\n\n  openForgetPWD = () => this.setState({isOpenForgetPWD: true});\n\n  closeForgetPWD = () => this.setState({isOpenForgetPWD: false});\n\n  resetPWD = () =>{\n    const {resetEmail} = this.state;\n    const self = this;\n    const auth = firebase.auth();\n    auth.sendPasswordResetEmail(resetEmail).then(function() {\n      window.alert('已發送信件至信箱，請按照信件說明重設密碼');\n      self.closeForgetPWD();\n    }).catch(function(error) {\n      window.alert(error.message)\n    });\n  };\n\n  setResetEmail = (email) => this.setState({resetEmail: email})\n\n  render() {\n    const {isLogIn, isOpenForgetPWD} = this.state;\n    const isMobile = browserUtils.isMobile();\n\n    return (\n        <div style={styles.wrapper} >\n          <div className=\"fadeInDown\"  style={{ width: isMobile ? '80%' : '40%', display: 'flex', position: 'fixed', top: '5%'}}>\n            <div key='logIn' style={{...styles.logIn, border: isLogIn ? '3px solid white' : ''}} onClick={() => this.logInSelect(true)}>登入</div>\n            <div key='register' style={{...styles.register, border: isLogIn ? '' : '3px solid white' }} onClick={() => this.logInSelect(false)}>註冊</div>\n          </div>\n        <div className=\"fadeInDown\"  style={{...styles.frameContent, border: isLogIn ? '5px' +\n            ' solid #2196f3' : '5px solid rgb(232 88 78)'}}>\n          {!isOpenForgetPWD && <div>\n          <div className=\"fadeIn first\">\n            <div style={{...styles.logo, backgroundImage: 'url(' + require('./../../assets/img/logo.png') + ')'}}/>\n          </div>\n          <div style={{...styles.inputContent}}>\n            <input type=\"text\" style={styles.input} id=\"email\"  onChange={(c) => this.setEmail(c.target.value)} className=\"fadeIn second\" name=\"login\" placeholder=\"email\"/>\n            <input type=\"password\" style={styles.input} id=\"password\" onChange={(c) => this.setPassword(c.target.value)} className=\"fadeIn third\" name=\"login\" placeholder=\"password\"/>\n          </div>\n          <input style={{...styles.submit}}  type=\"submit\" className=\"fadeIn fourth\"\n                 value={isLogIn ? 'Log In' : 'Register' } onClick={this.actionForSubmit}/>\n          {isLogIn && <div id=\"formFooter\"  style={styles.forgetPWD} >\n            <a className=\"underlineHover\" href=\"#\" onClick={this.openForgetPWD} >Forgot Password?</a>\n          </div>}\n          </div>}\n          {isOpenForgetPWD &&\n          <div style={{...styles.inputContent}}>\n            <input type=\"text\" style={styles.input} id=\"email\"  onChange={(c) => this.setResetEmail(c.target.value)} className=\"fadeIn second\" name=\"login\" placeholder=\"email\"/>\n            <input key={'backToLogIn'} style={{...styles.back, margin: '5px', width: '45%'}}  onClick={this.closeForgetPWD} type=\"button\" className=\"fadeIn fourth\"\n                   value={'back'}/>\n            <input style={{...styles.submit, margin: '5px',  width: '45%'}}  type=\"submit\" className=\"fadeIn fourth\"\n                   value={'submit to mail'} onClick={this.resetPWD}/>\n          </div>}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Radium(Login)","import React, { Component, useEffect, useRef, useState } from \"react\";\nimport { render } from 'react-dom'\nimport Highcharts from 'highcharts'\nimport HighchartsReact from 'highcharts-react-official'\nimport { styled } from '@mui/material/styles';\n\nconst SummaryInfo = styled('div')`\n  display: flex;\n`\n\nconst ChartTitle = styled('div')`\n  margin:0px 5%;\n  width: 50%;\n  text-align: left;\n  font-size: 20px;\n  color: #6495ED;\t\n`\nconst ChartValue = styled('span')`\n  text-align: left;\n  font-size: 20px;\n  color: #FF0000;\t\n`\nconst ColumnChart = ({\n  chartInfo = {},\n  type,\n  dividend\n}) => {\n    // if(JSON.stringify(chartInfo) === '{}') \n    const [yearDividend, setYearDividend] = useState([]);\n\n    const chartComponentRef = useRef<HighchartsReact.RefObject>(null);\n    const options = {\n      chart:{\n        height: '70%',\n        type: 'column'\n      },\n      title: {\n        text: '年損益圖表'\n      },\n      xAxis: {\n        categories: chartInfo.yearCategories,\n        lineWidth: 1, \n      },\n      yAxis: [{ // Primary yAxis\n        lineWidth: 1,  \n        labels: {\n          format: '{value} 元',\n          style: {\n            color: Highcharts.getOptions().colors[1]\n          }\n        },\n        title: {\n          text: '台幣',\n          style: {\n            color: Highcharts.getOptions().colors[1]\n          }\n        }\n      },\n      \n    ],\n      series: [\n        { name: '損益',\n          type: 'column',  \n          data: chartInfo.yearValue,\n          tooltip: {\n            valueSuffix: ' 元'\n          }\n        },\n        { name: '股利',\n        type: 'column',  \n        data: yearDividend,\n        tooltip: {\n          valueSuffix: ' 元'\n        }\n      }\n      ],\n    }\n    const getSummary = () => Object.keys(chartInfo).length !== 0 && chartInfo.yearValue.reduce((previousValue, currentValue) => previousValue + currentValue.y, 0)\n    \n    useEffect(()=>{\n      if(JSON.stringify(chartInfo) === '{}') return \n      let _yearDividend = []\n      chartInfo.yearCategories.map((year)=>{\n        _yearDividend.push(dividend[year] ? dividend[year].reduce((allStockDividend, record)=>{\n            allStockDividend += Number(record.transfer)\n            return allStockDividend\n          }, 0) : 0)\n      })\n      setYearDividend(_yearDividend)\n    },[chartInfo])\n\n  return (<div style={{ height: '100vh' }}>\n    <SummaryInfo >\n    <ChartTitle>總損益: <ChartValue>{getSummary()}</ChartValue></ChartTitle>\n    </SummaryInfo>\n    <HighchartsReact\n        highcharts={Highcharts}\n        options={options}\n        usRef={chartComponentRef}\n    />\n    </div>)\n}\n\nexport default  ColumnChart","import React, { Component, useEffect, useRef, useState } from \"react\";\nimport { render } from \"react-dom\";\nimport Highcharts from \"highcharts\";\nimport HighchartsReact from \"highcharts-react-official\";\nimport { TextField, MenuItem } from \"@mui/material\";\nimport { styled } from \"@mui/material/styles\";\nconst Container = styled(\"div\")`\n  display: flex;\n`;\nconst ChartTitle = styled(\"div\")`\n  display: flex;\n  flex-basis: 30%;\n  margin: 0px 5%;\n  text-align: left;\n  font-size: 20px;\n  color: #6495ed;\n`;\nconst ChartValue = styled(\"span\")`\n  text-align: left;\n  font-size: 20px;\n  color: #ff0000;\n`;\n\nconst DropDownContainer = styled(\"div\")`\n  display: flex;\n  flex-grow: 1;\n`;\n\nconst StyledDiv = styled(\"div\")`\n  display: flex;\n  align-self: center;\n  font-size: 20px;\n  color: #6495ed;\n  &:after {\n    content: \"\\xa0\\xa0\";\n  }\n`;\n\nconst DualColumnChart = ({ chartInfo, type,  dividend }) => {\n  const [selectTimeRange, setSelectTimeRange] = useState(\"all\");\n  const [selectList, setSelectList] = useState([{value:'all', label: 'all'}]);\n  const [info, setInfo] = useState({ value: [], rate: [], date: [] });\n  const chartComponentRef = useRef < HighchartsReact.RefObject > null;\n\n  const handleChange = (e) => {\n    setSelectTimeRange(e.target.value);\n  };\n  const getSummary = () => {\n\n    if (!info.value) return;\n\n    if (info.value.length === 0) return;\n    let result = info.value.reduce(\n      (previousValue, currentValue) => previousValue + currentValue.y,\n      0\n    );\n    return result;\n  };\n  useEffect(() => {\n    if(JSON.stringify(chartInfo) === '{}') return\n    if(selectTimeRange !== 'all'){\n      setInfo({\n        value: chartInfo.monthValue.filter((item)=> new RegExp(`${selectTimeRange}`).test(item.date) && item),\n        rate: chartInfo.monthRate.filter((item)=> new RegExp(`${selectTimeRange}`).test(item.date) && item),\n        date: chartInfo.categories.filter((item)=> new RegExp(`${selectTimeRange}`).test(item) && item),\n      });\n    }else{\n      setInfo({\n        value: chartInfo.monthValue,\n        rate: chartInfo.monthRate,\n        date: chartInfo.categories,\n      });\n    }\n  }, [selectTimeRange]);\n\n  useEffect(() => {\n    setInfo({\n      value: chartInfo.monthValue,\n      rate: chartInfo.monthRate,\n      date: chartInfo.categories,\n    });\n  }, []);\n\n  useEffect(() => {\n    if(JSON.stringify(chartInfo) === '{}') return\n    let list = chartInfo.yearCategories && chartInfo.yearCategories.map((year) => {\n      return { value: year, label: year };\n    });\n    if(!list){\n      setSelectList(selectList)\n    }else{\n      setSelectList(selectList.concat(list))\n    }\n\n    setInfo({\n      value: chartInfo.monthValue,\n      rate: chartInfo.monthRate,\n      date: chartInfo.categories,\n    });\n  }, [chartInfo]);          \n\n  const options = {\n    chart: {\n      height: \"70%\",\n      type: \"column\",\n      alignTicks: true,\n    },\n    title: {\n      text: \"月損益圖表\",\n    },\n    xAxis: [\n      {\n        type: \"category\",\n        categories: info.date,\n      },\n      {\n        type: \"category\",\n        categories: info.date,\n        linkedTo: 0,\n        labels: {\n          enabled: false,\n        },\n        offset: 0,\n      },\n    ],\n    yAxis: [\n      { \n        softMax: info.value ? Math.max(...info.value.map(item => item.y)) : 0,\n        softMin: info.value ? Math.min(...info.value.map(item => item.y)) : 0,\n        lineWidth: 1,\n        gridLineWidth: 3,//Set this to zero\n        labels: {\n          format: \"{value} 元\",\n          style: {\n            color: Highcharts.getOptions().colors[1],\n          },\n        },\n        title: {\n          text: \"台幣\",\n          style: {\n            color: Highcharts.getOptions().colors[1],\n          },\n        },\n        opposite: false,\n      },\n      // { \n      //   softMax: info.rate ? Math.max(...info.rate.map(item => item.y)) : 0,\n      //   softMin: info.rate ? Math.min(...info.rate.map(item => item.y)) : 0,\n      //   title: {\n      //     text: \"投報率\",\n      //     style: {\n      //       color: Highcharts.getOptions().colors[1],\n      //     },\n      //   },\n      //   labels: {\n      //     format: \"{value} %\",\n      //     style: {\n      //       color: Highcharts.getOptions().colors[1],\n      //     },\n      //   },\n      //   opposite: false,\n      // },\n    ],\n    series: [\n      {\n        name: \"損益\",\n        data: info.value,\n        tooltip: {\n          valueSuffix: \" 元\",\n        },\n      },\n      // {\n      //   name: \"投報率\",\n      //   data: info.rate,\n      //   tooltip: {\n      //     valueSuffix: \" %\",\n      //   },\n      //   yAxis: 1,\n      // },\n    ]\n  };\n\n  return (\n    <div style={{ height: \"100vh\"}}>\n      <Container>\n        <ChartTitle>\n          總損益: <ChartValue>{getSummary()}</ChartValue>\n        </ChartTitle>\n        <DropDownContainer>\n          <StyledDiv>\n          {'選擇年份:'}\n          </StyledDiv>\n          <TextField\n            id=\"outlined-select-year\"\n            select\n            value={selectTimeRange}\n            onChange={handleChange}\n            sx={{\n              height:\"30px\",\n              width: '75%',\n              '& .MuiOutlinedInput-root':{\n                height:\"30px\",\n              }\n            }}\n          >\n            {selectList.map((option) => (\n              <MenuItem key={option.value} value={option.value}>\n                {option.label}\n              </MenuItem>\n            ))}\n          </TextField>\n        </DropDownContainer>\n      </Container>\n      <HighchartsReact\n        highcharts={Highcharts}\n        options={options}\n        usRef={chartComponentRef}\n      />\n    </div>\n  );\n};\n\nexport default DualColumnChart;\n","import React, { Component, useEffect, useState } from 'react'\nimport _ from 'lodash';\nimport { styled } from '@mui/material/styles';\nimport Grid from '@mui/material/Grid';\nimport YearColumnChart from '../../custom/YearColumnChart';\nimport DualColumnChart from '../../custom/DulaColumnChart';\nimport api from '../../api/api'\n\nconst Container = styled('div')`\n  display: flex;\n`\nconst TwChart = ({\n  allStocks=[], \n  route\n}) => {\n\n  const [chartInfo, setChartInfo] = useState({})\n  const [dividend, setDividend] = useState(null)\n\n  const getDate = data => {\n    const firstDateYear = data[data.length-1].date.substring(0 ,4)\n    const firstDateMonth = data[data.length-1].date.substring(5 ,7)\n    const lastDateYear = new Date().getFullYear()\n    const lastDateMonth = new Date().getMonth() + 1\n    let dateArray = []\n    for(let year = firstDateYear; year <= lastDateYear; year++ ){\n      for(let month = (year === firstDateYear ? firstDateMonth : 1 ); month <= (year === lastDateYear ? lastDateMonth : 12 ); month++ ){\n        if(month.toString().length <=1 && month !== 0)\n          dateArray.push(`${year}-0${month}`)\n        else\n          dateArray.push(`${year}-${month}`)\n      }\n    }\n    dateArray = dateArray.slice(11);\n    return dateArray\n  }\n\n  const getYearValue = (categories, data) =>{\n    let valueArray = []\n    categories.map((year)=>{\n      let balance = 0\n      data.forEach(it => {\n        if(it.sale_date.substr(0, 4) === year){\n          balance += it.income\n        }\n      })\n      valueArray.push({y: balance, color: balance > 0 ? \"#32a852\" : \"#ff0000\"})\n    })\n    return valueArray\n  }\n\n  const getYearDate = data => {\n    const firstDateYear = data[data.length-1].date.substring(0 ,4)\n    const lastDateYear = new Date().getFullYear()\n    let yearArray = []\n    for(let year = firstDateYear; year <= lastDateYear; year++ ){\n      yearArray.push(`${year}`)\n    }\n    return yearArray\n  }\n\n  const getValue = (categories, data) =>{\n    let valueArray = []\n    let ROIArray = []\n    let ROI = 0\n    categories.map((date)=>{\n      let balance = 0\n      let costSummary = 0\n      data.forEach(it => {\n        if(it.sale_date === date){\n          balance += it.income\n          costSummary += it.cost \n        }\n      })\n      if(balance === 0 || costSummary === 0) ROI = 0\n      else{\n        ROI = Math.round((balance/costSummary) * 100)\n      }\n      valueArray.push({y: balance, date: date, color: balance > 0 ? \"#32a852\" : \"#ff0000\"})\n      ROIArray.push({y: ROI, date: date, color: ROI > 0 ? \"#0e6124\" : \"#8E0011\"})\n    })\n    return [valueArray, ROIArray]\n  }\n\n  useEffect(() => {\n    if(allStocks.length === 0) return\n    const saledData = allStocks.filter((it)=>it.income !== 0 )\n    const handleDateData = saledData.map((it)=>{\n      return {...it, sale_date: it.sale_date.substr(0, 7)}\n    })\n    const categories = getDate(allStocks)\n    const monthValue = getValue(categories, handleDateData)\n    const yearCategories = getYearDate(allStocks)\n    const yearValue = getYearValue(yearCategories, handleDateData)\n    setChartInfo({\n      categories,\n      monthValue: monthValue[0],\n      monthRate: monthValue[1],\n      yearCategories,\n      yearValue\n    })\n    return () => {\n      allStocks = []\n  };\n  }, [allStocks]);\n\n  useEffect(()=>{\n    const dividendInfo = {}\n    const fetchData = async () => {\n      return  await api.getAccountRecord()\n    }\n\n    const isDividend = record => (/股利/).test(record.source)\n\n    fetchData().then((accountRecord)=>{\n      accountRecord.map(record => {\n      if(!dividendInfo[record.transferTime.substring(0,4)] && isDividend(record)) {\n        dividendInfo[record.transferTime.substr(0,4)] = []\n        dividendInfo[record.transferTime.substr(0,4)].push(record)\n      }else if(isDividend(record)){\n      dividendInfo[record.transferTime.substr(0,4)].push(record)\n      }\n    })\n    setDividend(dividendInfo)\n    })\n  },[])\n\n  return (\n    <Grid container>\n        {/* <Container> */}\n        <Grid item xs={12} md={6}>\n          <DualColumnChart chartInfo={chartInfo} type={'year'}/>\n          </Grid>\n          <Grid item xs={12} md={6}>\n          <YearColumnChart chartInfo={chartInfo} type={'year'} dividend={dividend}/>\n          </Grid>\n        {/* </Container> */}\n    </Grid>\n      )\n}\n\n\nexport default TwChart","import React, {Component} from 'react';\n\nimport './App.css';\nimport './index.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap/dist/js/bootstrap.bundle.js';\nimport Account from './component/account/account';\nimport Navbar from './component/navbar/navbar';\nimport Input from './component/input';\nimport Stocks from './component/stock/stocks';\nimport Usstocks from './component/usstock/stocks';\nimport browserUtils from \"./utils/browserUtils\";\nimport Login from './component/login/login';\nimport settings from './component/settings/settings'\nimport TwChart from './component/twChart'\nimport api from './api/api'\nimport _ from 'lodash'\n\nconst initialState = {\n  inputData: [],\n  unSaleStocks: [],\n  saleStocks: [],\n  allStocks: [],\n  showStocks: [],\n  totalCost: 0,\n  route: 'Taiwan_account',\n  profitAndLoss: 0,\n  profit: 0,\n  saleCost: 0,\n  saleIsOpen: false,\n  saleStatus: 'all',\n  lastYearROI: 0,\n  logInStatus: false,\n  loading: false,\n  isMerge: false\n  \n};\n\nexport default class App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = initialState;\n  }\n\n  componentDidMount() {\n    this.loginRecord();\n    if(this.state.logInStatus) {\n      this.updateAllData();\n    }\n  }\n\n  updateAllData = () => {\n    const {route} = this.state;\n    settings.route = route;\n    // if(route === \"US_account\") {\n    //   settings.country = 'us';\n    //   api.getAllData().then((stockData) => {\n    //       this.setState({\n    //         lastYearROI: stockData.lastYearROI,\n    //         saleStatus: 'US_all',\n    //         showStocks: stockData.showStocks,\n    //         allStocks: stockData.allStocks,\n    //         saleStocks: stockData.saleStocks,\n    //         unSaleStocks: stockData.unSaleStocks,\n    //         totalCost: stockData.totalCost,\n    //         profitAndLoss: stockData.profitAndLoss,\n    //         saleCost: stockData.saleCost,\n    //         profit: (stockData.profitAndLoss / stockData.saleCost * 100).toFixed(2),\n    //         loading: false\n    //       })\n    //     }\n    //   );\n    // }else{\n      api.getAllData().then((stockData) => {\n        settings.country = 'tw';\n          this.setState({\n            lastYearROI: stockData.lastYearROI,\n            saleStatus: 'all',\n            showStocks: stockData.showStocks,\n            allStocks: stockData.allStocks,\n            saleStocks: stockData.saleStocks,\n            unSaleStocks: stockData.unSaleStocks,\n            totalCost: stockData.totalCost,\n            profitAndLoss: stockData.profitAndLoss,\n            saleCost: stockData.saleCost,\n            profit: (stockData.profitAndLoss / stockData.saleCost * 100).toFixed(2),\n            loading: false\n          })\n        }\n      );\n    // }\n  };\n\n  inputData = data => {\n    let self = this;\n    const route = this.state.route\n    api.insertNewData(data, route).then(() => {\n      self.updateAllData()\n    });\n  };\n\n  deleteStock = (timestamp) => {\n    api.deleteStock(timestamp).then(() =>\n      this.updateAllData()\n    )\n  };\n\n  saleStock = (salePrice, saleSheet, stock) => {\n    const {route} = this.state;\n    api.updateStock(salePrice, saleSheet, stock, route).then(() => {\n      const stockInfo = {'price': salePrice, 'sheet': saleSheet, 'cost': stock.cost, 'date': stock.date};\n      api.updateAccountRecord(stockInfo, true, route);\n      this.updateAllData()\n      }\n    )\n  };\n\n  loginRecord = () =>{\n    const account = localStorage.getItem('account-stock');\n    if(!!account) {\n      settings.user_id = account;\n      this.closeLoginPage();\n      this.updateAllData();\n    }\n    else return;\n  };\n\n  logOut = () =>{\n    localStorage.removeItem('account-sstock');\n    this.setState({logInStatus: false})\n  };\n\n  changeRoute = (route) => {\n    switch (route) {\n      case 'twChart':\n      case 'Taiwan_history':\n      case 'Taiwan_account':\n        settings.country = 'tw';\n        break;\n      // case 'US_account':\n      // case 'US_history':\n      //   settings.country = 'us';\n        break;\n    }\n    this.setState({route: route, showStocks: []}, ()=>this.updateAllData());\n  };\n  \n  infoMerge = (datas) => {\n    const result = datas.reduce((mergeResult, prev, next) => {\n      const isNotExist = mergeResult && mergeResult.filter((item)=>_.trim(item.number) === _.trim(prev.number)).length === 0\n      if(isNotExist){\n        mergeResult.push({\n          cost: prev.cost,\n          income: 0,\n          name: prev.name,\n          number: prev.number,\n          price: Number(prev.price) * Number(prev.sheet),\n          sale_cost: 0,\n          sale_date: 0,\n          sale_price: 0,\n          sale_sheet: 0,\n          sheet: Number(prev.sheet),\n          status: \"unsale\"\n        })\n      } else {\n        const index = _.findIndex(mergeResult, (e) => _.trim(e.number) === _.trim(prev.number), 0); \n        mergeResult[index] = {\n          ...mergeResult[index],\n          cost: Math.round(Number(mergeResult[index].cost) + Number(prev.cost), 2),\n          price: Number(mergeResult[index].price) + (Number(prev.price)*Number(prev.sheet)),\n          sheet: Number(mergeResult[index].sheet) + Number(prev.sheet),\n        }\n      }\n      return mergeResult\n    }, [])\n\n    return result\n  } \n\n  updateQueryData = (stockInfo) => {\n    const {allStocks, unSaleStocks, saleStocks} = this.state;\n    const startRegion = stockInfo.dateRegion1;\n    const endRegion = stockInfo.dateRegion2;\n\n    let profit = 0;\n    let saleCost = 0;\n    let profitAndLoss = 0;\n    let result = '';\n\n    this.setState({saleStatus: stockInfo.saleStatus});\n    if (stockInfo.stockStatus === 'individual') {\n      switch (stockInfo.saleStatus) {\n        case 'all':\n          result = allStocks.filter(a => (startRegion <= a.sale_date && a.sale_date <= endRegion));\n          break;\n        case 'sale':\n          result = saleStocks.filter(a => startRegion <= a.sale_date && a.sale_date <= endRegion);\n          break;\n        case 'unsale':\n          result = unSaleStocks.filter(a => startRegion <= a.date && a.date <= endRegion);\n          break;\n        default:\n          break;\n      }\n      for (let item in result) {\n        profitAndLoss += result[item].income;\n        saleCost += result[item].cost;\n      }\n      profit = (profitAndLoss / saleCost * 100).toFixed(2);\n      this.setState({showStocks: result, profit: profit, saleCost: saleCost, profitAndLoss: profitAndLoss});\n    } else if (stockInfo.stockStatus === 'mutual') {\n    }\n  };\n  reset = () => this.updateAllData();\n\n  saleIsOpen = () => this.setState({saleIsOpen: !this.state.saleIsOpen});\n\n  getSaleIsStatus = () => {\n    if (!browserUtils.isMobile()) {\n      return true\n    } else {\n      return this.state.saleIsOpen;\n    }\n  };\n\n  handleMerge = () => this.setState({isMerge: !this.state.isMerge})\n\n  closeLoginPage = () => this.setState({logInStatus: true, loading: true});\n\n  render() {\n    const inputData = this.state.inputData;\n    const unSaleStocks = this.state.unSaleStocks;\n    const showStocks = this.state.showStocks;\n    const {route, logInStatus, lastYearROI, loading, isMerge} = this.state;\n    const result = isMerge ? this.infoMerge(unSaleStocks) : unSaleStocks\n\n    if(!logInStatus){\n      return (\n        <div>\n      <Login logInCallBack ={() => this.updateAllData()} homePageCallBack={this.closeLoginPage}/>\n        </div>\n      )\n    }else {\n      return (\n        <div className=\"App\" style={{\n          height: window.innerHeight,\n          margin: '0 auto',\n        }}>\n          {loading === true &&<div style={{position: 'absolute',\n            top: 0,\n            left: 0,\n            height: '100%',\n            width: '100%',\n            display: 'block',\n            zIndex: 7,\n            backgroundColor: 'rgba(0, 0, 0, 0.5)'}}><img  alt=\"\" style={{display:'flex',\n            width: '128px',\n            height: '128px',\n            position: 'relative',\n            margin: '0px auto',\n            backgroundSize: '100%',\n            top: 'calc(50% - 50px)'\n          }} src={require('./assets/img/loading.gif')}/></div>}\n          <Navbar lastYearROI={lastYearROI} totalCost={this.state.totalCost} profitAndLoss={this.state.profitAndLoss}\n                  route={route} changeRoute={this.changeRoute} profit={this.state.profit} logOutCallBack={this.logOut}\n                  saleCost={this.state.saleCost} handleMerge={this.handleMerge} isMerge={isMerge}/>\n          {browserUtils.isMobile() && !this.state.saleIsOpen && (route === 'Taiwan_account' || route === 'US_account') &&\n          <button className=\"btn btn-warning from-group col-md-2 input-sale-frame\" type=\"submit\"\n                  onClick={() => this.saleIsOpen(true)}>買入</button>}\n          {browserUtils.isMobile() && this.state.saleIsOpen && (route === 'Taiwan_account' || route === 'US_account') &&\n          <button className=\"btn btn-secondary from-group col-md-2 input-sale-frame\" type=\"submit\"\n                  onClick={() => this.saleIsOpen(false)}>隱藏</button>}\n          {this.getSaleIsStatus() && (route === 'Taiwan_account' || route === 'US_account') &&\n          <Input callback={this.inputData} route={route}/>}\n          {route === 'Taiwan_account' &&\n          <Stocks hideFiled={false} saleStatus={this.state.saleStatus} inputData={inputData} allStocks={result}\n                  deleteCallback={this.deleteStock} saleStockCallback={this.saleStock} route={route} isMerge={isMerge}/>}\n          {route === 'twChart' &&<TwChart hideFiled={false} allStocks={showStocks} route={route}/>}\n          {route === 'Taiwan_history' &&\n          <Stocks hideFiled={true} saleStatus={this.state.saleStatus} inputData={inputData} allStocks={showStocks}\n                  deleteCallback={this.deleteStock} saleStockCallback={this.saleStock} route={route}\n                  queryDataCallback={this.updateQueryData} resetCallBack={this.reset} isMerge={false}/>}\n          {/* {route === 'US_account' &&\n          <Usstocks hideFiled={false} saleStatus={'US_all'} route={route} allStocks={showStocks}\n                    saleStockCallback={this.saleStock} deleteCallback={this.deleteStock}\n                    queryDataCallback={this.updateQueryData} resetCallBack={this.reset}/>} */}\n          {route === 'account' && <Account route={route}/>}\n        </div>\n      )\n    }\n  }\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}