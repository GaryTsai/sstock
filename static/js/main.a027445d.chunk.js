/*! For license information please see main.a027445d.chunk.js.LICENSE.txt */
(this.webpackJsonpsstock=this.webpackJsonpsstock||[]).push([[0],{110:function(e,t,a){},117:function(e,t,a){e.exports=a.p+"static/media/contentLoading.aee8afdb.png"},157:function(e){e.exports=JSON.parse('{"hello":"hello!","link":"Let\'s learn React here"}')},158:function(e){e.exports=JSON.parse('{"input":{"buyConfirm":"\u78ba\u8a8d\u8cb7\u5165","buy":"\u8cb7\u5165","hide":"\u96b1\u85cf","date":"\u65e5\u671f","stockName":"\u80a1\u7968\u540d\u7a31","stockNumber":"\u7de8\u865f","stockPrice":"\u55ae\u50f9","stockSheet":"\u5f35\u6578","sellDate":"\u8ce3\u51fa\u65e5\u671f","buyDate":"\u8cfc\u8cb7\u65e5\u671f","avgPrice":"\u5e73\u5747\u55ae\u50f9","handingFee":"\u624b\u7e8c\u8cbb","cost":"\u8cfc\u8cb7\u6210\u672c","sellTotalPrice":"\u8ce3\u51fa\u7e3d\u50f9","income":"\u640d\u76ca"},"navBar":{"totalCost":"\u6295\u5165\u6210\u672c:","profitAndLoss":"\u7e3d\u640d\u76ca:","profit":"\u6295\u5831\u7387:","lastYearROI":"\u53bb\u5e74\u6295\u5831\u7387:","twStock":"\u53f0\u7063\u80a1\u7968","twStockHistory":"\u53f0\u80a1\u6b77\u53f2\u7d00\u9304","myAccount":"\u6211\u7684\u5e33\u6236","incomeChart":"\u640d\u76ca\u5716\u8868","currentTotalcost":"\u76ee\u524d\u6295\u5165\u7e3d\u6210\u672c","stockMerge":"\u80a1\u7968\u7d71\u6574"},"inputRegion":{"startIsGreaterThanEnd":"\u8d77\u59cb\u6642\u9593\u4e0d\u53ef\u5927\u65bc\u7d50\u675f\u6642\u9593!","endIsLessThanStart":"\u7d50\u675f\u6642\u9593\u4e0d\u53ef\u5c0f\u65bc\u8d77\u59cb\u6642\u9593!","queryTimePeriod":"\u67e5\u8a62\u6642\u5340","allStock":"\u986f\u793a\u5168\u90e8\u80a1\u7968","fieldsEmpty":"\u4e0d\u8a31\u6709\u4efb\u4f55\u4e00\u500b\u70ba\u7a7a!","all":"\u5168\u90e8","sale":"\u5df2\u8ce3\u51fa","unsale":"\u672a\u8ce3\u51fa","today":"\u4eca\u5929","prev7":"\u524d 7 \u65e5","prevThreeMonth":"\u524d\u4e09\u6708","lastYear":"\u53bb\u5e74","thisYear":"\u4eca\u5e74","start":"\u8d77\u59cb:","end":"\u7d50\u675f","querySubmit":"\u67e5\u8a62\u9001\u51fa","date":"\u65e5\u671f"},"login":{"login":"\u767b\u5165","register":"\u8a3b\u518a","forgotPassword?":"\u5fd8\u8a18\u5bc6\u78bc?","email":"\u90f5\u4ef6\u5730\u5740","password":"\u5bc6\u78bc"},"chart":{"monthIncomeChart":"\u6708\u640d\u76ca\u5716","yearIncomeChart":"\u6b77\u5e74\u640d\u76ca\u5716","dividendChart":"\u80a1\u5229\u5716\u8868","yearIncomeReport":"\u5e74\u640d\u76ca\u5831\u8868","yearSelect":"\u9078\u64c7\u5e74\u4efd:","to":"\u81f3:","yearCost":"\u8a72\u5e74\u6295\u5165","yearIncome":"\u5e74\u640d\u76ca","yearProfit":"\u5e74\u6295\u5831\u7387","dividend":"\u80a1\u5229","sale":"\u5df2\u8ce3\u51fa","unsale":"\u672a\u8ce3\u51fa"},"resetPassword":"\u5df2\u767c\u9001\u4fe1\u4ef6\u81f3\u4fe1\u7bb1\uff0c\u8acb\u6309\u7167\u4fe1\u4ef6\u8aaa\u660e\u91cd\u8a2d\u5bc6\u78bc","enterAccountWarning":"Please input email&password","alertError":"\u932f\u8aa4","alertWarning":"\u8b66\u544a","depositIsNotEnough":"\u5b58\u6b3e\u4e0d\u8db3\u4ee5\u8cb7\u5165\u8a72\u50f9\u683c\u80a1\u7968\uff0c\u8acb\u78ba\u4fdd\u8a72\u5e33\u6236\u6709\u8db3\u5920\u7684\u91d1\u984d!","buyFieldsIsEmpty":"\u8cb7\u5165\u8cc7\u8a0a\u4e0d\u8a31\u6709\u4e00\u500b\u6b04\u4f4d\u70ba\u7a7a!","fieldInputWarning_Price":"\u91d1\u984d\u6b04\u4f4d\u8acb\u8f38\u5165\u6578\u5b57!","twDollars":"\u5143","percent":"%","twMoney":"\u53f0\u5e63","hide":"\u96b1\u85cf","tIncome":"\u7e3d\u640d\u76ca","income":"\u640d\u76ca","tDividend":"\u7e3d\u80a1\u5229:","logout":"\u767b\u51fa","confirm":"\u78ba\u8a8d","transfer":"\u8f49\u51fa","deposit":"\u5b58\u5165","price":"\u91d1\u984d","source":"\u4f86\u6e90","twProperty":"\u53f0\u80a1\u8cc7\u7522","transferProperty":"\u8cc7\u7522\u8f49\u79fb","createTime":"\u5275\u5efa\u6642\u9593","time":"\u6642\u9593","accountMoney":"\u5e33\u6236\u91d1\u984d","stockAccount":"\u80a1\u7968\u5e33\u6236","tMoney":"\u7e3d\u91d1\u984d","stockMoney":"\u80a1\u7968\u91d1\u984d","state":"\u72c0\u614b","iIncome":"\u542b\u640d\u76ca","delete":"\u522a\u9664","sell":"\u8ce3\u51fa","sellInfo":"\u8ce3\u51fa\u8cc7\u8a0a","sellPrice":"\u8ce3\u51fa\u55ae\u50f9"}')},168:function(e,t,a){e.exports=a(220)},175:function(e,t,a){},205:function(e,t,a){},207:function(e,t,a){},210:function(e,t,a){e.exports=a.p+"static/media/logo.e27c8735.png"},219:function(e,t,a){e.exports=a.p+"static/media/loading.a57e7c9a.gif"},220:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=(a(37),a(110),a(175),a(176),a(177),a(11)),c=a(2),i=a(6),l=a(91),s=a(4),u=a(18),m=a(50),d=a(26),p=(a(122),a(111),a(180),a(182),[31,28,31,30,31,30,31,31,30,31,30,31]),f={dateFormat:function(e){return e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)},toDualDigit:function(e){return e<10?"0"+e:e},days:function(e,t){return console.log(e,t),(e%4===0&&e%100!==0||e%400===0)&&2===t?29:p[t]}},h={user_id:"",country:"tw",isFirst:!0};function b(){b=function(){return t};var e,t={},a=Object.prototype,n=a.hasOwnProperty,r=Object.defineProperty||function(e,t,a){e[t]=a.value},o="function"==typeof Symbol?Symbol:{},c=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,a){return e[t]=a}}function u(e,t,a,n){var o=t&&t.prototype instanceof g?t:g,c=Object.create(o.prototype),i=new I(n||[]);return r(c,"_invoke",{value:S(e,a,i)}),c}function m(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",p="executing",f="completed",h={};function g(){}function y(){}function v(){}var E={};s(E,c,(function(){return this}));var x=Object.getPrototypeOf,w=x&&x(x(L([])));w&&w!==a&&n.call(w,c)&&(E=w);var O=v.prototype=g.prototype=Object.create(E);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function a(r,o,c,i){var l=m(e[r],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==typeof u&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){a("next",e,c,i)}),(function(e){a("throw",e,c,i)})):t.resolve(u).then((function(e){s.value=e,c(s)}),(function(e){return a("throw",e,c,i)}))}i(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function S(t,a,n){var r=d;return function(o,c){if(r===p)throw new Error("Generator is already running");if(r===f){if("throw"===o)throw c;return{value:e,done:!0}}for(n.method=o,n.arg=c;;){var i=n.delegate;if(i){var l=N(i,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var s=m(t,a,n);if("normal"===s.type){if(r=n.done?f:"suspendedYield",s.arg===h)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=f,n.method="throw",n.arg=s.arg)}}}function N(t,a){var n=a.method,r=t.iterator[n];if(r===e)return a.delegate=null,"throw"===n&&t.iterator.return&&(a.method="return",a.arg=e,N(t,a),"throw"===a.method)||"return"!==n&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=m(r,t.iterator,a.arg);if("throw"===o.type)return a.method="throw",a.arg=o.arg,a.delegate=null,h;var c=o.arg;return c?c.done?(a[t.resultName]=c.value,a.next=t.nextLoc,"return"!==a.method&&(a.method="next",a.arg=e),a.delegate=null,h):c:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,h)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var a=t[c];if(a)return a.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function a(){for(;++r<t.length;)if(n.call(t,r))return a.value=t[r],a.done=!1,a;return a.value=e,a.done=!0,a};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return y.prototype=v,r(O,"constructor",{value:v,configurable:!0}),r(v,"constructor",{value:y,configurable:!0}),y.displayName=s(v,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},k(j.prototype),s(j.prototype,i,(function(){return this})),t.AsyncIterator=j,t.async=function(e,a,n,r,o){void 0===o&&(o=Promise);var c=new j(u(e,a,n,r),o);return t.isGeneratorFunction(a)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},k(O),s(O,l,"Generator"),s(O,c,(function(){return this})),s(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),a=[];for(var n in t)a.push(n);return a.reverse(),function e(){for(;a.length;){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var a in this)"t"===a.charAt(0)&&n.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var a=this;function r(n,r){return i.type="throw",i.arg=t,a.next=n,r&&(a.method="next",a.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var c=this.tryEntries[o],i=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var l=n.call(c,"catchLoc"),s=n.call(c,"finallyLoc");if(l&&s){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),C(a),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;C(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,a,n){return this.delegate={iterator:L(t),resultName:a,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}var g;d.initializeApp({apiKey:"AIzaSyCHZGM1JyAUp_8_lm4OQFLviuiXFJJto5o",authDomain:"stock-f7053.firebaseapp.com",databaseURL:"https://stock-f7053.firebaseio.com",projectId:"stock-f7053",storageBucket:"stock-f7053.appspot.com",messagingSenderId:"1056992757888",appId:"1:1056992757888:web:2067426b1bcf54fd7c3e65",measurementId:"G-V0QBQ3VNJF"}),d.analytics(),h.user_id=localStorage.getItem("account-stock");var y,v={getAllData:function(){var e=this;return Object(u.a)(b().mark((function t(){var a;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=d.database().ref("/account_data/".concat(h.user_id,"/").concat(h.country,"/stock_info")),t.next=3,a.once("value").then(function(){var t=Object(u.a)(b().mark((function t(a){var n,r,o,c,i,l,s,u,m,d;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=[],a.forEach((function(e){n.unshift(e.val())})),r=n.sort((function(e,t){return e.date<t.date?1:-1})),o=r.filter((function(e){return"sale"!==e.status})).sort((function(e,t){return e.date<t.date?1:-1})),c=r.filter((function(e){return"sale"===e.status})).sort((function(e,t){return e.sale_date>t.sale_date?1:-1})),!n){t.next=15;break}for(u in i=0,l=0,s=0,n)i+="unsale"===n[u].status?n[u].cost:0;for(m in n)l+="sale"===n[m].status?n[m].income:0,s+="sale"===n[m].status?n[m].cost:0;return t.next=13,e.getLastYearROI(n);case 13:d=t.sent,g={lastYearROI:d,showStocks:n,allStocks:n,saleStocks:c,unSaleStocks:o,totalCost:i,profitAndLoss:l,saleCost:s,profit:Math.floor(l/s*100)};case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 3:return t.abrupt("return",g);case 4:case"end":return t.stop()}}),t)})))()},insertNewData:function(e){return Object(u.a)(b().mark((function t(){var a,n,r;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Math.floor(Date.now()/1e3),n=Math.floor(1e3*e.price*e.sheet*1.001425),r=d.database().ref("/account_data/".concat(h.user_id,"/").concat(h.country,"/stock_info")),t.next=5,r.child(a.toString()).set({timestamp:a,date:e.date,name:e.name,number:e.number,price:e.price,sheet:e.sheet,cost:n,income:0,sale_cost:0,sale_date:0,sale_price:0,sale_sheet:0,status:"unsale"}).then((function(){console.log("insert new stock successfully")})).catch((function(e){console.error("insert new stock failed\uff1a",e)}));case 5:case"end":return t.stop()}}),t)})))()},deleteStock:function(e){return Object(u.a)(b().mark((function t(){return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:d.database().ref("/account_data/".concat(h.user_id,"/").concat(h.country,"/stock_info")).child("".concat(e)).remove().then((function(){console.log("delete stock successfully")})).catch((function(e){console.error("delete failed\uff1a",e)}));case 2:case"end":return t.stop()}}),t)})))()},updateStock:function(e,t,a){return Object(u.a)(b().mark((function n(){var r,o,c,i,l,s;return b().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=a.date===f.dateFormat(new Date),o=r?Math.floor(1e3*e*t*.001425)+Math.floor(1e3*e*t*.003*(r?.5:1)):Math.floor(1e3*e*t*.004425),c=Math.round(1e3*e*t)-o-a.cost,i=Math.round(1e3*e*t)-o,l=f.dateFormat(new Date),s=d.database().ref("/account_data/".concat(h.user_id,"/").concat(h.country,"/stock_info")),n.next=8,s.child(a.timestamp).update({income:c,sale_cost:i,sale_date:l,sale_price:e,sale_sheet:t,status:"sale"});case 8:case"end":return n.stop()}}),n)})))()},getAccount:function(){return Object(u.a)(b().mark((function e(){var t,a;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],a=d.database().ref("/account_data/".concat(h.user_id,"/").concat(h.country,"/account_summary")),e.next=4,a.once("value").then((function(e){t=e.val()}));case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))()},getAccountRecord:function(){return Object(u.a)(b().mark((function e(){var t,a;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],a=d.database().ref("/account_data/".concat(h.user_id,"/").concat(h.country,"/account_record")),e.next=4,a.once("value").then((function(e){e.forEach((function(e){t.unshift(e.val())}))}));case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))()},tradeForAccount:function(e){return Object(u.a)(b().mark((function t(){var a,n,r,o,c,i,l,s,u;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=[],n=0,r=f.dateFormat(new Date),o=Math.floor(Date.now()/1e3),c=d.database().ref("/account_data/".concat(h.user_id,"/").concat(h.country,"/account_summary")),i=d.database().ref("/account_data/".concat(h.user_id,"/").concat(h.country,"/account_record")),t.next=8,c.once("value").then((function(e){a=e.val()}));case 8:return n="transferOut"===e.transferStatus?-1*e.price:e.price,l=a.accountMoney+n,s=a.accountStock,u=l+s,t.next=14,c.update({accountMoney:l,accountStock:s,summary:Math.floor(u)});case 14:return t.next=16,i.child(o.toString()).set({timestamp:o,account_record_Money:l,account_record_Stock:s,source:e.source,transfer:e.price,transferStatus:"transferIn"===e.transferStatus?"\u5b58\u5165(\u5e33\u6236)":"\u8f49\u51fa(\u5e33\u6236)",transferTime:r});case 16:return t.abrupt("return");case 17:case"end":return t.stop()}}),t)})))()},updateAccountRecord:function(e,t){return Object(u.a)(b().mark((function a(){var n,r,o,c,i,l,s,u,m,p,g;return b().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=Math.floor(Date.now()/1e3),r=f.dateFormat(new Date),o=[],c=d.database().ref("/account_data/".concat(h.user_id,"/").concat(h.country,"/account_summary")),a.next=6,c.once("value").then((function(e){o=e.val()}));case 6:return i=0,l=0,s=0,u=0,m=e.date===f.dateFormat(new Date),p=m?Math.floor(1e3*e.price*e.sheet*.001425)+Math.floor(1e3*e.price*e.sheet*.003*(m?.5:1)):Math.floor(1e3*e.price*e.sheet*.004425),t?(u=Math.round(1e3*e.price*e.sheet)-p,i=o.accountMoney+u,l=o.accountStock-e.cost):(s=Math.round(1e3*e.price*e.sheet)+Math.floor(1e3*e.price*e.sheet*.001425),i=o.accountMoney-s,l=o.accountStock+s),a.next=15,c.update({accountMoney:i,accountStock:l,summary:i+l});case 15:return g=d.database().ref("/account_data/".concat(h.user_id,"/").concat(h.country,"/account_record")),a.next=18,g.child(n.toString()).set({timestamp:n,account_record_Money:i,account_record_Stock:l,source:"\u80a1\u7968",transfer:t?u:s,transferTime:r,transferStatus:t?"\u8f49\u51fa":"\u5b58\u5165"});case 18:return a.abrupt("return");case 19:case"end":return a.stop()}}),a)})))()},getLastYearROI:function(e){var t=this;return Object(u.a)(b().mark((function a(){var n,r,o,c,i,l,s,u,m,d,p,h,g,y,v,E,x;return b().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.getAccount();case 2:for(h in n=a.sent,r=n.summary,o=f.dateFormat(new Date((new Date).getFullYear()-1,0,1)),c=f.dateFormat(new Date((new Date).getFullYear()-1,11,31)),i=f.dateFormat(new Date((new Date).getFullYear(),0,1)),l=f.dateFormat(new Date((new Date).getFullYear(),11,31)),s=e.filter((function(e){return o<=e.sale_date&&e.sale_date<=c})),u=e.filter((function(e){return i<=e.sale_date&&e.sale_date<=l})),m=0,d=0,p=0,s)m+=s[h].income;for(g in u)d+=u[g].income;return a.next=17,t.getAccountRecord();case 17:for(E in y=a.sent,v=y.filter((function(e){return i<=e.transferTime&&e.transferTime<=l})))p+="\u80a1\u7968"!==v[E].source?v[E].transfer:0;return x=m/(r-d-p),a.abrupt("return",x.toFixed(4));case 22:case"end":return a.stop()}}),a)})))()},updateDataForDeleteStock:function(e){return Object(u.a)(b().mark((function t(){var a,n,r,o,l,s;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=[],n=[],r=e.timestamp,o=d.database().ref("/account_data/".concat(h.user_id,"/").concat(h.country)),t.next=6,o.once("value").then((function(e){e.forEach((function(e){n.unshift(e.val())})),a=n[2]}));case 6:if(l=Object.fromEntries(Object.entries(a).filter((function(e){return Object(i.a)(e,1)[0].includes(r)}))),s=Object.fromEntries(Object.entries(a).filter((function(e){return!Object(i.a)(e,1)[0].includes(r)}))),Object.entries(s).forEach((function(e){var t=Object(i.a)(e,2),a=(t[0],t[1]);l[r].timestamp<a.timestamp&&("\u5b58\u5165"===l[r].transferStatus?(a.account_record_Money=a.account_record_Money+l[r].transfer,a.account_record_Stock=a.account_record_Stock-l[r].transfer):(a.account_record_Money=a.account_record_Money-l[r].transfer,a.account_record_Stock=a.account_record_Stock+l[r].transfer))})),d.database().ref("/account_data/".concat(h.user_id,"/").concat(h.country)).update({account_record:s}),v.getAccount().then(function(){var e=Object(u.a)(b().mark((function e(t){var a,n,o;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=d.database().ref("/account_data/".concat(h.user_id,"/").concat(h.country,"/account_summary")),n=t.accountMoney,o=t.accountStock,"\u5b58\u5165"===l[r].transferStatus?(n+=l[r].transfer,o-=l[r].transfer):(n-=l[r].transfer,o+=l[r].transfer),e.next=6,a.update({accountMoney:n,accountStock:o});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),"sale"!==e.status){t.next=14;break}return t.next=14,d.database().ref("/account_data/".concat(h.user_id,"/").concat(h.country,"/stock_info")).child(r).update(Object(c.a)(Object(c.a)({},e),{},{income:0,sale_cost:0,sale_date:"",sale_price:0,sale_sheet:0,status:"unsale"}));case 14:return t.abrupt("return",e);case 15:case"end":return t.stop()}}),t)})))()}},E=v;function x(){x=function(){return t};var e,t={},a=Object.prototype,n=a.hasOwnProperty,r=Object.defineProperty||function(e,t,a){e[t]=a.value},o="function"==typeof Symbol?Symbol:{},c=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,a){return e[t]=a}}function u(e,t,a,n){var o=t&&t.prototype instanceof b?t:b,c=Object.create(o.prototype),i=new I(n||[]);return r(c,"_invoke",{value:S(e,a,i)}),c}function m(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",p="executing",f="completed",h={};function b(){}function g(){}function y(){}var v={};s(v,c,(function(){return this}));var E=Object.getPrototypeOf,w=E&&E(E(L([])));w&&w!==a&&n.call(w,c)&&(v=w);var O=y.prototype=b.prototype=Object.create(v);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function a(r,o,c,i){var l=m(e[r],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==typeof u&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){a("next",e,c,i)}),(function(e){a("throw",e,c,i)})):t.resolve(u).then((function(e){s.value=e,c(s)}),(function(e){return a("throw",e,c,i)}))}i(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function S(t,a,n){var r=d;return function(o,c){if(r===p)throw new Error("Generator is already running");if(r===f){if("throw"===o)throw c;return{value:e,done:!0}}for(n.method=o,n.arg=c;;){var i=n.delegate;if(i){var l=N(i,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var s=m(t,a,n);if("normal"===s.type){if(r=n.done?f:"suspendedYield",s.arg===h)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=f,n.method="throw",n.arg=s.arg)}}}function N(t,a){var n=a.method,r=t.iterator[n];if(r===e)return a.delegate=null,"throw"===n&&t.iterator.return&&(a.method="return",a.arg=e,N(t,a),"throw"===a.method)||"return"!==n&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=m(r,t.iterator,a.arg);if("throw"===o.type)return a.method="throw",a.arg=o.arg,a.delegate=null,h;var c=o.arg;return c?c.done?(a[t.resultName]=c.value,a.next=t.nextLoc,"return"!==a.method&&(a.method="next",a.arg=e),a.delegate=null,h):c:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,h)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function L(t){if(t||""===t){var a=t[c];if(a)return a.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function a(){for(;++r<t.length;)if(n.call(t,r))return a.value=t[r],a.done=!1,a;return a.value=e,a.done=!0,a};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=y,r(O,"constructor",{value:y,configurable:!0}),r(y,"constructor",{value:g,configurable:!0}),g.displayName=s(y,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s(e,l,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},k(j.prototype),s(j.prototype,i,(function(){return this})),t.AsyncIterator=j,t.async=function(e,a,n,r,o){void 0===o&&(o=Promise);var c=new j(u(e,a,n,r),o);return t.isGeneratorFunction(a)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},k(O),s(O,l,"Generator"),s(O,c,(function(){return this})),s(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),a=[];for(var n in t)a.push(n);return a.reverse(),function e(){for(;a.length;){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=L,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var a in this)"t"===a.charAt(0)&&n.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var a=this;function r(n,r){return i.type="throw",i.arg=t,a.next=n,r&&(a.method="next",a.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var c=this.tryEntries[o],i=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var l=n.call(c,"catchLoc"),s=n.call(c,"finallyLoc");if(l&&s){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),C(a),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;C(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,a,n){return this.delegate={iterator:L(t),resultName:a,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}var w,O,k,j,S,N,_,C,I,L,D,R,M,F,P=Object(m.b)("stock/fetchStock",Object(u.a)(x().mark((function e(){var t;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("-----------fetchStocks-------------"),e.next=3,E.getAllData();case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))),T=Object(m.b)("stock/fetchRecord",Object(u.a)(x().mark((function e(){var t;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("-----------fetchRecords-------------"),e.next=3,E.getAccountRecord();case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))),A=Object(m.b)("stock/fetchAccountSummary",Object(u.a)(x().mark((function e(){var t;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("-----------fetchAccountSummary-------------"),e.next=3,E.getAccount();case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))),z=Object(m.c)({name:"stock",initialState:{loading:!1,allStocks:[],lastYearROI:"",profit:0,profitAndLoss:0,saleCost:0,saleStocks:[],unSaleStocks:[],showStocks:[],totalCost:0,records:[],recordsLoading:!1,acTime:"",acMoney:0,acStock:0,acSummary:0},reducers:{updateQueryData:function(e,t){e.showStocks=function(t){var a=t.dateRegion1,n=t.dateRegion2,r="";if("individual"===t.stockStatus){switch(t.saleStatus){case"all":r=e.allStocks.filter((function(e){return(a<=e.sale_date||a<=e.date)&&(e.date<=n||e.sale_date<=n)}));break;case"sale":r=e.saleStocks.filter((function(e){return a<=e.sale_date&&e.sale_date<=n}));break;case"unsale":r=e.unSaleStocks.filter((function(e){return a<=e.date&&e.date<=n}))}return r}t.stockStatus}(t.payload)}},extraReducers:(y={},Object(s.a)(y,P.pending,(function(e){e.loading=!0})),Object(s.a)(y,P.fulfilled,(function(e,t){var a=t.payload;e.loading=!1,e.allStocks=a.allStocks,e.lastYearROI=a.lastYearROI,e.profit=a.profit,e.profitAndLoss=a.profitAndLoss,e.saleCost=a.saleCost,e.saleStocks=a.saleStocks,e.unSaleStocks=a.unSaleStocks,e.showStocks=a.showStocks,e.totalCost=a.totalCost})),Object(s.a)(y,P.rejected,(function(e){e.loading=!1})),Object(s.a)(y,T.pending,(function(e){e.recordsLoading=!0})),Object(s.a)(y,T.fulfilled,(function(e,t){var a=t.payload;e.records=a,e.recordsLoading=!1})),Object(s.a)(y,T.rejected,(function(e){e.loading=!1})),Object(s.a)(y,A.pending,(function(e){})),Object(s.a)(y,A.fulfilled,(function(e,t){var a=t.payload;e.acTime=a.accountTime,e.acMoney=a.accountMoney,e.acStock=a.accountStock,e.acSummary=a.summary})),Object(s.a)(y,A.rejected,(function(e){})),y)}),Y=z.actions,W=Y.updateQueryData,B=(Y.getRecords,z.reducer),G=a(21),q=Object(m.c)({name:"mutualState",initialState:{initLoading:!1,contentLoading:!1,isMerge:!1,logInStatus:!1,queryStatus:"all"},reducers:{changeContentLoading:function(e,t){e.contentLoading=t.payload},changeInitLoading:function(e,t){e.initLoading=t.payload},changeStockMergeState:function(e){e.isMerge=!e.isMerge},changeLoginStatus:function(e){e.logInStatus=!e.logInStatus},changeQueryStatus:function(e,t){e.queryStatus=t.payload}}}),V=q.actions,H=V.changeInitLoading,J=V.changeContentLoading,Q=V.changeStockMergeState,U=V.changeLoginStatus,$=V.changeQueryStatus,X=q.reducer,K=a(33),Z=a.n(K),ee=a(22),te=function(e){var t=Object(n.useRef)(null),a=Object(n.useState)(!1),c=Object(i.a)(a,2),s=c[0],u=c[1],m=Object(o.j)(),d=Object(G.b)(),p=Object(ee.b)().t;Object(n.useEffect)((function(){window.addEventListener("scroll",(function(){document.documentElement.scrollTop>0?u(!0):u(!1)}))}),[]);var f,h=e.stock,b=e.index,g=e.isMerge,y=parseFloat((1.001425*h.price).toFixed(2)),v=1e3*h.price*h.sheet*.001424<20?20:Math.round(1e3*h.price*h.sheet*.001424),x="/stockHistory"===m.pathname;return r.a.createElement(r.a.Fragment,null,s&&r.a.createElement("div",{style:{position:"absolute"}},r.a.createElement("div",{style:{position:"fixed",right:"25px",bottom:"25px",width:"50px",height:"50px",fontSize:"40px",backgroundColor:"cornflowerblue",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"black"},onClick:function(){return window.scrollTo({top:0,behavior:"smooth"})}},r.a.createElement(l.a,null))),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},b),!x&&!1===g&&r.a.createElement("td",{key:h.timestamp},r.a.createElement("button",{type:"button",className:"btn btn-info","data-toggle":"modal","data-target":"#modal-".concat(h.timestamp)},p("sell")),r.a.createElement("div",null,r.a.createElement("div",{className:"modal fade",id:"modal-".concat(h.timestamp),tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",style:{color:"black"},id:"exampleModalLabel"},p("sellInfo")),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"form-group"},r.a.createElement("h5",{style:{color:"black",textAlign:"left"},key:"price"+b,htmlFor:"price-name-".concat(b),className:"col-form-label"},p("sellPrice"),":"),r.a.createElement("input",{type:"text",className:"form-control",id:"price-name-".concat(b),ref:t}))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal","aria-label":"Close",onClick:function(){var a=e.stock,n=parseFloat(t.current.value);isNaN(n)||!n?Z.a.fire({icon:"error",title:p("alertError"),text:p("fieldInputWarning_Price")}):(d(J(!0)),E.updateStock(n,a.sheet,a).then((function(){var e={price:n,sheet:a.sheet,cost:a.cost,date:a.date,purchaseTimestamp:a.timestamp};E.updateAccountRecord(e,!0),d(P()),d(J(!1))})),t.current.value="")}},p("confirm"),h.name))))))),!x&&!1===g&&"unsale"===h.status&&r.a.createElement("td",null,h.date),x&&r.a.createElement("td",null,h.date),x&&("sale"===h.status?r.a.createElement("td",null,h.sale_date):r.a.createElement("td",null)),r.a.createElement("td",null,h.name),r.a.createElement("td",null,h.number),r.a.createElement("td",null,g?(y/h.sheet).toFixed(4):y),r.a.createElement("td",null,(f=h.sheet,Number(f)===f&&f%1!==0?h.sheet.toFixed(3):h.sheet)),r.a.createElement("td",null,g?h.handingFee:Math.floor(v)),r.a.createElement("td",null,Math.floor(h.cost)),r.a.createElement("td",null,"unsale"===h.status?p("inputRegion.unsale"):p("inputRegion.sale")),r.a.createElement("td",null,Math.floor(h.sale_cost)),r.a.createElement("td",{style:{color:h.income<0?"#30ff30":"rgb(255 19 19)"}},Math.floor(h.income)),!x&&!1===g&&r.a.createElement("td",null,r.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){var t=e.stock;d(J(!0)),"unsale"===t.status&&E.deleteStock(t.timestamp),d(P()),E.updateDataForDeleteStock(t).then((function(){d(J(!1))}))}},p("delete")))))},ae={isMobile:function(){var e,t=!1;return e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(e.substr(0,4)))&&(t=!0),/\(macintosh; intel mac os x 10_15\)/i.test(e)&&(t=!0),t}},ne=(a(205),a(100),{startStandardDate:"",endStandardDate:"",dateRegion1:"",dateRegion2:"",saleStatus:"all",stockStatus:"individual",queryState:"",isQueryOpen:!0}),re=function(e){var t=Object(n.useState)(ne),a=Object(i.a)(t,2),l=a[0],s=a[1],u=Object(n.useRef)({}),m=Object(G.b)(),d=Object(o.j)(),p=ae.isMobile(),h=Object(ee.b)().t;Object(n.useEffect)((function(){s(Object(c.a)(Object(c.a)({},l),{},{date:f.dateFormat(new Date),dateRegion1:f.dateFormat(new Date),dateRegion2:f.dateFormat(new Date),startStandardDate:f.dateFormat(new Date),endStandardDate:f.dateFormat(new Date),isQueryOpen:!0}))}),[]);var b=function(e,t){if(Object.keys(u.current).map((function(e,t){return u.current[e].classList.remove("active"),{}})),"start"===t){if(e>l.endStandardDate)return void Z.a.fire({icon:"warning",title:h("alertWarning"),text:h("inputRegion.startIsGreaterThanEnd")});s(Object(c.a)(Object(c.a)({},l),{},{startStandardDate:e,dateRegion1:e,queryState:""}))}else{if(e<l.startStandardDate)return void Z.a.fire({icon:"warning",title:h("alertWarning"),text:h("inputRegion.endIsLessThanStart")});s(Object(c.a)(Object(c.a)({},l),{},{endStandardDate:e,dateRegion2:e,queryState:""}))}},g=function(e){return s(Object(c.a)(Object(c.a)({},l),{},{saleStatus:e.target.value}))},y=function(){return p?{margin:"0px 0px",paddingRight:"0px",paddingLeft:"0px",whiteSpace:"nowrap"}:{margin:"3px 0px",padding:0,whiteSpace:"nowrap"}},v=function(e){return s(Object(c.a)(Object(c.a)({},l),{},{isQueryOpen:e}))},E=l.startStandardDate,x=l.endStandardDate,w=l.isQueryOpen,O="/stockHistory"===d.pathname;return r.a.createElement(r.a.Fragment,null,O&&!w&&p&&r.a.createElement("button",{style:{borderRadius:"0px"},className:"btn btn-success from-group col-sm-2 col-md-12",type:"submit",onClick:function(){return v(!0)}},h("inputRegion.queryTimePeriod")),O&&w&&p&&r.a.createElement("button",{style:{borderRadius:"0px"},className:"btn btn-secondary from-group col-sm-2 col-md-12",type:"submit",onClick:function(){return v(!1)}},h("hide")),O&&w&&r.a.createElement("div",null,r.a.createElement("div",{className:"form-row",style:{margin:"0 5px",overflowY:p?"scroll":"unset",whiteSpace:"nowrap"}},r.a.createElement("button",{type:"button",className:"btn btn-info from-group col-md-1"+(p?" show-all-stock-mobile":" show-all-stock"),onClick:function(){return m($("all"))}},h("inputRegion.allStock")),r.a.createElement("button",{type:"button",className:"btn btn-group btn-group-toggle"+(p?" from-group col-md-6":" from-group col-md-2"),"data-toggle":"buttons",style:Object(c.a)({margin:"0px 10px",zIndex:0},y())},r.a.createElement("label",{className:"btn btn-secondary active",onClick:g},r.a.createElement("input",{type:"radio",name:"saleOption",id:"saleOption1",value:"all",autoComplete:"off"})," ",h("inputRegion.all")),r.a.createElement("label",{className:"btn btn-secondary",onClick:g},r.a.createElement("input",{type:"radio",name:"saleOption",id:"saleOption2",value:"sale",autoComplete:"off"})," ",h("inputRegion.sale")),r.a.createElement("label",{className:"btn btn-secondary",onClick:g},r.a.createElement("input",{type:"radio",name:"saleOption",id:"saleOption3",value:"unsale",autoComplete:"off"})," ",h("inputRegion.unsale"))),r.a.createElement("div",{className:"btn-group btn-group-toggle col-sm-12 col-md-3"+(p?" query-region-group-mobile":" query-region-group"),"data-toggle":"buttons"},r.a.createElement("label",{className:"btn btn-outline-success",ref:function(e){return u.current.option1=e}},r.a.createElement("input",{type:"radio",name:"options",id:"option1",onClick:function(){return s(Object(c.a)(Object(c.a)({},l),{},{queryState:0}))}})," ",h("inputRegion.today")),r.a.createElement("label",{className:"btn btn-outline-success",ref:function(e){return u.current.option2=e}},r.a.createElement("input",{type:"radio",name:"options",id:"option2",onClick:function(){return s(Object(c.a)(Object(c.a)({},l),{},{queryState:7}))}})," ",h("inputRegion.prev7")),r.a.createElement("label",{className:"btn btn-outline-success",ref:function(e){return u.current.option3=e}},r.a.createElement("input",{type:"radio",name:"options",id:"option3",onClick:function(){return s(Object(c.a)(Object(c.a)({},l),{},{queryState:120}))}})," ",h("inputRegion.prevThreeMonth")),r.a.createElement("label",{className:"btn btn-outline-success",ref:function(e){return u.current.option4=e}},r.a.createElement("input",{type:"radio",name:"options",id:"option4",onClick:function(){return s(Object(c.a)(Object(c.a)({},l),{},{queryState:"yearAgo"}))}})," ",h("inputRegion.lastYear")),r.a.createElement("label",{className:"btn btn-outline-success",ref:function(e){return u.current.option5=e}},r.a.createElement("input",{type:"radio",name:"options",id:"option5",onClick:function(){return s(Object(c.a)(Object(c.a)({},l),{},{queryState:"thisYear"}))}})," ",h("inputRegion.thisYear"))),r.a.createElement("div",{className:"col-sm-6 col-md-2",style:{margin:"3px 0",float:"left",display:"flex",alignItems:"center",width:ae.isMobile()?"100%":"auto"}},r.a.createElement("div",null,h("inputRegion.start")),r.a.createElement("div",{className:"col"},r.a.createElement("input",{type:"date",className:"form-control",placeholder:h("inputRegion.date"),onChange:function(e){return b(e.target.value,"start")},value:E}))),r.a.createElement("div",{className:"col-sm-6 col-md-2",style:{margin:"3px 0",float:"left",display:"flex",alignItems:"center",width:ae.isMobile()?"100%":"auto"}},r.a.createElement("div",null,h("inputRegion.end")),r.a.createElement("div",{className:"col"},r.a.createElement("input",{type:"date",className:"form-control",placeholder:h("inputRegion.date"),onChange:function(e){return b(e.target.value,"end")},value:x}))),r.a.createElement("button",{className:"btn btn-primary query-region-submit "+(p?" from-group col-md-2":" from-group col-md-2 query-region-submit"),style:Object(c.a)(Object(c.a)({},y()),{},{margin:"3px 0px"}),onClick:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=l.dateRegion1,a=l.dateRegion2,n=l.saleStatus,r=l.stockStatus,o={},i=new Date,u=new Date;if(m($("query")),e){if("yearAgo"===e){var d=(new Date).getFullYear()-1;o={dateRegion1:f.dateFormat(new Date(d,0,1)),dateRegion2:f.dateFormat(new Date(d,11,31)),saleStatus:n,stockStatus:r}}else if("thisYear"===e){var p=(new Date).getFullYear();o={dateRegion1:f.dateFormat(new Date(p,0,1)),dateRegion2:f.dateFormat(new Date(p,11,31)),saleStatus:n,stockStatus:r}}else i.setDate(i.getDate()-e),u.setDate(u.getDate()+1),o={dateRegion1:f.dateFormat(i),dateRegion2:f.dateFormat(u),saleStatus:n,stockStatus:r};return m(W(o))}if(!(t&&a&&n&&r))return Z.a.fire({icon:"warning",title:h("alertWarning!"),text:h("InputRegion.fieldsEmpty")});m(W(o={dateRegion1:t,dateRegion2:a,saleStatus:n,stockStatus:r})),s(Object(c.a)(Object(c.a)({},l),{},{date:"",name:"",number:"",price:"",sheet:""}))}(l.queryState)}},h("inputRegion.querySubmit")))))},oe={date:new Date,name:"",number:"",code_name:"",price:"",sheet:"",isSaleOpen:!0,datePickerDate:new Date},ce=function(){var e=Object(n.useState)(oe),t=Object(i.a)(e,2),a=t[0],l=t[1],s=Object(G.b)(),u=Object(o.j)(),m=Object(G.c)((function(e){return e.apiDataReducer})).acMoney,d=Object(ee.b)().t;Object(n.useEffect)((function(){l(Object(c.a)(Object(c.a)({},a),{},{date:f.dateFormat(new Date),datePickerDate:f.dateFormat(new Date)}))}),[]);var p=function(){return l(Object(c.a)(Object(c.a)({},a),{},{isSaleOpen:!a.isSaleOpen}))},h=a.datePickerDate,b=a.name,g=a.number,y=a.price,v=a.sheet,x=a.isSaleOpen,w=ae.isMobile(),O="/stockHistory"===u.pathname;return r.a.createElement(r.a.Fragment,null,!O&&r.a.createElement("div",{style:{margin:w?"0px 5px 0px 5px":"0 5px"}},x&&r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"col-md-2 stock-input-fields"},r.a.createElement("input",{type:"date",className:"form-control",placeholder:d("input.date"),onChange:function(e){return t=e.target.value,void l(Object(c.a)(Object(c.a)({},a),{},{date:t,datePickerDate:t}));var t},value:h})),r.a.createElement("div",{className:"from-group col-md-2 input-sale-info-frame"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:d("input.stockName"),onChange:function(e){return function(e){l(Object(c.a)(Object(c.a)({},a),{},{name:e}))}(e.target.value)},value:b,autoComplete:"on"})),r.a.createElement("div",{className:"from-group col-md-2 input-sale-info-frame"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:d("input.stockNumber"),onChange:function(e){return function(e){l(Object(c.a)(Object(c.a)({},a),{},{number:e}))}(e.target.value)},value:g,autoComplete:"on"})),r.a.createElement("div",{className:"from-group col-md-2 input-sale-info-frame"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:d("input.stockPrice"),onChange:function(e){return function(e){l(Object(c.a)(Object(c.a)({},a),{},{price:e}))}(e.target.value)},value:y,autoComplete:"on"})),r.a.createElement("div",{className:"from-group col-md-2 input-sale-info-frame"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:d("input.stockSheet"),onChange:function(e){return function(e){l(Object(c.a)(Object(c.a)({},a),{},{sheet:e}))}(e.target.value)},value:v,autoComplete:"on"})),r.a.createElement("button",{className:"btn btn-primary from-group col-sm-12 col-md-2 input-sale-frame",type:"submit",style:{borderRadius:"5px",margin:"3px 0px"},onClick:function(){return function(){var e=a.date,t=a.name,n=a.number,r=a.price,o=a.sheet;if(parseFloat(r)*parseFloat(o)*1e3>m)Z.a.fire({icon:"error",title:d("alertError"),text:d("depositIsNotEnough")});else{if(!(e&&t&&n)||isNaN(r)||isNaN(o))return Z.a.fire({icon:"warning",title:d("alertWarning"),text:d("buyFieldsIsEmpty")});var i={date:e,name:t,number:n,price:parseFloat(r),sheet:parseFloat(o)};E.insertNewData(i).then((function(){E.updateAccountRecord(i,!1),s(P())})),l(Object(c.a)(Object(c.a)({},a),{},{name:"",number:"",price:"",sheet:""}))}}()}},d("input.buyConfirm")))),w&&!x&&r.a.createElement("button",{className:"btn btn-warning from-group col-sm-2 col-md-12 input-sale-frame",type:"submit",onClick:function(){return p()}},d("input.buy")),w&&x&&r.a.createElement("button",{className:"btn btn-secondary from-group col-sm-2 col-md-12 input-sale-frame",type:"submit",onClick:function(){return p()}},d("hide")))},ie=a(67),le=a.n(ie),se=function(){var e=Object(G.c)((function(e){return e.mutualStateReducer})),t=e.queryStatus,i=e.isMerge,l=Object(G.c)((function(e){return e.apiDataReducer})),s=l.allStocks,u=l.unSaleStocks,m=l.showStocks,d=l.loading,p=(l.initLoading,Object(o.j)()),f=Object(G.b)(),b=ae.isMobile(),g=Object(ee.b)().t,y="/stockHistory"===p.pathname;Object(n.useEffect)((function(){console.log("1.",h.isFirst),h.isFirst&&f(H(!0)),f(A()),f(P())}),[]);var v=y?"all"===t?s:m:i?u.reduce((function(e,t,a){var n=e&&0===e.filter((function(e){return le.a.trim(e.number)===le.a.trim(t.number)})).length,r=1e3*t.price*t.sheet*.001425<20?20:Math.floor(1e3*t.price*t.sheet*.001425);if(n)e.push({cost:t.cost,income:0,name:t.name,number:t.number,price:t.price*t.sheet,sale_cost:0,sale_date:0,sale_price:0,sale_sheet:0,sheet:t.sheet,status:"unsale",handingFee:r});else{var o=le.a.findIndex(e,(function(e){return le.a.trim(e.number)===le.a.trim(t.number)}),0);e[o]=Object(c.a)(Object(c.a)({},e[o]),{},{cost:e[o].cost+t.cost,price:e[o].price+t.price*t.sheet,sheet:e[o].sheet+t.sheet,handingFee:e[o].handingFee+r})}return e}),[]):u;return"No Data"===v||0===v.length?h.isFirst&&(f(H(!1)),h.isFirst=!1):f(H(!1)),r.a.createElement("div",null,r.a.createElement(ce,null),r.a.createElement(re,null),r.a.createElement("div",{style:{overflowY:b?"scroll":"unset"}},r.a.createElement("table",{className:"table table-dark",style:{whiteSpace:"nowrap"}},r.a.createElement("thead",null,r.a.createElement("tr",{style:{position:"sticky",top:"0px",backgroundColor:"black"}},r.a.createElement("th",{scope:"col"},"#"),!y&&!1===i&&r.a.createElement("th",{scope:"col"},g("sell")),!y&&!1===i&&r.a.createElement("th",{scope:"col"},g("input.buyDate")),y&&r.a.createElement("th",{scope:"col"},g("input.buyDate")),y&&r.a.createElement("th",{scope:"col"},g("input.sellDate")),r.a.createElement("th",{scope:"col"},g("input.stockName")),r.a.createElement("th",{scope:"col"},g("input.stockNumber")),r.a.createElement("th",{scope:"col"},g("input.avgPrice")),r.a.createElement("th",{scope:"col"},g("input.stockSheet")),r.a.createElement("th",{scope:"col"},g("input.handingFee")),r.a.createElement("th",{scope:"col"},g("input.cost")),r.a.createElement("th",{scope:"col"},g("state")),r.a.createElement("th",{scope:"col"},g("input.sellTotalPrice")),r.a.createElement("th",{scope:"col"},g("input.income")),!y&&r.a.createElement("th",{scope:"col"},g("delete")))),r.a.createElement("tbody",null,!d&&"No Data"!==v&&0!==v.length&&v.map((function(e,t){return r.a.createElement(te,{key:e.number+t,stock:e,index:t+1,isMerge:i})})),!h.isFirst&&d&&r.a.createElement("div",{style:{position:"absolute",top:0,left:0,height:"100%",width:"100%",display:"block",zIndex:7}},r.a.createElement("img",{alt:"",style:{display:"flex",width:"64px",height:"64px",position:"relative",margin:"0px auto",backgroundSize:"100%",top:"calc(50% - 50px)"},src:a(117)})),"No Data"===v&&r.a.createElement("div",{style:{position:"absolute",top:"50%",left:0,height:"50%",width:"100%",display:"block",zIndex:7}},r.a.createElement("div",{alt:"",style:{position:"relative",margin:"0px auto",color:"black",fontSize:32}},"No Data"))))))},ue=a(8),me={"\u80a1\u5229":1,"\u85aa\u8cc7":2,"\u624b\u7e8c\u8cbb\u6298":3},de=function(e){var t=e.source,a=null;if(t)switch(Object.keys(me).forEach((function(e){a||(a=-1!==t.search(e)&&me[e])})),a){case 1:return"red";case 2:return"green";case 3:return"purple";default:return"black"}},pe=Object(ue.a)("td")((function(e){return{color:de(e)}})),fe=function(e){var t=e.record,a=e.index;return r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},a),r.a.createElement("td",null,t.account_record_Money),r.a.createElement("td",null,t.account_record_Stock),r.a.createElement("td",null,t.transfer),r.a.createElement("td",null,t.transferStatus),r.a.createElement("td",null,t.transferTime),r.a.createElement(pe,{source:t.source},t.source))},he={date:new Date,price:"",transferStatus:"transferIn",source:""},be=function(e){var t=Object(n.useState)(he),a=Object(i.a)(t,2),o=a[0],l=a[1],s=Object(G.b)(),u=Object(ee.b)().t,m=function(e){return l(Object(c.a)(Object(c.a)({},o),{},{transferStatus:e.target.value}))};return r.a.createElement("div",{style:{margin:"5px 5px"}},r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"col"},r.a.createElement("input",{type:"text",className:"form-control input-sale-info-frame",placeholder:u("price"),onChange:function(e){return t=e.target.value,l(Object(c.a)(Object(c.a)({},o),{},{price:t.trim()}));var t},value:o.price})),r.a.createElement("div",{className:"from-group col-md-2 input-sale-info-frame"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:u("source"),onChange:function(e){return t=e.target.value,l(Object(c.a)(Object(c.a)({},o),{},{source:t.trim()}));var t},value:o.source})),r.a.createElement("div",{className:"btn-group btn-group-toggle from-group col-md-2","data-toggle":"buttons",style:Object(c.a)({},ae.isMobile()?{margin:"4px  0px"}:{margin:"3px auto"})},r.a.createElement("label",{className:"btn btn-warning active",onClick:m},r.a.createElement("input",{type:"radio",name:"stockOption",id:"individual",value:"transferIn",autoComplete:"off"})," ",u("deposit")),r.a.createElement("label",{className:"btn btn-warning",onClick:m},r.a.createElement("input",{type:"radio",name:"stockOption",id:"mutual",value:"transferOut",autoComplete:"off"})," ",u("transfer"))),r.a.createElement("button",{style:{borderRadius:"5px",margin:"auto 5px"},className:"btn btn-primary from-group col-md-2 input-sale-frame",type:"submit",onClick:function(){var e=o.price,t=o.transferStatus,a=o.source;if(isNaN(e)||""===e.trim())Z.a.fire({icon:"warning",title:u("alertWarning"),text:u("fieldInputWarning_Price")});else{if(!t||!a||isNaN(e))return Z.a.fire({icon:"warning",title:u("alertWarning"),text:u("inputRegion.fieldsEmpty")});var n={price:Number(e),transferStatus:t,source:a};E.tradeForAccount(n).then((function(){s(T()),s(A())})),l(Object(c.a)(Object(c.a)({},o),{},{price:"",source:""}))}}},u("confirm"))))},ge=(a(207),{isAssetTransfer:!0}),ye=function(){var e=Object(n.useState)(ge),t=Object(i.a)(e,2),o=t[0],s=t[1],u=Object(n.useState)(!1),m=Object(i.a)(u,2),d=m[0],p=m[1],f=Object(G.b)(),h=Object(ee.b)().t,b=(Object(G.c)((function(e){return e.mutualStateReducer})).contentLoading,Object(G.c)((function(e){return e.apiDataReducer}))),g=b.records,y=b.recordsLoading,v=b.acTime,E=b.acMoney,x=b.acStock,w=b.acSummary;Object(n.useEffect)((function(){f(T()),f(A()),window.addEventListener("scroll",(function(){document.documentElement.scrollTop>0?p(!0):p(!1)}))}),[]);var O=function(){return s(Object(c.a)(Object(c.a)({},o),{},{isAssetTransfer:!k}))},k=o.isAssetTransfer;return r.a.createElement("div",null,d&&r.a.createElement("div",{style:{position:"absolute"}},r.a.createElement("div",{style:{position:"fixed",right:"25px",bottom:"25px",width:"50px",height:"50px",fontSize:"40px",backgroundColor:"cornflowerblue",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},onClick:function(){return window.scrollTo({top:0,behavior:"smooth"})}},r.a.createElement(l.a,null))),r.a.createElement("nav",null,r.a.createElement("div",{className:"nav nav-tabs",id:"nav-tab",role:"tablist"},r.a.createElement("a",{className:"nav-item nav-link active",style:{width:"100%",border:"0px",display:"flex",justifyContent:"center"},id:"nav-home-tab","data-toggle":"tab",href:"#nav-home",role:"tab","aria-controls":"nav-home","aria-selected":"true"},h("twProperty")))),r.a.createElement("div",{className:"tab-content",id:"nav-tabContent"},r.a.createElement("div",{className:"tab-pane fade show active",id:"nav-home",role:"tabpanel","aria-labelledby":"nav-home-tab"},ae.isMobile()&&!k&&r.a.createElement("button",{className:"btn btn-warning from-group col-sm-2 col-md-12 input-sale-frame",type:"submit",onClick:function(){return O()}},h("transferProperty")),ae.isMobile()&&k&&r.a.createElement("button",{className:"btn btn-secondary from-group col-sm-2 col-md-12 input-sale-frame",type:"submit",onClick:function(){return O()}},h("hide")),k&&r.a.createElement(be,null),r.a.createElement("div",{className:"container"},r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",{style:{}},r.a.createElement("th",null,h("createTime")),r.a.createElement("th",null,h("accountMoney")),r.a.createElement("th",null,h("stockAccount")),r.a.createElement("th",null,h("tMoney")))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,v),r.a.createElement("td",null,E),r.a.createElement("td",null,x),r.a.createElement("td",null,w))))),r.a.createElement("div",null,r.a.createElement("div",{className:"table-responsive",style:{overflowX:"unset"}},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",{style:{position:"sticky",top:"0px",backgroundColor:"black",color:"#FFFFFF"}},r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},h("accountMoney")),r.a.createElement("th",{scope:"col"},h("stockMoney")),r.a.createElement("th",{scope:"col"},h("price"),"(",h("iIncome"),")"),r.a.createElement("th",{scope:"col"},h("state")),r.a.createElement("th",{scope:"col"},h("time")),r.a.createElement("th",{scope:"col"},h("source")))),r.a.createElement("tbody",null,!y&&g.map((function(e,t){return r.a.createElement(fe,{key:t,record:e,index:t})})),y&&r.a.createElement("div",{style:{position:"absolute",top:0,left:0,height:"100%",width:"100%",display:"block",zIndex:7}},r.a.createElement("img",{alt:"",style:{display:"flex",width:"64px",height:"64px",position:"relative",margin:"0px auto",backgroundSize:"100%",top:"calc(50% - 50px)"},src:a(117)}))))))),r.a.createElement("div",{className:"tab-pane fade",id:"nav-profile",role:"tabpanel","aria-labelledby":"nav-profile-tab"},ae.isMobile()&&k&&r.a.createElement("button",{className:"btn btn-warning from-group col-md-2 input-sale-frame",type:"submit",onClick:function(){return O()}},h("transferProperty")),ae.isMobile()&&!k&&r.a.createElement("button",{className:"btn btn-secondary from-group col-md-2 input-sale-frame",type:"submit",onClick:function(){return O()}},h("hide")),k&&r.a.createElement(be,null),r.a.createElement("div",{className:"container"},r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,h("createTime")),r.a.createElement("th",null,h("accountMoney"),"($)"),r.a.createElement("th",null,h("stockAccount"),"($)"),r.a.createElement("th",null,h("tMoney"),"($)"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,v),r.a.createElement("td",null,E),r.a.createElement("td",null,x),r.a.createElement("td",null,w))))),r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",null,h("accountMoney"),"($)"),r.a.createElement("th",null,h("stockAccount"),"($)"),r.a.createElement("th",{scope:"col"},h("price"),"(",h("iIncome"),")"),r.a.createElement("th",null,h("state")),r.a.createElement("th",null,h("time")),r.a.createElement("th",null,h("source")))),r.a.createElement("tbody",null))))))},ve=a(268),Ee=a(25),xe=a(44),we=a.n(xe),Oe=a(57),ke=a.n(Oe),je=Object(ue.a)("div")(w||(w=Object(Ee.a)(["\n  display: flex;\n"]))),Se=Object(ue.a)("div")(O||(O=Object(Ee.a)(["\n  margin: 5px;\n  width: 50%;\n  text-align: left;\n  font-size: 20px;\n  color: #6495ED;\t\n"]))),Ne=Object(ue.a)("span")(k||(k=Object(Ee.a)(["\n  text-align: left;\n  font-size: 20px;\n  color: #FF0000;\t\n"]))),_e=function(e){var t=e.chartInfo,a=void 0===t?{}:t,o=(e.type,e.dividend),c=Object(ee.b)().t,l=Object(n.useState)([]),s=Object(i.a)(l,2),u=s[0],m=s[1],d=n.useRef<ke.a.RefObject>null,p={chart:{height:"70%",type:"column"},title:{text:c("chart.yearIncomeChart")},xAxis:{categories:a.yearCategories,lineWidth:1},yAxis:[{lineWidth:1,labels:{format:"{value} "+c("twDollars"),style:{color:we.a.getOptions().colors[1]}},title:{text:c("twMoney"),style:{color:we.a.getOptions().colors[1]}}}],series:[{name:c("income"),type:"column",data:a.yearValue,tooltip:{valueSuffix:" "+c("twDollars")}},{name:c("chart.dividend"),type:"column",data:u,tooltip:{valueSuffix:" "+c("twDollars")}}]};return Object(n.useEffect)((function(){if("{}"!==JSON.stringify(a)){var e=[];a.yearCategories.map((function(t){e.push(o[t]?o[t].reduce((function(e,t){return e+=Number(t.transfer)}),0):0)})),m(e)}}),[a]),r.a.createElement("div",{style:{height:"60vh"}},r.a.createElement(je,null,r.a.createElement(Se,null,c("tIncome"),r.a.createElement(Ne,null,0!==Object.keys(a).length&&a.yearValue.reduce((function(e,t){return e+t.y}),0)))),r.a.createElement(ke.a,{highcharts:we.a,options:p,usRef:d}))},Ce=a(16),Ie=a(262),Le=a(265),De=Object(ue.a)("div")(j||(j=Object(Ee.a)(["\n  display: flex;\n  align-items: center;\n  margin: 5px;\n"]))),Re=Object(ue.a)("div")(S||(S=Object(Ee.a)(["\n  display: flex;\n  flex-basis: 25%;;\n  text-align: left;\n  font-size: 20px;\n  color: #6495ed;\n"]))),Me=Object(ue.a)("span")(N||(N=Object(Ee.a)(["\n  text-align: left;\n  font-size: 20px;\n  color: #ff0000;\n"]))),Fe=Object(ue.a)("div")(_||(_=Object(Ee.a)(["\n  display: flex;\n  flex-grow: 1;  \n  align-items: center;\n"]))),Pe=Object(ue.a)("div")(C||(C=Object(Ee.a)(['\n  display: flex;\n  align-self: center;\n  font-size: 20px;\n  color: #6495ed;\n  &:after {\n    content: "\xa0\xa0";\n  }\n'],['\n  display: flex;\n  align-self: center;\n  font-size: 20px;\n  color: #6495ed;\n  &:after {\n    content: "\\xa0\\xa0";\n  }\n']))),Te=function(e){var t=e.chartInfo,a=(e.type,Object(n.useState)("all")),o=Object(i.a)(a,2),c=o[0],l=o[1],s=Object(n.useState)([{value:"all",label:"all"}]),u=Object(i.a)(s,2),m=u[0],d=u[1],p=Object(n.useState)({value:t.monthValue,rate:t.monthRate,date:t.categories}),f=Object(i.a)(p,2),h=f[0],b=f[1],g=n.useRef<ke.a.RefObject>null,y=Object(ee.b)().t;Object(n.useEffect)((function(){"{}"!==JSON.stringify(t)&&b("all"!==c?{value:t.monthValue.filter((function(e){return new RegExp("".concat(c)).test(e.date)&&e})),rate:t.monthRate.filter((function(e){return new RegExp("".concat(c)).test(e.date)&&e})),date:t.categories.filter((function(e){return new RegExp("".concat(c)).test(e)&&e}))}:{value:t.monthValue,rate:t.monthRate,date:t.categories})}),[c]),Object(n.useEffect)((function(){b({value:t.monthValue,rate:t.monthRate,date:t.categories})}),[]),Object(n.useEffect)((function(){if("{}"!==JSON.stringify(t)){var e,a,n=t.yearCategories&&t.yearCategories.map((function(e){return{value:e,label:e}}));n?(e=m.slice(1),a=n,Array.isArray(e)&&Array.isArray(a)&&e.length===a.length&&e.every((function(e,t){return e.value===a[t].value}))||d(m.concat(n))):d(m),b({value:t.monthValue,rate:t.monthRate,date:t.categories})}}),[t]);var v={chart:{height:"70%",type:"column",alignTicks:!0},title:{text:y("chart.monthIncomeChart")},xAxis:[{type:"category",categories:h.date},{type:"category",categories:h.date,linkedTo:0,labels:{enabled:!1},offset:0}],yAxis:[{softMax:h.value?Math.max.apply(Math,Object(Ce.a)(h.value.map((function(e){return e.y})))):0,softMin:h.value?Math.min.apply(Math,Object(Ce.a)(h.value.map((function(e){return e.y})))):0,lineWidth:1,gridLineWidth:3,labels:{format:"{value} "+y("twMoney"),style:{color:we.a.getOptions().colors[1]}},title:{text:y("twMoney"),style:{color:we.a.getOptions().colors[1]}},opposite:!1}],series:[{name:y("income"),data:h.value,tooltip:{valueSuffix:y("twDollars")}}]};return r.a.createElement("div",{style:{height:"60vh"}},r.a.createElement(De,null,r.a.createElement(Re,null,y("tIncome"),r.a.createElement(Me,null,function(){if(h.value&&0!==h.value.length)return h.value.reduce((function(e,t){return e+t.y}),0)}())),r.a.createElement(Fe,null,r.a.createElement(Pe,null,y("chart.yearSelect")),r.a.createElement(Ie.a,{id:"outlined-select-year",select:!0,value:c,onChange:function(e){return l(e.target.value)},sx:{height:"30px",width:"75%","& .MuiOutlinedInput-root":{height:"30px",margin:"0px 5px"},"& legend":{width:0}}},m.map((function(e){return r.a.createElement(Le.a,{key:e.value,value:e.value},e.label)}))))),r.a.createElement(ke.a,{highcharts:we.a,options:v,usRef:g}))},Ae=a(87),ze=Object(ue.a)("div")(I||(I=Object(Ee.a)(["\n  display: flex;\n"]))),Ye=Object(ue.a)("div")(L||(L=Object(Ee.a)(["\n  margin: 5px;\n  width: 50%;\n  text-align: left;\n  font-size: 20px;\n  color: #6495ed;\n"]))),We=Object(ue.a)("span")(D||(D=Object(Ee.a)(["\n  text-align: left;\n  font-size: 20px;\n  color: #ff0000;\n"]))),Be=function(e){var t=e.perDividend,a=Object(n.useState)(0),o=Object(i.a)(a,2),c=o[0],l=o[1],s=Object(n.useRef)(null),u=Object(ee.b)().t,m={chart:{animation:{duration:500},marginRight:50},title:{text:u("chart.dividendChart"),align:"left"},subtitle:{useHTML:!0,floating:!0,align:"right",verticalAlign:"middle",y:-80,x:-100},legend:{enabled:!1},xAxis:{type:"category"},yAxis:{opposite:!0,tickPixelInterval:150,title:{text:null}},plotOptions:{series:{animation:!1,groupPadding:0,pointPadding:.1,borderWidth:0,colorByPoint:!0,dataSorting:{enabled:!0,matchByName:!0},type:"bar",dataLabels:{enabled:!0}}},series:[{type:"bar",name:2023,data:t}],responsive:{rules:[{condition:{maxWidth:550},chartOptions:{xAxis:{visible:!1},subtitle:{x:0},plotOptions:{series:{dataLabels:[{enabled:!0,y:8},{enabled:!0,format:"{point.name}",y:-8,style:{fontWeight:"normal",opacity:.7}}]}}}}]}};return Object(n.useEffect)((function(){var e=0;t.reduce((function(t,a){return t&&!isNaN(t.y)&&(e+=t.y),isNaN(a.y)||(e+=a.y),{}}),0),l(e)}),[]),r.a.createElement("div",{style:{height:"60vh"}},r.a.createElement(ze,null,r.a.createElement(Ye,null,u("tDividend")," ",r.a.createElement(We,null," ",c," "))),r.a.createElement(ke.a,{highcharts:we.a,options:m,usRef:s}))},Ge=Object(ue.a)("div")(R||(R=Object(Ee.a)(["\n  display: flex;\n  flex-grow: 1;  \n  align-items: center;\n  margin-bottom: 5px;\n"]))),qe=Object(ue.a)("div")(M||(M=Object(Ee.a)(['\n  display: flex;\n  align-self: center;\n  font-size: 20px;\n  color: #6495ed;\n  &:after {\n    content: "\xa0\xa0";\n  }\n'],['\n  display: flex;\n  align-self: center;\n  font-size: 20px;\n  color: #6495ed;\n  &:after {\n    content: "\\xa0\\xa0";\n  }\n']))),Ve=Object(ue.a)("div")(F||(F=Object(Ee.a)(["\n  margin: 5px;\n  white-space: nowrap;\n"]))),He=function(e){var t=e.chartInfo,a=e.allStocks,o={startYear:t.yearCategories[0],endYear:t.yearCategories[t.yearCategories.length-1],reportData:[],totalIncome:0,totalSaleCost:0,totalCost:0,totalPercent:0},l=Object(n.useState)(o),s=Object(i.a)(l,2),u=s[0],m=s[1],d=Object(ee.b)().t;Object(n.useEffect)((function(){var e=0,t=0,n=0;a.map((function(a){return e+=a.income,n+=a.cost,"sale"===a.status&&(t+=a.cost),{}})),m(Object(c.a)(Object(c.a)({},u),{},{totalIncome:e,totalSaleCost:t,totalCost:n,totalPercent:(e/t*100).toFixed(2)}))}),[]);var p=Object.assign([],u.reportData);return r.a.createElement(Ve,null,r.a.createElement(Ge,null,r.a.createElement(qe,null,d("chart.yearSelect")),r.a.createElement(Ie.a,{id:"outlined-select-year",select:!0,value:u.startYear,onChange:function(e){return m(Object(c.a)(Object(c.a)({},u),{},{startYear:e.target.value}))},sx:{height:"30px",width:"35%","& .MuiOutlinedInput-root":{height:"30px",margin:"0px 5px"},"& legend":{width:0}}},t.yearCategories.filter((function(e){return e<=u.endYear})).map((function(e,t){return r.a.createElement(Le.a,{key:t,value:e},e)}))),r.a.createElement(qe,null,d("chart.to")),r.a.createElement(Ie.a,{id:"outlined-select-year",select:!0,value:u.endYear,onChange:function(e){return m(Object(c.a)(Object(c.a)({},u),{},{endYear:e.target.value}))},sx:{height:"30px",width:"35%","& .MuiOutlinedInput-root":{height:"30px",margin:"0px 5px"},"& legend":{width:0}}},t.yearCategories.filter((function(e){return e>=u.startYear})).map((function(e,t){return r.a.createElement(Le.a,{key:t,value:e},e)}))),r.a.createElement("button",{type:"button",className:"btn btn-info",style:{height:"30px",alignItems:"center",display:"flex"},onClick:function(){return function(){for(var e=[],t=0,n=0,r=0,o=function(o){r=0,t=0,n=0,a.map((function(e){return"unsale"===e.status&&e.date.includes(o)&&(t+=e.cost),"sale"===e.status&&e.sale_date.includes(o)&&(n+=e.income,r+=e.cost),{}})),e.push({year:String(o),yearIncome:n,yearCost:r,yearUnsale:t,incomePercent:(n/r*100).toFixed(2)})},i=u.startYear;i<=u.endYear;i++)o(i);m(Object(c.a)(Object(c.a)({},u),{},{reportData:e}))}(u.startYear,u.endYear)}},d("confirm"))),r.a.createElement("div",{className:"table-responsive table-striped"},r.a.createElement("table",{className:"table",style:{marginTop:"5rem"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,d("chart.yearProfit"),"(",d("percent"),")"),r.a.createElement("th",null,d("chart.yearIncome")),r.a.createElement("th",null,d("chart.yearCost"),"(",d("chart.sale"),")"),r.a.createElement("th",null,d("chart.yearCost"),"(",d("chart.unsale"),")"))),r.a.createElement("tbody",null,p.reverse().map((function(e){return r.a.createElement("tr",{key:e.year}," ",r.a.createElement("td",null,e.year),r.a.createElement("td",{style:{color:e.incomePercent>=4?"red":"green"}},e.incomePercent),r.a.createElement("td",null,e.yearIncome),r.a.createElement("td",null,e.yearCost),r.a.createElement("td",null,e.yearUnsale))}))))),r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table",style:{marginTop:"5rem"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"\u7e3d\u6295\u5831\u7387(%)"),r.a.createElement("th",null,"\u6b77\u5e74\u7e3d\u640d\u76ca"),r.a.createElement("th",null,"\u6b77\u5e74\u7e3d\u6295\u5165(\u5df2\u8ce3\u51fa)"),r.a.createElement("th",null,"\u6b77\u5e74\u7e3d\u6295\u5165"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"All"),r.a.createElement("td",null,u.totalPercent),r.a.createElement("td",null,u.totalIncome),r.a.createElement("td",null,u.totalSaleCost),r.a.createElement("td",null,u.totalCost))))))},Je=function(){var e=Object(n.useState)({yearDividend:{},perDividend:[],chartInfo:{categories:[],monthValue:[],monthRate:[],yearCategories:[],yearValue:[]}}),t=Object(i.a)(e,2),a=t[0],o=t[1],l=Object(n.useState)("monthIncome"),s=Object(i.a)(l,2),u=s[0],m=s[1],d=Object(G.c)((function(e){return e.apiDataReducer})).allStocks,p=Object(G.b)(),f=Object(ee.b)().t;return Object(n.useEffect)((function(){0===d.length&&p(P())}),[]),Object(n.useEffect)((function(){if(0!==d.length){var e=d.filter((function(e){return 0!==e.income})).map((function(e){return Object(c.a)(Object(c.a)({},e),{},{sale_date:e.sale_date.substr(0,7)})})),t=function(e){for(var t=e[e.length-1].date.substring(0,4),a=e[e.length-1].date.substring(5,7),n=(new Date).getFullYear().toString(),r=((new Date).getMonth()+1).toString(),o=[],c=t;c<=n;c++)for(var i=c===t?a:1;i<=(c===n?r:12);i++)i.toString().length<=1&&0!==i?o.push("".concat(c,"-0").concat(i)):o.push("".concat(c,"-").concat(i));return o>12&&(o=o.slice(11)),o}(d),a=function(e,t){var a=[],n=[],r=0;return e.map((function(e){var o=0,c=0;return t.forEach((function(t){t.sale_date===e&&(o+=t.income,c+=t.cost)})),r=0===o||0===c?0:Math.round(o/c*100),a.push({y:o,date:e,color:o>0?"#32a852":"#ff0000"}),n.push({y:r,date:e,color:r>0?"#0e6124":"#8E0011"}),{}})),[a,n]}(t,e),n=function(e){for(var t=e[e.length-1].date.substring(0,4),a=(new Date).getFullYear(),n=[],r=t;r<=a;r++)n.push("".concat(r));return n}(d),r=function(e,t){var a=[];return e.map((function(e){var n=0;return t.forEach((function(t){t.sale_date.substr(0,4)===e&&(n+=t.income)})),a.push({y:n,color:n>0?"#32a852":"#ff0000"}),{}})),a}(n,e),i={},l=[],s=function(e){return/\u80a1\u5229/.test(e.source)};E.getAccountRecord().then((function(e){e.map((function(e){!i[e.transferTime.substring(0,4)]&&s(e)?(i[e.transferTime.substr(0,4)]=[],i[e.transferTime.substr(0,4)].push(e)):s(e)&&i[e.transferTime.substr(0,4)].push(e),s(e)&&!l.flat().includes(e.source)?l.push([e.source,Number(e.transfer)]):s(e)&&l.flat().includes(e.source)&&l.forEach((function(t){t[0]===e.source&&(t[1]+=Number(e.transfer))}))}))})),o({yearDividend:i,perDividend:l,chartInfo:{categories:t,monthValue:a[0],monthRate:a[1],yearCategories:n,yearValue:r}})}}),[d]),r.a.createElement(ve.a,{container:!0,style:{justifyContent:"center"}},r.a.createElement("div",{className:"btn-group col-sm-12",role:"group","aria-label":"Basic example",style:{padding:0}},r.a.createElement("button",{type:"button",className:"btn btn-info ".concat("monthIncome"===u&&"active"),onClick:function(){return m("monthIncome")}},f("chart.monthIncomeChart")),r.a.createElement("button",{type:"button",className:"btn btn-info ".concat("yearIncome"===u&&"active"),onClick:function(){return m("yearIncome")}},f("chart.yearIncomeChart")),r.a.createElement("button",{type:"button",className:"btn btn-info ".concat("dividend"===u&&"active"),onClick:function(){return m("dividend")}},f("chart.dividendChart")),r.a.createElement("button",{type:"button",className:"btn btn-info ".concat("report"===u&&"active"),onClick:function(){return m("report")}},f("chart.yearIncomeReport"))),"monthIncome"===u&&r.a.createElement(ve.a,{item:!0,xs:12,md:6},r.a.createElement(Te,{chartInfo:a.chartInfo,monthValue:a.chartInfo.monthValue,type:"year"})),"yearIncome"===u&&r.a.createElement(ve.a,{item:!0,xs:12,md:6},r.a.createElement(_e,{chartInfo:a.chartInfo,type:"year",dividend:a.yearDividend})),"dividend"===u&&r.a.createElement(ve.a,{item:!0,xs:12,md:6},r.a.createElement(Be,{perDividend:a.perDividend})),"report"===u&&r.a.createElement(ve.a,{item:!0,xs:12,md:6},r.a.createElement(He,{allStocks:d,chartInfo:a.chartInfo})))},Qe=function(){return r.a.createElement("div",null,"Not Found")},Ue=a(159),$e={wrapper:{display:"flex",alignItems:"center",flexDirection:"column",justifyContent:"center",width:"100%",minHeight:"100%",padding:"20px",position:"absolute",backgroundColor:"rgba(0,0,0,0.7)"},frameContent:{WebkitBorderRadius:"10px 10px 10px 10px",borderRadius:"10px 10px 10px 10px",background:"#fff",padding:"0px",width:"90%",maxWidth:"450px",position:"fixed",WebkitBoxShadow:"0 30px 60px 0 rgba(0,0,0,0.3)",boxShadow:"0 30px 60px 0 rgba(0,0,0,0.3)",textAlign:"center",border:"5px solid #2196f3",top:"25%"},logIn:{width:"75px",height:"75px",backgroundSize:"100%",margin:"15px auto",borderRadius:"50px",backgroundColor:"rgb(0 127 185 / 50%)",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",color:"aliceblue",cursor:"pointer",":hover":{backgroundColor:"rgb(0 127 185 / 25%)"}},register:{width:"75px",height:"75px",backgroundSize:"100%",margin:"15px auto",borderRadius:"50px",backgroundColor:"rgb(232 88 78)",position:"relative",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",color:"aliceblue",cursor:"pointer",":hover":{backgroundColor:"rgb(232 88 78 / 25%)"}},logo:{width:"75px",height:"75px",backgroundSize:"100%",margin:"15px auto"},inputContent:{textAlign:"center",textDecoration:"none",display:"inline-block",fontSize:"16px",margin:"5px",width:"93%",padding:"10px 20px"},input:{backgroundColor:"#f6f6f6",color:"#0d0d0d",padding:"10px 32px",textDecoration:"none",display:"inline-block",fontSize:"16px",margin:"5px",width:"93%",border:"2px solid #f6f6f6"},submit:{backgroundColor:"#000000",border:"none",color:"white",padding:"15px 20px",textAlign:"center",textDecoration:"none",display:"inline-block",textTransform:"uppercase",fontSize:"13px",opacity:.5,margin:"20px",width:"50%",":hover":{opacity:1,backgroundColor:"#000000",boxShadow:"#00000"}},back:{backgroundColor:"#ff990e",border:"none",color:"white",padding:"15px 20px",textAlign:"center",textDecoration:"none",display:"inline-block",textTransform:"uppercase",fontSize:"13px",opacity:.5,margin:"20px",width:"50%",":hover":{opacity:1,backgroundColor:"#ff990e",boxShadow:"#00000"}},forgetPWD:{marginBottom:"20px"}},Xe={email:"",resetEmail:"",password:"",isLogIn:!0,error:!1,message:"",isOpenForgetPWD:!1},Ke=Object(Ue.a)((function(e){var t=Object(o.l)(),l=Object(G.b)(),s=Object(n.useState)(Xe),u=Object(i.a)(s,2),m=u[0],p=u[1],b=Object(ee.b)().t,g=function(e){return p(Object(c.a)(Object(c.a)({},m),{},{isOpenForgetPWD:!1,isLogIn:e}))},y=function(a,n){var r=e.logInCallBack;if(!a&&!n)return p(Object(c.a)(Object(c.a)({},m),{},{error:!0,message:b("enterAccountWarning")})),void setTimeout((function(){return p(Object(c.a)(Object(c.a)({},m),{},{error:!1,message:""}))}),5e3);d.auth().signInWithEmailAndPassword(a,n).then((function(e){var a=d.auth().currentUser;a&&(localStorage.setItem("account-stock",a.uid),console.log("log in successfully"),h.user_id=a.uid,p(Object(c.a)(Object(c.a)({},m),{},{email:"",password:""})),r&&r(a.uid),l(U()),t("/sstock"))})).catch((function(e){Z.a.fire({icon:"warning",title:b("alertWarning"),text:e.message.toString()}),p(Object(c.a)(Object(c.a)({},m),{},{error:!0,message:e.message})),setTimeout((function(){return p(Object(c.a)(Object(c.a)({},m),{},{error:!1,message:""}))}),5e3)}))},v=function(t,a){var n=e.logInCallBack,r=e.homePageCallBack;if(!t&&!a)return p(Object(c.a)(Object(c.a)({},m),{},{error:!0,message:b("enterAccountWarning")})),void setTimeout((function(){return p(Object(c.a)(Object(c.a)({},m),{},{error:!1,message:""}))}),5e3);var o={email:t,pwd:a};d.auth().createUserWithEmailAndPassword(o.email,o.pwd).then((function(e){h.user_id=e.user.uid,d.database().ref("/account_data/".concat(e.user.uid)).set({tw:{account_summary:{accountMoney:0,accountStock:0,accountTime:f.dateFormat(new Date),summary:0},account_record:{},stock_info:{}},us:{account_summary:{accountMoney:0,accountStock:0,accountTime:f.dateFormat(new Date),summary:0},account_record:{},stock_info:{}}}).then((function(){localStorage.setItem("account-sstock",e.user.uid),console.log("register successfully"),n&&n(e.user.uid),r&&r()}))})).catch((function(e){p(Object(c.a)(Object(c.a)({},m),{},{exist:!0,error:!0,message:e.message.toString()})),Z.a.fire({icon:"warning",title:b("alertWarning"),text:e.message.toString()}),console.log("register failed")}))},E=function(){return p(Object(c.a)(Object(c.a)({},m),{},{isOpenForgetPWD:!1}))},x=m.isLogIn,w=m.isOpenForgetPWD,O=ae.isMobile();return r.a.createElement("div",{style:$e.wrapper},r.a.createElement("div",{className:"fadeInDown",style:{width:O?"80%":"40%",display:"flex",position:"fixed",top:"5%"}},r.a.createElement("div",{key:"logIn",style:Object(c.a)(Object(c.a)({},$e.logIn),{},{border:x?"3px solid white":""}),onClick:function(){return g(!0)}},b("login.login")),r.a.createElement("div",{key:"register",style:Object(c.a)(Object(c.a)({},$e.register),{},{border:x?"":"3px solid white"}),onClick:function(){return g(!1)}},b("login.register"))),r.a.createElement("div",{className:"fadeInDown",style:Object(c.a)(Object(c.a)({},$e.frameContent),{},{border:x?"5px solid #2196f3":"5px solid rgb(232 88 78)"})},!w&&r.a.createElement("div",null,r.a.createElement("div",{className:"fadeIn first"},r.a.createElement("div",{style:Object(c.a)(Object(c.a)({},$e.logo),{},{backgroundImage:"url("+a(210)+")"})})),r.a.createElement("div",{style:Object(c.a)({},$e.inputContent)},r.a.createElement("input",{type:"text",style:$e.input,id:"email",onChange:function(e){return t=e.target.value,p(Object(c.a)(Object(c.a)({},m),{},{email:t}));var t},className:"fadeIn second",name:"login",placeholder:"email"}),r.a.createElement("input",{type:"password",style:$e.input,id:"password",onChange:function(e){return t=e.target.value,p(Object(c.a)(Object(c.a)({},m),{},{password:t}));var t},className:"fadeIn third",name:"login",placeholder:b("login.password")})),r.a.createElement("input",{style:Object(c.a)({},$e.submit),type:"submit",className:"fadeIn fourth",value:b(x?"login.login":"login.register"),onClick:function(){var e=m.email,t=m.password;switch(m.isLogIn){case!0:return y(e,t);case!1:return v(e,t);default:return{}}}}),x&&r.a.createElement("div",{id:"formFooter",style:$e.forgetPWD},r.a.createElement("a",{className:"underlineHover",href:"#",onClick:function(){return p(Object(c.a)(Object(c.a)({},m),{},{isOpenForgetPWD:!0}))}},b("forgotPassword")))),w&&r.a.createElement("div",{style:Object(c.a)({},$e.inputContent)},r.a.createElement("input",{type:"text",style:$e.input,id:"email",onChange:function(e){return t=e.target.value,p(Object(c.a)(Object(c.a)({},m),{},{resetEmail:t}));var t},className:"fadeIn second",name:"login",placeholder:b("login.email")}),r.a.createElement("input",{key:"backToLogIn",style:Object(c.a)(Object(c.a)({},$e.back),{},{margin:"5px",width:"45%"}),onClick:E,type:"button",className:"fadeIn fourth",value:"back"}),r.a.createElement("input",{style:Object(c.a)(Object(c.a)({},$e.submit),{},{margin:"5px",width:"45%"}),type:"submit",className:"fadeIn fourth",value:"submit to mail",onClick:function(){var e=m.resetEmail;d.auth().sendPasswordResetEmail(e).then((function(){Z.a.fire({icon:"warning",title:b("alertWarning"),text:b("resetPassword")}),E()})).catch((function(e){Z.a.fire({icon:"warning",title:b("alertWarning"),text:e.message})}))}}))))})),Ze={logOutButton:{backgroundColor:"#ef5959",color:"#ffffff",borderRadius:"5px",padding:"5px 10px",margin:"0px 5px",fontSize:"18px",whiteSpace:"nowrap",cursor:"pointer",":hover":{backgroundColor:"#ef0f0f"}},logOutButtonMobile:{backgroundColor:"#ef5959",color:"#ffffff",borderRadius:"5px",padding:"5px 10px",fontSize:"18px",":hover":{backgroundColor:"#ef0f0f"}},report:{display:"flex",alignItems:"center"},reportMobile:{width:"100%"},reportFormat:{display:"flex",alignItems:"baseline"},reportFormatMobile:{display:"flex",justifyContent:"space-between",alignItems:"baseline"},summaryTitle:{color:"black"},summaryFontSize:{fontSize:"24px"}},et=a(269),tt=a(264),at=a(266),nt=Ze.reportFormat,rt=Ze.reportFormatMobile,ot=Ze.summaryTitle,ct=Ze.summaryFontSize,it=function(e){var t=e.title,a=e.value,n=ae.isMobile();return r.a.createElement("div",{style:n?rt:nt},r.a.createElement("div",{style:ot}," ",t," "),r.a.createElement("div",{style:ct}," ",a," "))};function lt(){lt=function(){return t};var e,t={},a=Object.prototype,n=a.hasOwnProperty,r=Object.defineProperty||function(e,t,a){e[t]=a.value},o="function"==typeof Symbol?Symbol:{},c=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,a){return e[t]=a}}function u(e,t,a,n){var o=t&&t.prototype instanceof b?t:b,c=Object.create(o.prototype),i=new C(n||[]);return r(c,"_invoke",{value:j(e,a,i)}),c}function m(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",p="executing",f="completed",h={};function b(){}function g(){}function y(){}var v={};s(v,c,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(I([])));x&&x!==a&&n.call(x,c)&&(v=x);var w=y.prototype=b.prototype=Object.create(v);function O(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function a(r,o,c,i){var l=m(e[r],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==typeof u&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){a("next",e,c,i)}),(function(e){a("throw",e,c,i)})):t.resolve(u).then((function(e){s.value=e,c(s)}),(function(e){return a("throw",e,c,i)}))}i(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function j(t,a,n){var r=d;return function(o,c){if(r===p)throw new Error("Generator is already running");if(r===f){if("throw"===o)throw c;return{value:e,done:!0}}for(n.method=o,n.arg=c;;){var i=n.delegate;if(i){var l=S(i,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=f,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=p;var s=m(t,a,n);if("normal"===s.type){if(r=n.done?f:"suspendedYield",s.arg===h)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=f,n.method="throw",n.arg=s.arg)}}}function S(t,a){var n=a.method,r=t.iterator[n];if(r===e)return a.delegate=null,"throw"===n&&t.iterator.return&&(a.method="return",a.arg=e,S(t,a),"throw"===a.method)||"return"!==n&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=m(r,t.iterator,a.arg);if("throw"===o.type)return a.method="throw",a.arg=o.arg,a.delegate=null,h;var c=o.arg;return c?c.done?(a[t.resultName]=c.value,a.next=t.nextLoc,"return"!==a.method&&(a.method="next",a.arg=e),a.delegate=null,h):c:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,h)}function N(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(N,this),this.reset(!0)}function I(t){if(t||""===t){var a=t[c];if(a)return a.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function a(){for(;++r<t.length;)if(n.call(t,r))return a.value=t[r],a.done=!1,a;return a.value=e,a.done=!0,a};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=y,r(w,"constructor",{value:y,configurable:!0}),r(y,"constructor",{value:g,configurable:!0}),g.displayName=s(y,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s(e,l,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},O(k.prototype),s(k.prototype,i,(function(){return this})),t.AsyncIterator=k,t.async=function(e,a,n,r,o){void 0===o&&(o=Promise);var c=new k(u(e,a,n,r),o);return t.isGeneratorFunction(a)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},O(w),s(w,l,"Generator"),s(w,c,(function(){return this})),s(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),a=[];for(var n in t)a.push(n);return a.reverse(),function e(){for(;a.length;){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var a in this)"t"===a.charAt(0)&&n.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var a=this;function r(n,r){return i.type="throw",i.arg=t,a.next=n,r&&(a.method="next",a.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var c=this.tryEntries[o],i=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var l=n.call(c,"catchLoc"),s=n.call(c,"finallyLoc");if(l&&s){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),_(a),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;_(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,a,n){return this.delegate={iterator:I(t),resultName:a,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}var st=function(){var e,t=Object(G.b)(),a=Object(o.l)(),n=Object(o.j)(),l=Object(G.c)((function(e){return e.mutualStateReducer})).isMerge,m=Object(G.c)((function(e){return e.apiDataReducer})),d=m.totalCost,p=(m.saleCost,m.profit),f=m.profitAndLoss,h=m.lastYearROI,b=Object(ee.b)().t,g="/sstock"===n.pathname,y="/stockHistory"===n.pathname,v=(e={},Object(s.a)(e,b("navBar.totalCost"),d+b("twDollars")),Object(s.a)(e,b("navBar.profitAndLoss"),f+b("twDollars")),Object(s.a)(e,b("navBar.profit"),p+b("percent")),Object(s.a)(e,b("navBar.lastYearROI"),h+b("percent")),e),E=function(){return ae.isMobile()?{fontSize:"16px",marginLeft:"5px",background:"rgb(232 232 232)",borderRadius:"10px",whiteSpace:"nowrap"}:{fontSize:"16px",cursor:"pointer",background:"rgb(232 232 232)",borderRadius:"10px",whiteSpace:"nowrap"}},x=function(){return ae.isMobile()?{flexBasis:"100%",flexGrow:"1",alignItems:"center",color:"#ed2a2a",fontSize:"16px",fontWeight:"bold",whiteSpace:"nowrap"}:{flexBasis:"auto",color:"#ed2a2a",fontSize:"18px",fontWeight:"bold",whiteSpace:"nowrap"}},w=function(){var e=Object(u.a)(lt().mark((function e(){return lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("account-stock"),t(U()),a("/login");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=ae.isMobile(),k=Object.entries(v).map((function(e){var t=Object(i.a)(e,2),a=t[0],n=t[1];return r.a.createElement(it,{key:a,title:a,value:n})}));return r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-light ",style:{backgroundColor:"rgb(52 149 220)"}},r.a.createElement("div",{className:"navbar-brand",style:g?Object(c.a)(Object(c.a)({},E()),{},{padding:"5px"}):{cursor:"pointer"},onClick:function(e){return a("/sstock")}},b("navBar.twStock")),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarCollapse","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarCollapse",style:{flexBasis:"100%"}},r.a.createElement("ul",{className:"navbar-nav mr-auto",style:{alignItems:O?"unset":"center"}},r.a.createElement("li",{className:"nav-item","data-toggle":"collapse","data-target":".navbar-collapse.show",style:"/stockHistory"===n.pathname?E():{whiteSpace:"nowrap",width:"-webkit-fill-available",cursor:"pointer"}},r.a.createElement("div",{className:"nav-link",onClick:function(e){return a("/stockHistory")}},b("navBar.twStockHistory")," ",r.a.createElement("span",{className:"sr-only"}))),r.a.createElement("li",{className:"nav-item","data-toggle":"collapse","data-target":".navbar-collapse.show",style:"/account"===n.pathname?E():{whiteSpace:"nowrap",width:"-webkit-fill-available",cursor:"pointer"}},r.a.createElement("div",{className:"nav-link",onClick:function(e){return a("/account")}},b("navBar.myAccount"))),r.a.createElement("li",{className:"nav-item","data-toggle":"collapse","data-target":".navbar-collapse.show",style:"/chart"===n.pathname?E():{whiteSpace:"nowrap",width:"-webkit-fill-available",cursor:"pointer"}},r.a.createElement("div",{className:"nav-link",onClick:function(e){return a("/chart")}},b("navBar.incomeChart"))),g&&r.a.createElement(et.a,{sx:{whiteSpace:"nowrap",width:"-webkit-fill-available"}},r.a.createElement(tt.a,{sx:{marginBottom:0},control:r.a.createElement(at.a,{checked:l,onChange:function(){t(Q())},color:"warning"}),label:b("navBar.stockMerge")})),O&&r.a.createElement("li",{className:"nav-item","data-toggle":"collapse","data-target":".navbar-collapse.show",style:{marginTop:O?"5px":"0px",marginLeft:"5px",position:O?"unset":"absolute",right:O?"unset":"5px"}},r.a.createElement("div",{className:"nav-link",style:Ze.logOutButtonMobile,onClick:function(){return w()}},b("logout"))))),g&&r.a.createElement("div",{style:Object(c.a)({padding:"5px 0px"},x())},r.a.createElement(it,{title:b("navBar.currentTotalcost"),value:d+b("twDollars")})),y&&r.a.createElement("div",{style:Object(c.a)({display:"inherit"},x())},r.a.createElement("div",{style:O?Ze.reportMobile:Ze.report},k)),!O&&r.a.createElement("div",{style:Ze.logOutButton,onClick:function(){return w()}},b("logout"))))},ut=function(e){var t=e.children,c=Object(o.l)(),i=localStorage.getItem("account-stock"),l=Object(G.c)((function(e){return e.mutualStateReducer})).initLoading;return Object(n.useEffect)((function(){i||c("/login")}),[]),r.a.createElement("div",null,!0===l&&r.a.createElement("div",{style:{position:"absolute",top:0,left:0,height:"100%",width:"100%",display:"block",zIndex:7,backgroundColor:"rgba(0, 0, 0, 0.5)"}},r.a.createElement("img",{alt:"",style:{display:"flex",width:"128px",height:"128px",position:"relative",margin:"0px auto",backgroundSize:"100%",top:"calc(50% - 50px)"},src:a(219)})),i&&r.a.createElement(st,null),t)},mt=[{path:"/sstock",element:r.a.createElement(ut,{children:r.a.createElement(se,null)}),children:[]},{path:"/login",element:r.a.createElement(Ke,null),children:[]},{path:"/stockHistory",element:r.a.createElement(ut,{children:r.a.createElement(se,null)}),children:[]},{path:"/account",element:r.a.createElement(ut,{children:r.a.createElement(ye,null)}),children:[]},{path:"/chart",element:r.a.createElement(ut,{children:r.a.createElement(Je,null)}),children:[]},{path:"*",element:r.a.createElement(ut,null,r.a.createElement(Qe,null)),children:[]}],dt=function(){return Object(o.o)(mt)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var pt=a(46),ft=a(39),ht=Object(ft.b)({mutualStateReducer:X,apiDataReducer:B}),bt=Object(m.a)({reducer:ht}),gt=a(156),yt={en:{translation:a(157)},zh:{translation:a(158)}};Ae.a.use(ee.a).init({resources:yt,fallbackLng:"zh",lng:"zh",interpolation:{escapeValue:!1}});Ae.a;var vt=document.getElementById("root");Object(gt.createRoot)(vt).render(r.a.createElement(r.a.Fragment,null,r.a.createElement(pt.a,null,r.a.createElement(G.a,{store:bt},r.a.createElement(dt,null))))),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[168,1,2]]]);
//# sourceMappingURL=main.a027445d.chunk.js.map