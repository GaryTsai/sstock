/*! For license information please see main.bc05bdc6.chunk.js.LICENSE.txt */
(this.webpackJsonpsstock=this.webpackJsonpsstock||[]).push([[0],{101:function(e,t,a){e.exports=a.p+"static/media/contentLoading.aee8afdb.png"},114:function(e,t,a){},121:function(e,t,a){},122:function(e,t,a){},127:function(e,t,a){},163:function(e){e.exports=JSON.parse('{"hello":"hello!","link":"Let\'s learn React here"}')},164:function(e){e.exports=JSON.parse('{"input":{"buyConfirm":"\u78ba\u8a8d\u8cb7\u5165","buy":"\u8cb7\u5165","hide":"\u96b1\u85cf","date":"\u65e5\u671f","stockName":"\u80a1\u7968\u540d\u7a31","stockNumber":"\u7de8\u865f","stockPrice":"\u55ae\u50f9","stockSheet":"\u5f35\u6578","sellDate":"\u8ce3\u51fa\u65e5\u671f","buyDate":"\u8cfc\u8cb7\u65e5\u671f","avgPrice":"\u5e73\u5747\u55ae\u50f9","handingFee":"\u624b\u7e8c\u8cbb","cost":"\u8cfc\u8cb7\u6210\u672c","salePrice":"\u8ce3\u51fa\u50f9\u683c","sellTotalPrice":"\u8ce3\u51fa\u7e3d\u50f9","income":"\u640d\u76ca","breakevenPrice":"\u640d\u76ca\u5e73\u8861\u9ede(\u7d04\u7565)"},"navBar":{"totalCost":"\u6295\u5165\u6210\u672c:","profitAndLoss":"\u7e3d\u640d\u76ca:","profit":"\u6295\u5831\u7387:","lastYearROI":"\u53bb\u5e74\u6295\u5831\u7387:","twStock":"\u53f0\u7063\u80a1\u7968","twStockHistory":"\u53f0\u80a1\u6b77\u53f2\u7d00\u9304","myAccount":"\u6211\u7684\u5e33\u6236","incomeChart":"\u640d\u76ca\u5716\u8868","currentTotalcost":"\u76ee\u524d\u6295\u5165\u7e3d\u6210\u672c","stockMerge":"\u80a1\u7968\u7d71\u6574"},"inputRegion":{"startIsGreaterThanEnd":"\u8d77\u59cb\u6642\u9593\u4e0d\u53ef\u5927\u65bc\u7d50\u675f\u6642\u9593!","endIsLessThanStart":"\u7d50\u675f\u6642\u9593\u4e0d\u53ef\u5c0f\u65bc\u8d77\u59cb\u6642\u9593!","queryTimePeriod":"\u67e5\u8a62\u6642\u5340","allStock":"\u986f\u793a\u5168\u90e8\u80a1\u7968","fieldsEmpty":"\u4e0d\u8a31\u6709\u4efb\u4f55\u4e00\u500b\u70ba\u7a7a!","all":"\u5168\u90e8","sale":"\u5df2\u8ce3\u51fa","unsale":"\u672a\u8ce3\u51fa","today":"\u4eca\u5929","prev7":"\u524d 7 \u65e5","prevThreeMonth":"\u524d\u4e09\u6708","lastYear":"\u53bb\u5e74","thisYear":"\u4eca\u5e74","start":"\u8d77\u59cb:","end":"\u7d50\u675f","querySubmit":"\u67e5\u8a62\u9001\u51fa","date":"\u65e5\u671f"},"login":{"login":"\u767b\u5165","register":"\u8a3b\u518a","forgotPassword?":"\u5fd8\u8a18\u5bc6\u78bc?","email":"\u90f5\u4ef6\u5730\u5740","password":"\u5bc6\u78bc"},"chart":{"monthIncomeChart":"\u6708\u640d\u76ca\u5716","yearIncomeChart":"\u6b77\u5e74\u640d\u76ca\u5716","dividendChart":"\u80a1\u5229\u5716\u8868","yearDividendChart":"\u8a72\u5e74\u7e3d\u80a1\u5229","yearIncomeReport":"\u5e74\u640d\u76ca\u5831\u8868","yearSelect":"\u9078\u64c7\u5e74\u4efd:","to":"\u81f3:","yearCost":"\u8a72\u5e74\u6295\u5165","yearIncome":"\u5e74\u640d\u76ca","yearProfit":"\u5e74\u6295\u5831\u7387","dividend":"\u80a1\u5229","sale":"\u5df2\u8ce3\u51fa","unsale":"\u672a\u8ce3\u51fa","back":"\u56de\u7e3d\u640d\u76ca\u5716"},"resetPassword":"\u5df2\u767c\u9001\u4fe1\u4ef6\u81f3\u4fe1\u7bb1\uff0c\u8acb\u6309\u7167\u4fe1\u4ef6\u8aaa\u660e\u91cd\u8a2d\u5bc6\u78bc","enterAccountWarning":"Please input email&password","alertError":"\u932f\u8aa4","alertWarning":"\u8b66\u544a","depositIsNotEnough":"\u5b58\u6b3e\u4e0d\u8db3\u4ee5\u8cb7\u5165\u8a72\u50f9\u683c\u80a1\u7968\uff0c\u8acb\u78ba\u4fdd\u8a72\u5e33\u6236\u6709\u8db3\u5920\u7684\u91d1\u984d!","buyFieldsIsEmpty":"\u8cb7\u5165\u8cc7\u8a0a\u4e0d\u8a31\u6709\u4e00\u500b\u6b04\u4f4d\u70ba\u7a7a!","fieldInputWarning_Price":"\u91d1\u984d\u6b04\u4f4d\u8acb\u8f38\u5165\u6578\u5b57!","twDollars":"\u5143","percent":"%","twMoney":"\u53f0\u5e63","hide":"\u96b1\u85cf","tIncome":"\u7e3d\u640d\u76ca:","income":"\u640d\u76ca","tDividend":"\u7e3d\u80a1\u5229:","logout":"\u767b\u51fa","confirm":"\u78ba\u8a8d","comment":"\u80a1\u7968\u8a18\u4e8b","transfer":"\u8f49\u51fa","deposit":"\u5b58\u5165","price":"\u91d1\u984d","source":"\u4f86\u6e90","twProperty":"\u53f0\u80a1\u8cc7\u7522","transferProperty":"\u8cc7\u7522\u8f49\u79fb","createTime":"\u5275\u5efa\u6642\u9593","time":"\u6642\u9593","accountMoney":"\u5e33\u6236\u91d1\u984d","stockAccount":"\u80a1\u7968\u5e33\u6236","tMoney":"\u7e3d\u91d1\u984d","stockMoney":"\u80a1\u7968\u91d1\u984d","state":"\u72c0\u614b","iIncome":"\u542b\u640d\u76ca","delete":"\u522a\u9664","sell":"\u8ce3\u51fa","sellInfo":"\u8ce3\u51fa\u8cc7\u8a0a","sellPrice":"\u8ce3\u51fa\u55ae\u50f9","dividend":"\u80a1\u5229","salary":"\u85aa\u8cc7"}')},174:function(e,t,a){e.exports=a(228)},176:function(e,t,a){},212:function(e,t,a){},216:function(e,t,a){},225:function(e,t,a){},226:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAADsAAAA7AF5KHG9AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAqlJREFUWIXl179vFUcQB/DPMy6QMLizECLCLhLsDtEBwihdDJEghBQJDQhBpDT5DyLRpwLLqYIMcpMOQyRXSRR+JKKJ0sQ4qRA2v9PEJIUl4FLsHHfG9967e3bHV1o9vZnd+e7OzM7O8baj1XD+XhzFOLbjnZAv4jFuYBa/bdQGSZs8gQVkNccCPtb8gGswgl9Lhu/jIj7AKLbEGMUEJiVv5PNvY7hX8gN4EoaWcA79Ndb14RPci7V/4/2m5ONYCQOz2NrUQKy5FjZWwmYtjOBZLLwgnahX9Ekhy/A0bHdESxHz2QbkLXyBP7CMm1II803knritS2KeUMS8rts3Ycbam/CitIlteBjy451OkV+1Mz2Q/4MPY+Nfh+xGae65kM23M7ZXcdU29UC+v6TbVpLn6Jc8m2FPLizH+Fj8XsXLGuSXcVKK+QR+KenzjF8syV5IeVXmWoWfYncTNcjbnRz2hTyTErOMIyH/ocrwX6F8d4PIZ6zN+N2KUr0Gz0M50IH8Ssz5F4c6kH+numoOhP55FcFyKNtdv0uhX9b95O2SuCo5X+PPUL5XoftsA8hhLObdrVL+qH0S3gndqXWQ0yUJz4dy8g35EF7hP2xeBzl8E/O/qlLmhWjR6gTK3T8X/zfjtCJn6pJXFqIyyqX4bEk+rSirc5In8nr/bU1y+FyXUkxqozI8UNyGcoeTSeG4g09rEsMgHsX6jzpNbElPZiY9oX34OTY0LYVjqAGxsPF92LxVZ8Gw1DxkUjOx3oZkUtGQ7Kq7sNySXZcKSFMMKk6+goNNDRyQev1MatG+VK8p7Zfe/rwB6akpzTGiyIm8U5rCYamqDcQYk4rMlOKq5TGv7fZ2aElt1LzVt6HTmNcl28vGm2CP4tNsB3aGfElyef5p9ntDu28x/gdKjO+xklcCzQAAAABJRU5ErkJggg=="},227:function(e,t,a){e.exports=a.p+"static/media/loading.a57e7c9a.gif"},228:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=(a(114),a(176),a(177),a(178),a(11)),c=a(2),i=a(20),l=a(58),s=a.n(l),u=a(22),m=a(5),d=a(33),f=a.n(d),p=a(92),h=a(4),b=a(17),g=a(43),y=a(26),v=(a(128),a(120),a(207),a(209),[31,28,31,30,31,30,31,31,30,31,30,31]),E={dateFormat:function(e){return e.getFullYear()+"-"+("0"+(e.getMonth()+1)).slice(-2)+"-"+("0"+e.getDate()).slice(-2)},toDualDigit:function(e){return e<10?"0"+e:e},days:function(e,t){return console.log(e,t),(e%4===0&&e%100!==0||e%400===0)&&2===t?29:v[t]}},O={user_id:"",country:"tw",isFirst:!0,ETF:["006208","0050","00929","00919","0056"],HANDLING_CHARGE_RATE:.001422,MINIMUM_HANDLING_FEE:20,HANDLING_CHARGE_ETF_RATE:.001,HANDLING_CHARGE_STOCK_RATE:.003,BREAK_EVEN_RATE:.005869};function w(){w=function(){return t};var e,t={},a=Object.prototype,n=a.hasOwnProperty,r=Object.defineProperty||function(e,t,a){e[t]=a.value},o="function"==typeof Symbol?Symbol:{},c=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,a){return e[t]=a}}function u(e,t,a,n){var o=t&&t.prototype instanceof b?t:b,c=Object.create(o.prototype),i=new L(n||[]);return r(c,"_invoke",{value:N(e,a,i)}),c}function m(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",f="executing",p="completed",h={};function b(){}function g(){}function y(){}var v={};s(v,c,(function(){return this}));var E=Object.getPrototypeOf,O=E&&E(E(I([])));O&&O!==a&&n.call(O,c)&&(v=O);var j=y.prototype=b.prototype=Object.create(v);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function a(r,o,c,i){var l=m(e[r],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==typeof u&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){a("next",e,c,i)}),(function(e){a("throw",e,c,i)})):t.resolve(u).then((function(e){s.value=e,c(s)}),(function(e){return a("throw",e,c,i)}))}i(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function N(t,a,n){var r=d;return function(o,c){if(r===f)throw new Error("Generator is already running");if(r===p){if("throw"===o)throw c;return{value:e,done:!0}}for(n.method=o,n.arg=c;;){var i=n.delegate;if(i){var l=S(i,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var s=m(t,a,n);if("normal"===s.type){if(r=n.done?p:"suspendedYield",s.arg===h)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}function S(t,a){var n=a.method,r=t.iterator[n];if(r===e)return a.delegate=null,"throw"===n&&t.iterator.return&&(a.method="return",a.arg=e,S(t,a),"throw"===a.method)||"return"!==n&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=m(r,t.iterator,a.arg);if("throw"===o.type)return a.method="throw",a.arg=o.arg,a.delegate=null,h;var c=o.arg;return c?c.done?(a[t.resultName]=c.value,a.next=t.nextLoc,"return"!==a.method&&(a.method="next",a.arg=e),a.delegate=null,h):c:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,h)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function I(t){if(t||""===t){var a=t[c];if(a)return a.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function a(){for(;++r<t.length;)if(n.call(t,r))return a.value=t[r],a.done=!1,a;return a.value=e,a.done=!0,a};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=y,r(j,"constructor",{value:y,configurable:!0}),r(y,"constructor",{value:g,configurable:!0}),g.displayName=s(y,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s(e,l,"GeneratorFunction")),e.prototype=Object.create(j),e},t.awrap=function(e){return{__await:e}},k(x.prototype),s(x.prototype,i,(function(){return this})),t.AsyncIterator=x,t.async=function(e,a,n,r,o){void 0===o&&(o=Promise);var c=new x(u(e,a,n,r),o);return t.isGeneratorFunction(a)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},k(j),s(j,l,"Generator"),s(j,c,(function(){return this})),s(j,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),a=[];for(var n in t)a.push(n);return a.reverse(),function e(){for(;a.length;){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var a in this)"t"===a.charAt(0)&&n.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var a=this;function r(n,r){return i.type="throw",i.arg=t,a.next=n,r&&(a.method="next",a.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var c=this.tryEntries[o],i=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var l=n.call(c,"catchLoc"),s=n.call(c,"finallyLoc");if(l&&s){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),C(a),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;C(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,a,n){return this.delegate={iterator:I(t),resultName:a,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}var j;y.initializeApp({apiKey:"AIzaSyCHZGM1JyAUp_8_lm4OQFLviuiXFJJto5o",authDomain:"stock-f7053.firebaseapp.com",databaseURL:"https://stock-f7053.firebaseio.com",projectId:"stock-f7053",storageBucket:"stock-f7053.appspot.com",messagingSenderId:"1056992757888",appId:"1:1056992757888:web:2067426b1bcf54fd7c3e65",measurementId:"G-V0QBQ3VNJF"}),y.analytics();var k=O.HANDLING_CHARGE_RATE,x=O.HANDLING_CHARGE_ETF_RATE,N=O.HANDLING_CHARGE_STOCK_RATE;O.user_id=localStorage.getItem("account-stock");var S,_={getAllData:function(){var e=this;return Object(b.a)(w().mark((function t(){var a;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=y.database().ref("/account_data/".concat(O.user_id,"/").concat(O.country,"/stock_info")),t.next=3,a.once("value").then(function(){var t=Object(b.a)(w().mark((function t(a){var n,r,o,c,i,l,s,u,m,d;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=[],a.forEach((function(e){n.unshift(e.val())})),r=n.sort((function(e,t){return e.date<t.date?1:-1})),o=r.filter((function(e){return"sale"!==e.status})).sort((function(e,t){return e.date<t.date?1:-1})),c=r.filter((function(e){return"sale"===e.status})).sort((function(e,t){return e.sale_date>t.sale_date?1:-1})),!n){t.next=15;break}for(u in i=0,l=0,s=0,n)i+="unsale"===n[u].status?n[u].cost:0;for(m in n)l+="sale"===n[m].status?n[m].income:0,s+="sale"===n[m].status?n[m].cost:0;return t.next=13,e.getLastYearROI(n);case 13:d=t.sent,j={lastYearROI:d,showStocks:n,allStocks:n,saleStocks:c,unSaleStocks:o,totalCost:i,profitAndLoss:l,saleCost:s,profit:(l/s*100).toFixed(2)};case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 3:return t.abrupt("return",j);case 4:case"end":return t.stop()}}),t)})))()},insertNewData:function(e){return Object(b.a)(w().mark((function t(){var a,n,r;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Math.floor(Date.now()/1e3),n=Math.floor(1e3*e.price*e.sheet*1.001425),r=y.database().ref("/account_data/".concat(O.user_id,"/").concat(O.country,"/stock_info")),t.next=5,r.child(a.toString()).set({timestamp:a,date:e.date,name:e.name,number:e.number,price:e.price,sheet:e.sheet,cost:n,income:0,sale_cost:0,sale_date:0,sale_price:0,sale_sheet:0,status:"unsale"}).then((function(){console.log("insert new stock successfully")})).catch((function(e){console.error("insert new stock failed\uff1a",e)}));case 5:case"end":return t.stop()}}),t)})))()},deleteStock:function(e){return Object(b.a)(w().mark((function t(){return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:y.database().ref("/account_data/".concat(O.user_id,"/").concat(O.country,"/stock_info")).child("".concat(e)).remove().then((function(){console.log("delete stock successfully")})).catch((function(e){console.error("delete failed\uff1a",e)}));case 2:case"end":return t.stop()}}),t)})))()},updateStock:function(e,t,a){return Object(b.a)(w().mark((function n(){var r,o,c,i,l,s,u;return w().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=a.date===E.dateFormat(new Date),o=N,O.ETF.includes(a.number)&&(o=x),c=r?Math.floor(1e3*e*t*k)+Math.floor(1e3*e*t*o*(r?.5:1)):Math.round(1e3*e*t*(o+k)),i=Math.round(1e3*e*t)-c-a.cost,l=Math.round(1e3*e*t)-c,s=E.dateFormat(new Date),u=y.database().ref("/account_data/".concat(O.user_id,"/").concat(O.country,"/stock_info")),n.next=10,u.child(a.timestamp).update({income:i,sale_cost:l,sale_date:s,sale_price:e,sale_sheet:t,status:"sale"});case 10:case"end":return n.stop()}}),n)})))()},getAccount:function(){return Object(b.a)(w().mark((function e(){var t,a;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],a=y.database().ref("/account_data/".concat(O.user_id,"/").concat(O.country,"/account_summary")),e.next=4,a.once("value").then((function(e){t=e.val()}));case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))()},getAccountRecord:function(){return Object(b.a)(w().mark((function e(){var t,a;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],a=y.database().ref("/account_data/".concat(O.user_id,"/").concat(O.country,"/account_record")),e.next=4,a.once("value").then((function(e){e.forEach((function(e){t.unshift(e.val())}))}));case 4:return e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))()},tradeForAccount:function(e){return Object(b.a)(w().mark((function t(){var a,n,r,o,c,i,l,s,u;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=[],n=0,r=E.dateFormat(new Date),o=Math.floor(Date.now()/1e3),c=y.database().ref("/account_data/".concat(O.user_id,"/").concat(O.country,"/account_summary")),i=y.database().ref("/account_data/".concat(O.user_id,"/").concat(O.country,"/account_record")),t.next=8,c.once("value").then((function(e){a=e.val()}));case 8:return n="transferOut"===e.transferStatus?-1*e.price:e.price,l=a.accountMoney+n,s=a.accountStock,u=l+s,t.next=14,c.update({accountMoney:l,accountStock:s,summary:Math.floor(u)});case 14:return t.next=16,i.child(o.toString()).set({timestamp:o,account_record_Money:l,account_record_Stock:s,source:e.source,transfer:e.price,transferStatus:"transferIn"===e.transferStatus?"\u5b58\u5165(\u5e33\u6236)":"\u8f49\u51fa(\u5e33\u6236)",transferTime:r});case 16:return t.abrupt("return");case 17:case"end":return t.stop()}}),t)})))()},updateAccountRecord:function(e,t){return Object(b.a)(w().mark((function a(){var n,r,o,c,i,l,s,u,m,d,f,p;return w().wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n=Math.floor(Date.now()/1e3),r=E.dateFormat(new Date),o=[],c=y.database().ref("/account_data/".concat(O.user_id,"/").concat(O.country,"/account_summary")),a.next=6,c.once("value").then((function(e){o=e.val()}));case 6:return i=0,l=0,s=0,u=0,m=N,O.ETF.includes(l.number)&&(m=x),d=e.date===E.dateFormat(new Date),f=d?Math.floor(1e3*e.price*e.sheet*k)+Math.floor(1e3*e.price*e.sheet*m*(d?.5:1)):Math.round(1e3*e.price*e.sheet*(m+k)),t?(u=Math.round(1e3*e.price*e.sheet)-f,i=o.accountMoney+u,l=o.accountStock-e.cost):(s=Math.round(1e3*e.price*e.sheet)+Math.round(1e3*e.price*e.sheet*k),i=o.accountMoney-s,l=o.accountStock+s),a.next=17,c.update({accountMoney:i,accountStock:l,summary:i+l});case 17:return p=y.database().ref("/account_data/".concat(O.user_id,"/").concat(O.country,"/account_record")),a.next=20,p.child(n.toString()).set({timestamp:n,account_record_Money:i,account_record_Stock:l,source:"\u80a1\u7968",transfer:t?u:s,transferTime:r,transferStatus:t?"\u8f49\u51fa":"\u5b58\u5165"});case 20:return a.abrupt("return");case 21:case"end":return a.stop()}}),a)})))()},getLastYearROI:function(e){return Object(b.a)(w().mark((function t(){var a,n,r,o,c,i,l;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(i in a=E.dateFormat(new Date((new Date).getFullYear()-1,0,1)),n=E.dateFormat(new Date((new Date).getFullYear()-1,11,31)),r=e.filter((function(e){return a<=e.sale_date&&e.sale_date<=n})),o=0,c=0,r)o+=r[i].income,c+=r[i].cost;return l=100*o/c,t.abrupt("return",l.toFixed(2));case 8:case"end":return t.stop()}}),t)})))()},updateDataForDeleteStock:function(e){return Object(b.a)(w().mark((function t(){var a,n,r,o,c,i;return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=[],n=[],r=e.timestamp,o=y.database().ref("/account_data/".concat(O.user_id,"/").concat(O.country)),t.next=6,o.once("value").then((function(e){e.forEach((function(e){n.unshift(e.val())})),a=n[3]}));case 6:return c=Object.fromEntries(Object.entries(a).filter((function(e){return Object(m.a)(e,1)[0].includes(r)}))),i=Object.fromEntries(Object.entries(a).filter((function(e){return!Object(m.a)(e,1)[0].includes(r)}))),Object.entries(i).forEach((function(e){var t=Object(m.a)(e,2),a=(t[0],t[1]);c[r].timestamp<a.timestamp&&("\u5b58\u5165"===c[r].transferStatus?(a.account_record_Money=a.account_record_Money+c[r].transfer,a.account_record_Stock=a.account_record_Stock-c[r].transfer):(a.account_record_Money=a.account_record_Money-c[r].transfer,a.account_record_Stock=a.account_record_Stock+c[r].transfer))})),console.log("newRecords=>",i),_.getAccount().then(function(){var e=Object(b.a)(w().mark((function e(t){var a,n,o;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=y.database().ref("/account_data/".concat(O.user_id,"/").concat(O.country,"/account_summary")),n=t.accountMoney,o=t.accountStock,"\u5b58\u5165"===c[r].transferStatus?(n+=c[r].transfer,o-=c[r].transfer):(n-=c[r].transfer,o+=c[r].transfer),e.next=6,a.update({accountMoney:n,accountStock:o});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),"sale"===e.status&&console.log("stock=>",e),t.abrupt("return",e);case 13:case"end":return t.stop()}}),t)})))()},getStockComment:function(){return Object(b.a)(w().mark((function e(){var t,a;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],a=y.database().ref("/account_data/".concat(O.user_id,"/").concat(O.country,"/stock_comment")),e.next=4,a.once("value").then((function(e){t=e.val()}));case 4:return e.abrupt("return",{stockComment:t});case 5:case"end":return e.stop()}}),e)})))()},updateStockComment:function(e){return Object(b.a)(w().mark((function t(){return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:y.database().ref("/account_data/".concat(O.user_id,"/").concat(O.country)).update({stock_comment:e});case 1:case"end":return t.stop()}}),t)})))()}},C=_;function L(){L=function(){return t};var e,t={},a=Object.prototype,n=a.hasOwnProperty,r=Object.defineProperty||function(e,t,a){e[t]=a.value},o="function"==typeof Symbol?Symbol:{},c=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,a){return e[t]=a}}function u(e,t,a,n){var o=t&&t.prototype instanceof b?t:b,c=Object.create(o.prototype),i=new C(n||[]);return r(c,"_invoke",{value:x(e,a,i)}),c}function m(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",f="executing",p="completed",h={};function b(){}function g(){}function y(){}var v={};s(v,c,(function(){return this}));var E=Object.getPrototypeOf,O=E&&E(E(I([])));O&&O!==a&&n.call(O,c)&&(v=O);var w=y.prototype=b.prototype=Object.create(v);function j(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function a(r,o,c,i){var l=m(e[r],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==typeof u&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){a("next",e,c,i)}),(function(e){a("throw",e,c,i)})):t.resolve(u).then((function(e){s.value=e,c(s)}),(function(e){return a("throw",e,c,i)}))}i(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function x(t,a,n){var r=d;return function(o,c){if(r===f)throw new Error("Generator is already running");if(r===p){if("throw"===o)throw c;return{value:e,done:!0}}for(n.method=o,n.arg=c;;){var i=n.delegate;if(i){var l=N(i,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var s=m(t,a,n);if("normal"===s.type){if(r=n.done?p:"suspendedYield",s.arg===h)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}function N(t,a){var n=a.method,r=t.iterator[n];if(r===e)return a.delegate=null,"throw"===n&&t.iterator.return&&(a.method="return",a.arg=e,N(t,a),"throw"===a.method)||"return"!==n&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=m(r,t.iterator,a.arg);if("throw"===o.type)return a.method="throw",a.arg=o.arg,a.delegate=null,h;var c=o.arg;return c?c.done?(a[t.resultName]=c.value,a.next=t.nextLoc,"return"!==a.method&&(a.method="next",a.arg=e),a.delegate=null,h):c:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function I(t){if(t||""===t){var a=t[c];if(a)return a.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function a(){for(;++r<t.length;)if(n.call(t,r))return a.value=t[r],a.done=!1,a;return a.value=e,a.done=!0,a};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=y,r(w,"constructor",{value:y,configurable:!0}),r(y,"constructor",{value:g,configurable:!0}),g.displayName=s(y,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s(e,l,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},j(k.prototype),s(k.prototype,i,(function(){return this})),t.AsyncIterator=k,t.async=function(e,a,n,r,o){void 0===o&&(o=Promise);var c=new k(u(e,a,n,r),o);return t.isGeneratorFunction(a)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},j(w),s(w,l,"Generator"),s(w,c,(function(){return this})),s(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),a=[];for(var n in t)a.push(n);return a.reverse(),function e(){for(;a.length;){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=I,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var a in this)"t"===a.charAt(0)&&n.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var a=this;function r(n,r){return i.type="throw",i.arg=t,a.next=n,r&&(a.method="next",a.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var c=this.tryEntries[o],i=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var l=n.call(c,"catchLoc"),s=n.call(c,"finallyLoc");if(l&&s){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),_(a),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;_(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,a,n){return this.delegate={iterator:I(t),resultName:a,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}var I,D,A,R,F,M,T,P,G,Y,W,B,H,z,q,V,Q,U=Object(g.b)("stock/fetchStock",Object(b.a)(L().mark((function e(){var t;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("-----------fetchStocks-------------"),e.next=3,C.getAllData();case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))),X=Object(g.b)("stock/fetchRecord",Object(b.a)(L().mark((function e(){var t;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("-----------fetchRecords-------------"),e.next=3,C.getAccountRecord();case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))),J=Object(g.b)("stock/fetchAccountSummary",Object(b.a)(L().mark((function e(){var t;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("-----------fetchAccountSummary-------------"),e.next=3,C.getAccount();case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))),K=Object(g.b)("stock/fetchStockComment",Object(b.a)(L().mark((function e(){var t;return L().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("-----------fetchStockComment-------------"),e.next=3,C.getStockComment();case 3:return t=e.sent,e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))),Z=Object(g.c)({name:"stock",initialState:{loading:!1,allStocks:[],lastYearROI:"",profit:0,profitAndLoss:0,saleCost:0,saleStocks:[],unSaleStocks:[],showStocks:[],totalCost:0,records:[],recordsLoading:!1,chartLoading:!1,acTime:"",acMoney:0,acStock:0,acSummary:0,stockComment:""},reducers:{updateQueryData:function(e,t){e.showStocks=function(t){var a=t.dateRegion1,n=t.dateRegion2,r="";if("individual"===t.stockStatus){switch(t.saleStatus){case"all":r=e.allStocks.filter((function(e){return(a<=e.sale_date||a<=e.date)&&(e.date<=n||e.sale_date<=n)}));break;case"sale":r=e.saleStocks.filter((function(e){return a<=e.sale_date&&e.sale_date<=n}));break;case"unsale":r=e.unSaleStocks.filter((function(e){return a<=e.date&&e.date<=n}))}return r}t.stockStatus}(t.payload)}},extraReducers:(S={},Object(h.a)(S,U.pending,(function(e){e.loading=!0,e.chartLoading=!0})),Object(h.a)(S,U.fulfilled,(function(e,t){var a=t.payload;e.loading=!1,e.chartLoading=!1,e.allStocks=a.allStocks,e.lastYearROI=a.lastYearROI,e.profit=a.profit,e.profitAndLoss=a.profitAndLoss,e.saleCost=a.saleCost,e.saleStocks=a.saleStocks,e.unSaleStocks=a.unSaleStocks,e.showStocks=a.showStocks,e.totalCost=a.totalCost})),Object(h.a)(S,U.rejected,(function(e){e.loading=!1,e.chartLoading=!1})),Object(h.a)(S,X.pending,(function(e){e.recordsLoading=!0})),Object(h.a)(S,X.fulfilled,(function(e,t){var a=t.payload;e.records=a,e.recordsLoading=!1})),Object(h.a)(S,X.rejected,(function(e){e.loading=!1})),Object(h.a)(S,J.pending,(function(e){})),Object(h.a)(S,J.fulfilled,(function(e,t){var a=t.payload;e.acTime=a.accountTime,e.acMoney=a.accountMoney,e.acStock=a.accountStock,e.acSummary=a.summary})),Object(h.a)(S,J.rejected,(function(e){})),Object(h.a)(S,K.pending,(function(e){})),Object(h.a)(S,K.fulfilled,(function(e,t){var a=t.payload;e.stockComment=a.stockComment?a.stockComment:e.stockComment})),Object(h.a)(S,K.rejected,(function(e){})),S)}),$=Z.actions.updateQueryData,ee=Z.reducer,te=Object(g.c)({name:"mutualState",initialState:{initLoading:!1,contentLoading:!1,isMerge:!1,logInStatus:!1,queryStatus:"all"},reducers:{changeContentLoading:function(e,t){e.contentLoading=t.payload},changeInitLoading:function(e,t){e.initLoading=t.payload},changeStockMergeState:function(e){e.isMerge=!e.isMerge},changeLoginStatus:function(e){e.logInStatus=!e.logInStatus},changeQueryStatus:function(e,t){e.queryStatus=t.payload}}}),ae=te.actions,ne=ae.changeInitLoading,re=ae.changeContentLoading,oe=ae.changeStockMergeState,ce=ae.changeLoginStatus,ie=ae.changeQueryStatus,le=te.reducer,se=(a(121),O.HANDLING_CHARGE_RATE),ue=O.MINIMUM_HANDLING_FEE,me=O.BREAK_EVEN_RATE,de=function(e){var t=Object(n.useRef)(null),a=Object(n.useState)(!1),c=Object(m.a)(a,2),l=c[0],s=c[1],d=Object(o.j)(),h=Object(i.b)(),b=Object(u.b)().t;Object(n.useEffect)((function(){window.addEventListener("scroll",(function(){document.documentElement.scrollTop>0?s(!0):s(!1)}))}),[]);var g,y=e.stock,v=e.index,E=e.isMerge,O=parseFloat((y.price*(1+se)).toFixed(2)),w=parseFloat((y.price*(1+me)).toFixed(2)),j=1e3*y.price*y.sheet*se<ue?ue:Math.round(1e3*y.price*y.sheet*se),k="/sstock/stockHistory"===d.pathname;return r.a.createElement(r.a.Fragment,null,l&&r.a.createElement("div",{style:{position:"absolute"}},r.a.createElement("div",{className:"arrowToTop",onClick:function(){return window.scrollTo({top:0,behavior:"smooth"})}},r.a.createElement(p.a,null))),r.a.createElement("tr",null,r.a.createElement("th",{scope:"row"},v),!k&&!1===E&&r.a.createElement("td",{key:y.timestamp},r.a.createElement("button",{type:"button",className:"btn btn-info","data-toggle":"modal","data-target":"#modal-".concat(y.timestamp)},b("sell")),r.a.createElement("div",null,r.a.createElement("div",{className:"modal fade",id:"modal-".concat(y.timestamp),tabIndex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},r.a.createElement("div",{className:"modal-dialog",role:"document"},r.a.createElement("div",{className:"modal-content"},r.a.createElement("div",{className:"modal-header"},r.a.createElement("h5",{className:"modal-title",style:{color:"black"},id:"exampleModalLabel"},b("sellInfo")),r.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},r.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),r.a.createElement("div",{className:"modal-body"},r.a.createElement("div",{className:"form-group"},r.a.createElement("h5",{style:{color:"black",textAlign:"left"},key:"price"+v,htmlFor:"price-name-".concat(v),className:"col-form-label"},b("sellPrice"),":"),r.a.createElement("input",{type:"text",className:"form-control",id:"price-name-".concat(v),ref:t}))),r.a.createElement("div",{className:"modal-footer"},r.a.createElement("button",{type:"button",className:"btn btn-primary","data-dismiss":"modal","aria-label":"Close",onClick:function(){var a=e.stock,n=parseFloat(t.current.value);isNaN(n)||!n?f.a.fire({icon:"error",title:b("alertError"),text:b("fieldInputWarning_Price")}):(h(re(!0)),C.updateStock(n,a.sheet,a).then((function(){var e={price:n,sheet:a.sheet,cost:a.cost,date:a.date,purchaseTimestamp:a.timestamp,number:a.number};C.updateAccountRecord(e,!0),h(U()),h(re(!1))})),t.current.value="")}},b("confirm"),y.name))))))),!k&&!1===E&&"unsale"===y.status&&r.a.createElement("td",null,y.date),k&&r.a.createElement("td",null,y.date),k&&("sale"===y.status?r.a.createElement("td",null,y.sale_date):r.a.createElement("td",null)),r.a.createElement("td",null,y.name),r.a.createElement("td",null,y.number),r.a.createElement("td",null,E?(O/y.sheet).toFixed(4):O),!k&&E&&r.a.createElement("td",null,(w/y.sheet).toFixed(4)),r.a.createElement("td",null,(g=y.sheet,Number(g)===g&&g%1!==0?y.sheet.toFixed(3):y.sheet)),r.a.createElement("td",null,E?y.handingFee:Math.floor(j)),r.a.createElement("td",null,Math.floor(y.cost)),r.a.createElement("td",null,"unsale"===y.status?b("inputRegion.unsale"):b("inputRegion.sale")),k&&r.a.createElement("td",null,0===y.sale_price?"":y.sale_price),k&&r.a.createElement("td",null,Math.floor(y.sale_cost)),k&&r.a.createElement("td",{style:{color:y.income<0?"#30ff30":"rgb(255 19 19)"}},Math.floor(y.income)),!k&&!1===E&&r.a.createElement("td",null,r.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){var t=e.stock;h(re(!0)),C.updateDataForDeleteStock(t).then((function(){"unsale"===t.status&&(C.deleteStock(t.timestamp),h(U())),h(re(!1))}))}},b("delete")))))},fe=(a(100),a(266)),pe=(a(212),function(){var e=Object(fe.a)("(max-width: 768px)"),t=Object(n.useState)({startStandardDate:"",endStandardDate:"",dateRegion1:"",dateRegion2:"",saleStatus:"all",stockStatus:"individual",queryState:"",isQueryOpen:!e}),a=Object(m.a)(t,2),l=a[0],s=a[1],d=Object(n.useRef)({}),p=Object(i.b)(),h=Object(o.j)(),b=Object(u.b)().t;Object(n.useEffect)((function(){!e&&s(Object(c.a)(Object(c.a)({},l),{},{isQueryOpen:!0}))}),[e]),Object(n.useEffect)((function(){s(Object(c.a)(Object(c.a)({},l),{},{date:E.dateFormat(new Date),dateRegion1:E.dateFormat(new Date),dateRegion2:E.dateFormat(new Date),startStandardDate:E.dateFormat(new Date),endStandardDate:E.dateFormat(new Date)}))}),[]);var g=function(e,t){if(Object.keys(d.current).map((function(e,t){return d.current[e].classList.remove("active"),{}})),"start"===t){if(e>l.endStandardDate)return void f.a.fire({icon:"warning",title:b("alertWarning"),text:b("inputRegion.startIsGreaterThanEnd")});s(Object(c.a)(Object(c.a)({},l),{},{startStandardDate:e,dateRegion1:e,queryState:""}))}else{if(e<l.startStandardDate)return void f.a.fire({icon:"warning",title:b("alertWarning"),text:b("inputRegion.endIsLessThanStart")});s(Object(c.a)(Object(c.a)({},l),{},{endStandardDate:e,dateRegion2:e,queryState:""}))}},y=function(e){return s(Object(c.a)(Object(c.a)({},l),{},{saleStatus:e.target.value}))},v=function(){return e?{margin:"5px 0px",paddingRight:"0px",paddingLeft:"0px",whiteSpace:"nowrap"}:{margin:"3px 0px",padding:"0px",whiteSpace:"nowrap"}},O=function(e){return s(Object(c.a)(Object(c.a)({},l),{},{isQueryOpen:e}))},w=l.startStandardDate,j=l.endStandardDate,k=l.isQueryOpen,x="/sstock/stockHistory"===h.pathname;return r.a.createElement(r.a.Fragment,null,x&&!k&&r.a.createElement("button",{style:{borderRadius:"0px"},className:"btn btn-success from-group col-sm-12 col-md-12 mobile-show",type:"submit",onClick:function(){return O(!0)}},b("inputRegion.queryTimePeriod")),x&&k&&r.a.createElement("button",{style:{borderRadius:"0px"},className:"btn btn-secondary from-group col-sm-12 col-md-12 mobile-show",type:"submit",onClick:function(){return O(!1)}},b("hide")),x&&k&&r.a.createElement("div",null,r.a.createElement("div",{className:"form-row",style:{margin:"0 5px",overflowY:"unset",whiteSpace:"nowrap"}},r.a.createElement("button",{type:"button",className:"btn btn-info from-group col-md-1"+(e?" show-all-stock-mobile":" show-all-stock"),onClick:function(){return p(ie("all"))}},b("inputRegion.allStock")),r.a.createElement("button",{type:"button",className:"btn btn-group btn-group-toggle"+(e?" from-group col-md-6":" from-group col-md-2"),"data-toggle":"buttons",style:Object(c.a)({margin:"0px 10px",zIndex:0},v())},r.a.createElement("label",{className:"btn btn-secondary active",onClick:y},r.a.createElement("input",{type:"radio",name:"saleOption",id:"saleOption1",value:"all",autoComplete:"off"})," ",b("inputRegion.all")),r.a.createElement("label",{className:"btn btn-secondary",onClick:y},r.a.createElement("input",{type:"radio",name:"saleOption",id:"saleOption2",value:"sale",autoComplete:"off"})," ",b("inputRegion.sale")),r.a.createElement("label",{className:"btn btn-secondary",onClick:y},r.a.createElement("input",{type:"radio",name:"saleOption",id:"saleOption3",value:"unsale",autoComplete:"off"})," ",b("inputRegion.unsale"))),r.a.createElement("div",{className:"btn-group btn-group-toggle col-sm-12 col-md-3"+(e?" query-region-group-mobile":" query-region-group"),"data-toggle":"buttons"},r.a.createElement("label",{className:"btn btn-outline-success",ref:function(e){return d.current.option1=e}},r.a.createElement("input",{type:"radio",name:"options",id:"option1",onClick:function(){return s(Object(c.a)(Object(c.a)({},l),{},{queryState:0}))}})," ",b("inputRegion.today")),r.a.createElement("label",{className:"btn btn-outline-success",ref:function(e){return d.current.option2=e}},r.a.createElement("input",{type:"radio",name:"options",id:"option2",onClick:function(){return s(Object(c.a)(Object(c.a)({},l),{},{queryState:7}))}})," ",b("inputRegion.prev7")),r.a.createElement("label",{className:"btn btn-outline-success",ref:function(e){return d.current.option3=e}},r.a.createElement("input",{type:"radio",name:"options",id:"option3",onClick:function(){return s(Object(c.a)(Object(c.a)({},l),{},{queryState:120}))}})," ",b("inputRegion.prevThreeMonth")),r.a.createElement("label",{className:"btn btn-outline-success",ref:function(e){return d.current.option4=e}},r.a.createElement("input",{type:"radio",name:"options",id:"option4",onClick:function(){return s(Object(c.a)(Object(c.a)({},l),{},{queryState:"yearAgo"}))}})," ",b("inputRegion.lastYear")),r.a.createElement("label",{className:"btn btn-outline-success",ref:function(e){return d.current.option5=e}},r.a.createElement("input",{type:"radio",name:"options",id:"option5",onClick:function(){return s(Object(c.a)(Object(c.a)({},l),{},{queryState:"thisYear"}))}})," ",b("inputRegion.thisYear"))),r.a.createElement("div",{className:"col-sm-6 col-md-2 col-xs-12 query-time-fields"},r.a.createElement("div",null,b("inputRegion.start")),r.a.createElement("div",{className:"col"},r.a.createElement("input",{type:"date",className:"form-control",placeholder:b("inputRegion.date"),onChange:function(e){return g(e.target.value,"start")},value:w}))),r.a.createElement("div",{className:"col-sm-6 col-md-2 col-xs-12 query-time-fields"},r.a.createElement("div",null,b("inputRegion.end")),r.a.createElement("div",{className:"col"},r.a.createElement("input",{type:"date",className:"form-control",placeholder:b("inputRegion.date"),onChange:function(e){return g(e.target.value,"end")},value:j}))),r.a.createElement("button",{className:"btn btn-primary "+(e?" from-group col-md-2":" from-group col-md-2 query-region-submit"),style:Object(c.a)({},v()),onClick:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=l.dateRegion1,a=l.dateRegion2,n=l.saleStatus,r=l.stockStatus,o={},i=new Date,u=new Date;if(p(ie("query")),e){if("yearAgo"===e){var m=(new Date).getFullYear()-1;o={dateRegion1:E.dateFormat(new Date(m,0,1)),dateRegion2:E.dateFormat(new Date(m,11,31)),saleStatus:n,stockStatus:r}}else if("thisYear"===e){var d=(new Date).getFullYear();o={dateRegion1:E.dateFormat(new Date(d,0,1)),dateRegion2:E.dateFormat(new Date(d,11,31)),saleStatus:n,stockStatus:r}}else i.setDate(i.getDate()-e),u.setDate(u.getDate()+1),o={dateRegion1:E.dateFormat(i),dateRegion2:E.dateFormat(u),saleStatus:n,stockStatus:r};return p($(o))}if(!(t&&a&&n&&r))return f.a.fire({icon:"warning",title:b("alertWarning!"),text:b("InputRegion.fieldsEmpty")});p($(o={dateRegion1:t,dateRegion2:a,saleStatus:n,stockStatus:r})),s(Object(c.a)(Object(c.a)({},l),{},{date:"",name:"",number:"",price:"",sheet:""}))}(l.queryState)}},b("inputRegion.querySubmit")))))}),he=function(){var e=Object(fe.a)("(max-width: 768px)"),t=Object(n.useState)({date:new Date,name:"",number:"",code_name:"",price:"",sheet:"",isSaleOpen:!e,datePickerDate:new Date}),a=Object(m.a)(t,2),l=a[0],s=a[1],d=Object(i.b)(),p=Object(o.j)(),h=Object(i.c)((function(e){return e.apiDataReducer})).acMoney,b=Object(u.b)().t;Object(n.useEffect)((function(){!e&&s(Object(c.a)(Object(c.a)({},l),{},{isSaleOpen:!0}))}),[e]),Object(n.useEffect)((function(){s(Object(c.a)(Object(c.a)({},l),{},{date:E.dateFormat(new Date),datePickerDate:E.dateFormat(new Date)}))}),[]);var g=function(){return s(Object(c.a)(Object(c.a)({},l),{},{isSaleOpen:!l.isSaleOpen}))},y=l.datePickerDate,v=l.name,O=l.number,w=l.price,j=l.sheet,k=l.isSaleOpen,x="/sstock/stockHistory"===p.pathname;return r.a.createElement(r.a.Fragment,null,!k&&!x&&r.a.createElement("button",{className:"btn btn-warning from-group col-sm-12 col-md-12 input-sale-frame mobile-show",type:"submit",onClick:function(){return g()}},b("input.buy")),k&&!x&&r.a.createElement("button",{className:"btn btn-secondary from-group col-sm-12 col-md-12 input-sale-frame mobile-show",type:"submit",onClick:function(){return g()}},b("hide")),!x&&r.a.createElement("div",{className:"input-frame"},k&&r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"col-md-2 stock-input-fields"},r.a.createElement("input",{type:"date",className:"form-control",placeholder:b("input.date"),onChange:function(e){return t=e.target.value,void s(Object(c.a)(Object(c.a)({},l),{},{date:t,datePickerDate:t}));var t},value:y})),r.a.createElement("div",{className:"from-group col-md-2 input-sale-info-frame"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:b("input.stockName"),onChange:function(e){return function(e){s(Object(c.a)(Object(c.a)({},l),{},{name:e}))}(e.target.value)},value:v,autoComplete:"on"})),r.a.createElement("div",{className:"from-group col-md-2 input-sale-info-frame"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:b("input.stockNumber"),onChange:function(e){return function(e){s(Object(c.a)(Object(c.a)({},l),{},{number:e}))}(e.target.value)},value:O,autoComplete:"on"})),r.a.createElement("div",{className:"from-group col-md-2 input-sale-info-frame"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:b("input.stockPrice"),onChange:function(e){return function(e){s(Object(c.a)(Object(c.a)({},l),{},{price:e}))}(e.target.value)},value:w,autoComplete:"on"})),r.a.createElement("div",{className:"from-group col-md-2 input-sale-info-frame"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:b("input.stockSheet"),onChange:function(e){return function(e){s(Object(c.a)(Object(c.a)({},l),{},{sheet:e}))}(e.target.value)},value:j,autoComplete:"on"})),r.a.createElement("button",{className:"btn btn-primary from-group col-sm-12 col-md-2 input-sale-frame input-confirm",type:"submit",onClick:function(){return function(){var e=l.date,t=l.name,a=l.number,n=l.price,r=l.sheet;if(parseFloat(n)*parseFloat(r)*1e3>h)f.a.fire({icon:"error",title:b("alertError"),text:b("depositIsNotEnough")});else{if(!(e&&t&&a)||isNaN(n)||isNaN(r))return f.a.fire({icon:"warning",title:b("alertWarning"),text:b("buyFieldsIsEmpty")});var o={date:e,name:t,number:a,price:parseFloat(n),sheet:parseFloat(r)};C.insertNewData(o).then((function(){C.updateAccountRecord(o,!1),d(U())})),s(Object(c.a)(Object(c.a)({},l),{},{name:"",number:"",price:"",sheet:""}))}}()}},b("input.buyConfirm")))))},be=O.HANDLING_CHARGE_RATE,ge=O.MINIMUM_HANDLING_FEE,ye=function(){var e=Object(i.c)((function(e){return e.mutualStateReducer})),t=e.queryStatus,l=e.isMerge,m=Object(i.c)((function(e){return e.apiDataReducer})),d=m.allStocks,f=m.unSaleStocks,p=m.showStocks,h=m.loading,b=Object(o.j)(),g=Object(i.b)(),y=Object(u.b)().t,v="/sstock/stockHistory"===b.pathname;Object(n.useEffect)((function(){O.isFirst&&g(ne(!0)),g(J()),g(U())}),[]);var E=v?"all"===t?d:p:l?f.reduce((function(e,t,a){var n=e&&0===e.filter((function(e){return s.a.trim(e.number)===s.a.trim(t.number)})).length,r=1e3*t.price*t.sheet*be<ge?ge:Math.round(1e3*t.price*t.sheet*be);if(n)e.push({cost:t.cost,income:0,name:t.name,number:t.number,price:t.price*t.sheet,sale_cost:0,sale_date:0,sale_price:0,sale_sheet:0,sheet:t.sheet,status:"unsale",handingFee:r});else{var o=s.a.findIndex(e,(function(e){return s.a.trim(e.number)===s.a.trim(t.number)}),0);e[o]=Object(c.a)(Object(c.a)({},e[o]),{},{cost:e[o].cost+t.cost,price:e[o].price+t.price*t.sheet,sheet:e[o].sheet+t.sheet,handingFee:e[o].handingFee+r})}return e}),[]):f;return"No Data"===E||0===E.length?O.isFirst&&(g(ne(!1)),O.isFirst=!1):g(ne(!1)),r.a.createElement("div",null,r.a.createElement(he,null),r.a.createElement(pe,null),r.a.createElement("div",{style:{overflowY:"unset"}},r.a.createElement("table",{className:"table table-dark",style:{whiteSpace:"nowrap"}},r.a.createElement("thead",null,r.a.createElement("tr",{className:"sticky-tr"},r.a.createElement("th",{scope:"col"},"#"),!v&&!1===l&&r.a.createElement("th",{scope:"col"},y("sell")),!v&&!1===l&&r.a.createElement("th",{scope:"col"},y("input.buyDate")),v&&r.a.createElement("th",{scope:"col"},y("input.buyDate")),v&&r.a.createElement("th",{scope:"col"},y("input.sellDate")),r.a.createElement("th",{scope:"col"},y("input.stockName")),r.a.createElement("th",{scope:"col"},y("input.stockNumber")),r.a.createElement("th",{scope:"col"},y("input.avgPrice")),!v&&!0===l&&r.a.createElement("th",{scope:"col"},y("input.breakevenPrice")),r.a.createElement("th",{scope:"col"},y("input.stockSheet")),r.a.createElement("th",{scope:"col"},y("input.handingFee")),r.a.createElement("th",{scope:"col"},y("input.cost")),r.a.createElement("th",{scope:"col"},y("state")),v&&r.a.createElement("th",{scope:"col"},y("input.salePrice")),v&&r.a.createElement("th",{scope:"col"},y("input.sellTotalPrice")),v&&r.a.createElement("th",{scope:"col"},y("input.income")),!v&&!l&&r.a.createElement("th",{scope:"col"},y("delete")))),r.a.createElement("tbody",null,!h&&"No Data"!==E&&0!==E.length&&E.map((function(e,t){return r.a.createElement(de,{key:e.number+t,stock:e,index:t+1,isMerge:l})})),!O.isFirst&&h&&r.a.createElement("div",{className:"content-loading"},r.a.createElement("img",{alt:"",className:"content-loading-img",src:a(101)})),"No Data"===E&&r.a.createElement("div",{className:"stock-noData"},r.a.createElement("div",{className:"stock-noData-content",alt:""},"No Data"))))))},ve=a(23),Ee=a(8),Oe={"\u80a1\u5229":1,"\u85aa\u8cc7":2,"\u624b\u7e8c\u8cbb\u6298":3},we=function(e,t){var a=e.source,n=null;if(a){if(Object.keys(Oe).forEach((function(e){n||(n=-1!==a.search(e)&&Oe[e])})),"tr"===t)switch(n){case 1:return{borderBottom:"5px solid #ffc6c1"};case 2:return{borderBottom:"5px solid #7ae0d7"};case 3:return{borderBottom:"5px solid #edb8ed"};default:return{background:"white"}}if("td"===t)switch(n){case 1:return{color:"red"};case 2:return{color:"green"};case 3:return{color:"purple"};default:return{color:"black"}}}},je=Object(Ee.a)("td")((function(e){return we(e,"td")})),ke=Object(Ee.a)("tr")((function(e){return we(e,"tr")})),xe=function(e){var t=e.record,a=e.index;return r.a.createElement(ke,{source:t.source},r.a.createElement("th",{scope:"row"},a),r.a.createElement("td",null,t.account_record_Money),r.a.createElement("td",null,t.account_record_Stock),r.a.createElement(je,{source:t.source},t.transfer),r.a.createElement("td",null,t.transferStatus),r.a.createElement("td",null,t.transferTime),r.a.createElement(je,{source:t.source},t.source))},Ne=function(e){var t=e.recordsLoading,n=e.records;return r.a.createElement(r.a.Fragment,null,!t&&n.map((function(e,t){return r.a.createElement(xe,{key:t,record:e,index:t})})),t&&r.a.createElement("div",{className:"content-loading"},r.a.createElement("img",{alt:"",className:"content-loading-img",src:a(101)})))},Se=(a(122),{date:new Date,price:"",transferStatus:"transferIn",source:""}),_e=function(e){var t=Object(n.useState)(Se),a=Object(m.a)(t,2),o=a[0],l=a[1],s=Object(i.b)(),d=Object(u.b)().t,p=function(e){return l(Object(c.a)(Object(c.a)({},o),{},{transferStatus:e.target.value}))};return r.a.createElement("div",{className:"account-transfer-frame"},r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"col"},r.a.createElement("input",{type:"text",className:"form-control input-sale-info-frame",placeholder:d("price"),onChange:function(e){return t=e.target.value,l(Object(c.a)(Object(c.a)({},o),{},{price:t.trim()}));var t},value:o.price})),r.a.createElement("div",{className:"from-group col-md-2 input-sale-info-frame"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:d("source"),onChange:function(e){return t=e.target.value,l(Object(c.a)(Object(c.a)({},o),{},{source:t.trim()}));var t},value:o.source})),r.a.createElement("div",{className:"btn-group btn-group-toggle from-group col-md-2 account-input-frame","data-toggle":"buttons"},r.a.createElement("label",{className:"btn btn-warning active",onClick:p},r.a.createElement("input",{type:"radio",name:"stockOption",id:"individual",value:"transferIn",autoComplete:"off"})," ",d("deposit")),r.a.createElement("label",{className:"btn btn-warning",onClick:p},r.a.createElement("input",{type:"radio",name:"stockOption",id:"mutual",value:"transferOut",autoComplete:"off"})," ",d("transfer"))),r.a.createElement("button",{className:"btn btn-primary from-group col-md-2 account-confirm",type:"submit",onClick:function(){var e=o.price,t=o.transferStatus,a=o.source;if(isNaN(e)||""===e.trim())f.a.fire({icon:"warning",title:d("alertWarning"),text:d("fieldInputWarning_Price")});else{if(!t||!a||isNaN(e))return f.a.fire({icon:"warning",title:d("alertWarning"),text:d("inputRegion.fieldsEmpty")});var n={price:Number(e),transferStatus:t,source:a};C.tradeForAccount(n).then((function(){s(X()),s(J())})),l(Object(c.a)(Object(c.a)({},o),{},{price:"",source:""}))}}},d("confirm"))))},Ce=function(){var e=Object(fe.a)("(max-width: 768px)"),t=Object(n.useState)({isAssetTransfer:!0}),a=Object(m.a)(t,2),o=a[0],l=a[1],s=Object(i.c)((function(e){return e.apiDataReducer})),d=s.records,f=s.recordsLoading,h=s.acTime,b=s.acMoney,g=s.acStock,y=s.acSummary,v=Object(n.useState)(!1),E=Object(m.a)(v,2),O=E[0],w=E[1],j=Object(n.useState)(!1),k=Object(m.a)(j,2),x=k[0],N=k[1],S=Object(n.useState)(!1),_=Object(m.a)(S,2),C=_[0],L=_[1],D=Object(n.useState)(d),A=Object(m.a)(D,2),R=A[0],F=A[1],M=Object(i.b)(),T=Object(u.b)().t;Object(n.useEffect)((function(){!e&&l({isAssetTransfer:!0})}),[e]),Object(n.useEffect)((function(){M(X()),M(J()),window.addEventListener("scroll",(function(){document.documentElement.scrollTop>0?N(!0):N(!1)}))}),[]),Object(n.useEffect)((function(){F((function(){return C?d.filter((function(e){return/\u80a1\u5229/.test(e.source)})):d}))}),[C,d]);var P=function(){return l(Object(c.a)(Object(c.a)({},o),{},{isAssetTransfer:!G}))},G=o.isAssetTransfer,Y=Object(Ee.a)("div")(I||(I=Object(ve.a)(["\n    position: relative;\n    width: 100%;\n    margin-bottom: 0.5rem;\n    margin-right: 0.5rem;\n    text-align: right;\n  "]))),W=function(e){var t=e.sourceType,a=e.confiremBtn,n=e.setFunction,o={dividend:"rgb(200, 35, 10)",salary:"rgb(0,128,0)"};return r.a.createElement("button",{type:"button",style:{backgroundColor:a?o[t]:"transparent",color:a?"white":"black",border:"1px solid ".concat(o[t])},className:"btn ".concat(t),onClick:function(){n(!a),w(!1===a)}},T("".concat(t)))},B=O?R:d;return r.a.createElement("div",null,x&&r.a.createElement("div",{style:{position:"absolute"}},r.a.createElement("div",{className:"arrowToTop",onClick:function(){return window.scrollTo({top:0,behavior:"smooth"})}},r.a.createElement(p.a,null))),r.a.createElement("nav",null,r.a.createElement("div",{className:"nav nav-tabs",id:"nav-tab",role:"tablist"},r.a.createElement("a",{className:"nav-item nav-link tw-property active",id:"nav-home-tab","data-toggle":"tab",href:"#nav-home",role:"tab","aria-controls":"nav-home","aria-selected":"true"},T("twProperty")))),r.a.createElement("div",{className:"tab-content",id:"nav-tabContent"},r.a.createElement("div",{className:"tab-pane fade show active",id:"nav-home",role:"tabpanel","aria-labelledby":"nav-home-tab"},e&&!G&&r.a.createElement("button",{className:"btn btn-warning from-group col-sm-12 col-md-12 input-sale-frame",type:"submit",onClick:function(){return P()}},T("transferProperty")),e&&G&&r.a.createElement("button",{className:"btn btn-secondary from-group col-sm-12 col-md-12 input-sale-frame",type:"submit",onClick:function(){return P()}},T("hide")),G&&r.a.createElement(_e,null),r.a.createElement("div",{className:"container"},r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",{style:{}},r.a.createElement("th",null,T("createTime")),r.a.createElement("th",null,T("accountMoney")),r.a.createElement("th",null,T("stockAccount")),r.a.createElement("th",null,T("tMoney")))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,h),r.a.createElement("td",null,b),r.a.createElement("td",null,g),r.a.createElement("td",null,y))))),r.a.createElement(Y,null,r.a.createElement(W,{sourceType:"dividend",confiremBtn:C,setFunction:L}),r.a.createElement("span",{className:"source-comment"}," #\u4f86\u6e90\u9700\u8981\u6a19\u8a3b",r.a.createElement("strong",{style:{color:"red"}},"\u80a1\u5229")," ")),r.a.createElement("div",null,r.a.createElement("div",{className:"table-responsive",style:{overflowX:"auto"}},r.a.createElement("table",{className:"table text-nowrap"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"account-table-tr"},r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},T("accountMoney")),r.a.createElement("th",{scope:"col"},T("stockMoney")),r.a.createElement("th",{scope:"col"},T("price"),"(",T("iIncome"),")"),r.a.createElement("th",{scope:"col"},T("state")),r.a.createElement("th",{scope:"col"},T("time")),r.a.createElement("th",{scope:"col"},T("source")))),r.a.createElement("tbody",null,r.a.createElement(Ne,{recordsLoading:f,records:B})))))),r.a.createElement("div",{className:"tab-pane fade",id:"nav-profile",role:"tabpanel","aria-labelledby":"nav-profile-tab"},e&&G&&r.a.createElement("button",{className:"btn btn-warning from-group col-md-2 input-sale-frame",type:"submit",onClick:function(){return P()}},T("transferProperty")),e&&!G&&r.a.createElement("button",{className:"btn btn-secondary from-group col-md-2 input-sale-frame",type:"submit",onClick:function(){return P()}},T("hide")),G&&r.a.createElement(_e,null),r.a.createElement("div",{className:"container"},r.a.createElement("table",{className:"table table-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,T("createTime")),r.a.createElement("th",null,T("accountMoney"),"($)"),r.a.createElement("th",null,T("stockAccount"),"($)"),r.a.createElement("th",null,T("tMoney"),"($)"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,h),r.a.createElement("td",null,b),r.a.createElement("td",null,g),r.a.createElement("td",null,y))))),r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",null,T("accountMoney"),"($)"),r.a.createElement("th",null,T("stockAccount"),"($)"),r.a.createElement("th",{scope:"col"},T("price"),"(",T("iIncome"),")"),r.a.createElement("th",null,T("state")),r.a.createElement("th",null,T("time")),r.a.createElement("th",null,T("source")))),r.a.createElement("tbody",null))))))},Le=a(277),Ie=a(41),De=a.n(Ie),Ae=a(57),Re=a.n(Ae),Fe=Object(Ee.a)("div")(D||(D=Object(ve.a)(["\n  display: flex;\n"]))),Me=Object(Ee.a)("div")(A||(A=Object(ve.a)(["\n  margin: 5px;\n  width: 50%;\n  text-align: left;\n  font-size: 20px;\n  color: #6495ED;\t\n"]))),Te=Object(Ee.a)("span")(R||(R=Object(ve.a)(["\n  text-align: left;\n  font-size: 20px;\n  color: #FF0000;\t\n"]))),Pe=function(e){var t=e.chartInfo,a=void 0===t?{}:t,o=(e.type,e.perDividend,e.dividend),c=Object(u.b)().t,i=Object(n.useState)([]),l=Object(m.a)(i,2),s=l[0],d=l[1],f=Object(n.useState)(!1),p=Object(m.a)(f,2),h=p[0],b=p[1],g=Object(n.useState)([]),y=Object(m.a)(g,2),v=y[0],E=y[1],O=Object(n.useState)(null),w=Object(m.a)(O,2),j=w[0],k=w[1],x=n.useRef<Re.a.RefObject>null,N={chart:{height:"70%",type:"column"},title:{text:c("chart.yearIncomeChart")},xAxis:{categories:a.yearCategories,lineWidth:1},yAxis:[{lineWidth:1,labels:{format:"{value} "+c("twDollars"),style:{color:De.a.getOptions().colors[1]}},title:{text:c("twMoney"),style:{color:De.a.getOptions().colors[1]}}}],series:[{name:c("income"),type:"column",data:a.yearValue,tooltip:{valueSuffix:" "+c("twDollars")}},{name:c("chart.dividend"),type:"column",data:s,tooltip:{valueSuffix:" "+c("twDollars")}}],plotOptions:{series:{cursor:"pointer",events:{click:function(e){o[e.point.category]&&(o[e.point.category].map((function(e){return v.flat().includes(e.source)?v.flat().includes(e.source)&&v.forEach((function(t){t[0]===e.source&&(t[1]+=Number(e.transfer))})):v.push([e.source,Number(e.transfer)]),{}})),E(v),k(e.point.category),b(!0))}}}}},S={chart:{animation:{duration:500},marginRight:50},title:{text:'<span style="color: #cc2222;">'.concat(j," ").concat(c("chart.yearDividendChart"),":</span>")+v.reduce((function(e,t,a,n){return e+t[1]}),0)+c("twDollars"),align:"right",style:{color:"#333333",fontWeight:"bold"},useHTML:!0},subtitle:{useHTML:!0,floating:!0,align:"right",verticalAlign:"middle",y:-80,x:-100},legend:{enabled:!1},xAxis:{type:"category"},yAxis:{opposite:!0,tickPixelInterval:150,title:{text:null}},plotOptions:{series:{animation:!1,groupPadding:0,pointPadding:.1,borderWidth:0,colorByPoint:!0,dataSorting:{enabled:!0,matchByName:!0},type:"bar",dataLabels:{enabled:!0}}},series:[{type:"bar",name:j,data:v}],responsive:{rules:[{condition:{maxWidth:550},chartOptions:{xAxis:{visible:!1},subtitle:{x:0},plotOptions:{series:{dataLabels:[{enabled:!0,y:8},{enabled:!0,format:"{point.name}",y:-8,style:{fontWeight:"normal",opacity:.7}}]}}}}]}};return Object(n.useEffect)((function(){if("{}"!==JSON.stringify(a)){var e=[];a.yearCategories.map((function(t){e.push(o[t]?o[t].reduce((function(e,t){return e+=Number(t.transfer)}),0):0)})),d(e)}}),[a]),r.a.createElement("div",{style:{height:"60vh"}},r.a.createElement(Fe,null,r.a.createElement(Me,null,c("tIncome"),r.a.createElement(Te,null,(0!==Object.keys(a).length&&a.yearValue.reduce((function(e,t){return e+t.y}),0))+c("twDollars"))),r.a.createElement(Me,null,c("tDividend")," ",r.a.createElement(Te,null," ",s.reduce((function(e,t){return e+t}),0)+c("twDollars")," "))),h&&r.a.createElement(r.a.Fragment,null," ",r.a.createElement("button",{type:"button",className:"btn btn-warning",style:{display:"flex",alignItems:"center",position:"absolute",zIndex:1},onClick:function(){E([]),b(!1)}},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",className:"bi bi-chevron-left",viewBox:"0 0 16 16"},r.a.createElement("path",{fillRule:"evenodd",d:"M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"})),c("chart.back")),r.a.createElement(Re.a,{highcharts:De.a,options:S,usRef:x})),!h&&r.a.createElement(Re.a,{highcharts:De.a,options:N,usRef:x}))},Ge=a(16),Ye=a(272),We=a(275),Be=Object(Ee.a)("div")(F||(F=Object(ve.a)(["\n  display: flex;\n  align-items: center;\n  margin: 5px;\n"]))),He=Object(Ee.a)("div")(M||(M=Object(ve.a)(["\n  display: flex;\n  /* flex-basis: 25%;; */\n  text-align: left;\n  font-size: 20px;\n  color: #6495ed;\n  @media (max-width: 768px){\n    justify-content: space-between;\n  }\n"]))),ze=Object(Ee.a)("span")(T||(T=Object(ve.a)(["\n  text-align: left;\n  font-size: 20px;\n  color: #ff0000;\n"]))),qe=Object(Ee.a)("div")(P||(P=Object(ve.a)(["\n  display: flex;\n  flex-grow: 1;  \n  align-items: center;\n  @media (max-width: 768px){\n    justify-content: space-between;\n  }\n"]))),Ve=Object(Ee.a)("div")(G||(G=Object(ve.a)(['\n  display: flex;\n  align-self: center;\n  font-size: 20px;\n  color: #6495ed;\n  &:after {\n    content: "\xa0\xa0";\n  }\n'],['\n  display: flex;\n  align-self: center;\n  font-size: 20px;\n  color: #6495ed;\n  &:after {\n    content: "\\xa0\\xa0";\n  }\n']))),Qe=function(e){var t=e.chartInfo,a=(e.type,Object(n.useState)("all")),o=Object(m.a)(a,2),c=o[0],i=o[1],l=Object(n.useState)([{value:"all",label:"all"}]),s=Object(m.a)(l,2),d=s[0],f=s[1],p=Object(n.useState)({value:t.monthValue,rate:t.monthRate,date:t.categories}),h=Object(m.a)(p,2),b=h[0],g=h[1],y=Object(n.useRef)(null),v=Object(u.b)().t;Object(n.useEffect)((function(){"{}"!==JSON.stringify(t)&&g("all"!==c?{value:t.monthValue.filter((function(e){return new RegExp("".concat(c)).test(e.date)&&e})),rate:t.monthRate.filter((function(e){return new RegExp("".concat(c)).test(e.date)&&e})),date:t.categories.filter((function(e){return new RegExp("".concat(c)).test(e)&&e}))}:{value:t.monthValue,rate:t.monthRate,date:t.categories})}),[c]),Object(n.useEffect)((function(){g({value:t.monthValue,rate:t.monthRate,date:t.categories})}),[]),Object(n.useEffect)((function(){if("{}"!==JSON.stringify(t)){var e,a,n=t.yearCategories&&t.yearCategories.map((function(e){return{value:e,label:e}}));n?(e=d.slice(1),a=n,Array.isArray(e)&&Array.isArray(a)&&e.length===a.length&&e.every((function(e,t){return e.value===a[t].value}))||f(d.concat(n))):f(d),g({value:t.monthValue,rate:t.monthRate,date:t.categories})}}),[t]);var E={chart:{height:"70%",type:"column",alignTicks:!0},title:{text:v("chart.monthIncomeChart")},xAxis:[{type:"category",categories:b.date},{type:"category",categories:b.date,linkedTo:0,labels:{enabled:!1},offset:0}],yAxis:[{softMax:b.value?Math.max.apply(Math,Object(Ge.a)(b.value.map((function(e){return e.y})))):0,softMin:b.value?Math.min.apply(Math,Object(Ge.a)(b.value.map((function(e){return e.y})))):0,lineWidth:1,gridLineWidth:3,labels:{format:"{value} "+v("twMoney"),style:{color:De.a.getOptions().colors[1]}},title:{text:v("twMoney"),style:{color:De.a.getOptions().colors[1]}},opposite:!1}],series:[{name:v("income"),data:b.value,tooltip:{valueSuffix:v("twDollars")}}]};return r.a.createElement("div",{style:{height:"60vh"}},r.a.createElement(Be,{className:"row"},r.a.createElement(He,{className:"col-sm-12 col-md-6"},v("tIncome"),r.a.createElement(ze,null,function(){if(b.value&&0!==b.value.length)return b.value.reduce((function(e,t){return e+t.y}),0)}()+v("twDollars"))),r.a.createElement(qe,{className:"col-sm-12 col-md-6"},r.a.createElement(Ve,null,v("chart.yearSelect")),r.a.createElement(Ye.a,{id:"outlined-select-year",select:!0,value:c,onChange:function(e){return i(e.target.value)},sx:{height:"30px",width:"75%","& .MuiOutlinedInput-root":{height:"30px",margin:"0px 5px"},"& legend":{width:0},"@media (max-width: 768px)":{width:"25%"}}},d.map((function(e){return r.a.createElement(We.a,{key:e.value,value:e.value},e.label)}))))),r.a.createElement(Re.a,{highcharts:De.a,options:E,ref:y}))},Ue=Object(Ee.a)("div")(Y||(Y=Object(ve.a)(["\n  display: flex;\n"]))),Xe=Object(Ee.a)("div")(W||(W=Object(ve.a)(["\n  margin: 5px;\n  width: 50%;\n  text-align: left;\n  font-size: 20px;\n  color: #6495ed;\n"]))),Je=Object(Ee.a)("span")(B||(B=Object(ve.a)(["\n  text-align: left;\n  font-size: 20px;\n  color: #ff0000;\n"]))),Ke=function(e){var t=e.perDividend,a=Object(n.useState)(0),o=Object(m.a)(a,2),c=o[0],i=o[1],l=Object(n.useRef)(null),s=Object(u.b)().t,d={chart:{animation:{duration:500},marginRight:50},title:{text:s("chart.dividendChart"),align:"left"},subtitle:{useHTML:!0,floating:!0,align:"right",verticalAlign:"middle",y:-80,x:-100},legend:{enabled:!1},xAxis:{type:"category"},yAxis:{opposite:!0,tickPixelInterval:150,title:{text:null}},plotOptions:{series:{animation:!1,groupPadding:0,pointPadding:.1,borderWidth:0,colorByPoint:!0,dataSorting:{enabled:!0,matchByName:!0},type:"bar",dataLabels:{enabled:!0}}},series:[{type:"bar",name:2023,data:t}],responsive:{rules:[{condition:{maxWidth:550},chartOptions:{xAxis:{visible:!1},subtitle:{x:0},plotOptions:{series:{dataLabels:[{enabled:!0,y:8},{enabled:!0,format:"{point.name}",y:-8,style:{fontWeight:"normal",opacity:.7}}]}}}}]}};return Object(n.useEffect)((function(){var e=0;t.reduce((function(t,a){return t&&!isNaN(t.y)&&(e+=t.y),isNaN(a.y)||(e+=a.y),{}}),0),i(e)}),[]),r.a.createElement("div",{style:{height:"60vh"}},r.a.createElement(Ue,null,r.a.createElement(Xe,null,s("tDividend")," ",r.a.createElement(Je,null," ",c+s("twDollars")," "))),r.a.createElement(Re.a,{highcharts:De.a,options:d,usRef:l}))},Ze=Object(Ee.a)("div")(H||(H=Object(ve.a)(["\n  display: flex;\n  flex-grow: 1;  \n  align-items: center;\n  margin-bottom: 5px;\n"]))),$e=Object(Ee.a)("div")(z||(z=Object(ve.a)(['\n  display: flex;\n  align-self: center;\n  font-size: 20px;\n  color: #6495ed;\n  &:after {\n    content: "\xa0\xa0";\n  }\n'],['\n  display: flex;\n  align-self: center;\n  font-size: 20px;\n  color: #6495ed;\n  &:after {\n    content: "\\xa0\\xa0";\n  }\n']))),et=Object(Ee.a)("div")(q||(q=Object(ve.a)(["\n  margin: 5px;\n  white-space: nowrap;\n"]))),tt=function(e){var t=e.chartInfo,a=e.allStocks,o={startYear:t.yearCategories[0],endYear:t.yearCategories[t.yearCategories.length-1],reportData:[],totalIncome:0,totalSaleCost:0,totalCost:0,totalPercent:0},i=Object(n.useState)(o),l=Object(m.a)(i,2),s=l[0],d=l[1],f=Object(u.b)().t;Object(n.useEffect)((function(){var e=0,t=0,n=0;a.map((function(a){return e+=a.income,n+=a.cost,"sale"===a.status&&(t+=a.cost),{}})),d(Object(c.a)(Object(c.a)({},s),{},{totalIncome:e,totalSaleCost:t,totalCost:n,totalPercent:(e/t*100).toFixed(2)}))}),[]);var p=Object.assign([],s.reportData);return r.a.createElement(et,null,r.a.createElement(Ze,null,r.a.createElement($e,null,f("chart.yearSelect")),r.a.createElement(Ye.a,{id:"outlined-select-year",select:!0,value:s.startYear,onChange:function(e){return d(Object(c.a)(Object(c.a)({},s),{},{startYear:e.target.value}))},sx:{height:"30px",width:"35%","& .MuiOutlinedInput-root":{height:"30px",margin:"0px 5px"},"& legend":{width:0}}},t.yearCategories.filter((function(e){return e<=s.endYear})).map((function(e,t){return r.a.createElement(We.a,{key:t,value:e},e)}))),r.a.createElement($e,null,f("chart.to")),r.a.createElement(Ye.a,{id:"outlined-select-year",select:!0,value:s.endYear,onChange:function(e){return d(Object(c.a)(Object(c.a)({},s),{},{endYear:e.target.value}))},sx:{height:"30px",width:"35%","& .MuiOutlinedInput-root":{height:"30px",margin:"0px 5px"},"& legend":{width:0}}},t.yearCategories.filter((function(e){return e>=s.startYear})).map((function(e,t){return r.a.createElement(We.a,{key:t,value:e},e)}))),r.a.createElement("button",{type:"button",className:"btn btn-info",style:{height:"30px",alignItems:"center",display:"flex"},onClick:function(){return function(){for(var e=[],t=0,n=0,r=0,o=function(o){r=0,t=0,n=0,a.map((function(e){return"unsale"===e.status&&e.date.includes(o)&&(t+=e.cost),"sale"===e.status&&e.sale_date.includes(o)&&(n+=e.income,r+=e.cost),{}})),e.push({year:String(o),yearIncome:n,yearCost:r,yearUnsale:t,incomePercent:(n/r*100).toFixed(2)})},i=s.startYear;i<=s.endYear;i++)o(i);d(Object(c.a)(Object(c.a)({},s),{},{reportData:e}))}(s.startYear,s.endYear)}},f("confirm"))),r.a.createElement("div",{className:"table-responsive table-striped"},r.a.createElement("table",{className:"table",style:{marginTop:"5rem"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,f("chart.yearProfit"),"(",f("percent"),")"),r.a.createElement("th",null,f("chart.yearIncome")),r.a.createElement("th",null,f("chart.yearCost"),"(",f("chart.sale"),")"),r.a.createElement("th",null,f("chart.yearCost"),"(",f("chart.unsale"),")"))),r.a.createElement("tbody",null,p.reverse().map((function(e){return r.a.createElement("tr",{key:e.year}," ",r.a.createElement("td",null,e.year),r.a.createElement("td",{style:{color:e.incomePercent>=4?"red":"green"}},e.incomePercent),r.a.createElement("td",null,e.yearIncome),r.a.createElement("td",null,e.yearCost),r.a.createElement("td",null,e.yearUnsale))}))))),r.a.createElement("div",{className:"table-responsive"},r.a.createElement("table",{className:"table",style:{marginTop:"5rem"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"\u7e3d\u6295\u5831\u7387(%)"),r.a.createElement("th",null,"\u6b77\u5e74\u7e3d\u640d\u76ca"),r.a.createElement("th",null,"\u6b77\u5e74\u7e3d\u6295\u5165(\u5df2\u8ce3\u51fa)"),r.a.createElement("th",null,"\u6b77\u5e74\u7e3d\u6295\u5165"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"All"),r.a.createElement("td",null,s.totalPercent),r.a.createElement("td",null,s.totalIncome),r.a.createElement("td",null,s.totalSaleCost),r.a.createElement("td",null,s.totalCost))))))},at=function(){var e=Object(n.useState)({yearDividend:{},perDividend:[],chartInfo:{categories:[],monthValue:[],monthRate:[],yearCategories:[],yearValue:[]}}),t=Object(m.a)(e,2),o=t[0],l=t[1],s=Object(n.useState)("monthIncome"),d=Object(m.a)(s,2),f=d[0],p=d[1],h=Object(i.c)((function(e){return e.apiDataReducer})),b=h.allStocks,g=h.loading,y=Object(i.b)(),v=Object(u.b)().t;return Object(n.useEffect)((function(){0===b.length&&y(U())}),[]),Object(n.useEffect)((function(){if(0!==b.length){var e=b.filter((function(e){return 0!==e.income})).map((function(e){return Object(c.a)(Object(c.a)({},e),{},{sale_date:e.sale_date.substr(0,7)})})),t=function(e){for(var t=e[e.length-1].date.substring(0,4),a=e[e.length-1].date.substring(5,7),n=(new Date).getFullYear().toString(),r=((new Date).getMonth()+1).toString(),o=[],c=t;c<=n;c++)for(var i=c===t?a:1;i<=(c===n?r:12);i++)i.toString().length<=1&&0!==i?o.push("".concat(c,"-0").concat(i)):o.push("".concat(c,"-").concat(i));return o>12&&(o=o.slice(11)),o}(b),a=function(e,t){var a=[],n=[],r=0;return e.map((function(e){var o=0,c=0;return t.forEach((function(t){t.sale_date===e&&(o+=t.income,c+=t.cost)})),r=0===o||0===c?0:Math.round(o/c*100),a.push({y:o,date:e,color:o>0?"#32a852":"#ff0000"}),n.push({y:r,date:e,color:r>0?"#0e6124":"#8E0011"}),{}})),[a,n]}(t,e),n=function(e){for(var t=e[e.length-1].date.substring(0,4),a=(new Date).getFullYear(),n=[],r=t;r<=a;r++)n.push("".concat(r));return n}(b),r=function(e,t){var a=[];return e.map((function(e){var n=0;return t.forEach((function(t){t.sale_date.substr(0,4)===e&&(n+=t.income)})),a.push({y:n,color:n>0?"#32a852":"#ff0000"}),{}})),a}(n,e),o={},i=[],s=function(e){return/\u80a1\u5229/.test(e.source)};C.getAccountRecord().then((function(e){e.map((function(e){!o[e.transferTime.substring(0,4)]&&s(e)?(o[e.transferTime.substr(0,4)]=[],o[e.transferTime.substr(0,4)].push(e)):s(e)&&o[e.transferTime.substr(0,4)].push(e),s(e)&&!i.flat().includes(e.source)?i.push([e.source,Number(e.transfer)]):s(e)&&i.flat().includes(e.source)&&i.forEach((function(t){t[0]===e.source&&(t[1]+=Number(e.transfer))}))}))})),l({yearDividend:o,perDividend:i,chartInfo:{categories:t,monthValue:a[0],monthRate:a[1],yearCategories:n,yearValue:r}})}}),[b]),r.a.createElement(Le.a,{container:!0,style:{justifyContent:"center"}},r.a.createElement("div",{className:"btn-group col-sm-12",role:"group","aria-label":"Basic example",style:{padding:0}},r.a.createElement("button",{type:"button",className:"btn btn-info ".concat("monthIncome"===f&&"active"),onClick:function(){return p("monthIncome")}},v("chart.monthIncomeChart")),r.a.createElement("button",{type:"button",className:"btn btn-info ".concat("yearIncome"===f&&"active"),onClick:function(){return p("yearIncome")}},v("chart.yearIncomeChart")),r.a.createElement("button",{type:"button",className:"btn btn-info ".concat("dividend"===f&&"active"),onClick:function(){return p("dividend")}},v("chart.dividendChart")),r.a.createElement("button",{type:"button",className:"btn btn-info ".concat("report"===f&&"active"),onClick:function(){return p("report")}},v("chart.yearIncomeReport"))),g&&r.a.createElement("div",{style:{position:"absolute",top:0,left:0,height:"100%",width:"100%",display:"block",zIndex:7}},r.a.createElement("img",{alt:"",style:{display:"flex",width:"64px",height:"64px",position:"relative",margin:"0px auto",backgroundSize:"100%",top:"calc(50% - 50px)"},src:a(101)})),!g&&"monthIncome"===f&&r.a.createElement(Le.a,{item:!0,xs:12,md:6},r.a.createElement(Qe,{chartInfo:o.chartInfo,monthValue:o.chartInfo.monthValue,type:"year"})),!g&&"yearIncome"===f&&r.a.createElement(Le.a,{item:!0,xs:12,md:6},r.a.createElement(Pe,{chartInfo:o.chartInfo,type:"year",dividend:o.yearDividend,perDividend:o.perDividend})),!g&&"dividend"===f&&r.a.createElement(Le.a,{item:!0,xs:12,md:6},r.a.createElement(Ke,{perDividend:o.perDividend})),!g&&"report"===f&&r.a.createElement(Le.a,{item:!0,xs:12,md:6},r.a.createElement(tt,{allStocks:b,chartInfo:o.chartInfo})))},nt=function(){return r.a.createElement("div",null,"Not Found")},rt=a(165),ot=(a(216),{email:"",resetEmail:"",password:"",isLogIn:!0,error:!1,message:"",isOpenForgetPWD:!1}),ct=Object(rt.a)((function(e){var t=Object(o.l)(),a=Object(i.b)(),l=Object(n.useState)(ot),s=Object(m.a)(l,2),d=s[0],p=s[1],h=Object(u.b)().t,b=function(e){return p(Object(c.a)(Object(c.a)({},d),{},{isOpenForgetPWD:!1,isLogIn:e}))},g=function(n,r){var o=e.logInCallBack;if(!n&&!r)return p(Object(c.a)(Object(c.a)({},d),{},{error:!0,message:h("enterAccountWarning")})),void setTimeout((function(){return p(Object(c.a)(Object(c.a)({},d),{},{error:!1,message:""}))}),5e3);y.auth().signInWithEmailAndPassword(n,r).then((function(e){var n=y.auth().currentUser;n&&(localStorage.setItem("account-stock",n.uid),console.log("log in successfully"),O.user_id=n.uid,p(Object(c.a)(Object(c.a)({},d),{},{email:"",password:""})),o&&o(n.uid),a(ce()),t("/sstock"))})).catch((function(e){f.a.fire({icon:"warning",title:h("alertWarning"),text:e.message.toString()}),p(Object(c.a)(Object(c.a)({},d),{},{error:!0,message:e.message})),setTimeout((function(){return p(Object(c.a)(Object(c.a)({},d),{},{error:!1,message:""}))}),5e3)}))},v=function(t,a){var n=e.logInCallBack,r=e.homePageCallBack;if(!t&&!a)return p(Object(c.a)(Object(c.a)({},d),{},{error:!0,message:h("enterAccountWarning")})),void setTimeout((function(){return p(Object(c.a)(Object(c.a)({},d),{},{error:!1,message:""}))}),5e3);var o={email:t,pwd:a};y.auth().createUserWithEmailAndPassword(o.email,o.pwd).then((function(e){O.user_id=e.user.uid,y.database().ref("/account_data/".concat(e.user.uid)).set({tw:{account_summary:{accountMoney:0,accountStock:0,accountTime:E.dateFormat(new Date),summary:0},account_record:{},stock_info:{}},us:{account_summary:{accountMoney:0,accountStock:0,accountTime:E.dateFormat(new Date),summary:0},account_record:{},stock_info:{}}}).then((function(){localStorage.setItem("account-sstock",e.user.uid),console.log("register successfully"),n&&n(e.user.uid),r&&r()}))})).catch((function(e){p(Object(c.a)(Object(c.a)({},d),{},{exist:!0,error:!0,message:e.message.toString()})),f.a.fire({icon:"warning",title:h("alertWarning"),text:e.message.toString()}),console.log("register failed")}))},w=function(){return p(Object(c.a)(Object(c.a)({},d),{},{isOpenForgetPWD:!1}))},j=d.isLogIn,k=d.isOpenForgetPWD;return r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"fadeInDown login-fadeInDown"},r.a.createElement("div",{key:"logIn",className:"selected logIn",style:{border:j?"3px solid white":""},onClick:function(){return b(!0)}},h("login.login")),r.a.createElement("div",{key:"register",className:"selected register",style:{border:j?"":"3px solid white"},onClick:function(){return b(!1)}},h("login.register"))),r.a.createElement("div",{className:"fadeInDown frame-content",style:{border:j?"5px solid #2196f3":"5px solid rgb(232 88 78)"}},!k&&r.a.createElement("div",null,r.a.createElement("div",{className:"fadeIn first"},r.a.createElement("div",{className:"logo"})),r.a.createElement("div",{className:"login-input"},r.a.createElement("input",{type:"text",id:"email",onChange:function(e){return t=e.target.value,p(Object(c.a)(Object(c.a)({},d),{},{email:t}));var t},className:"fadeIn second login-input-content",name:"login",placeholder:"email"}),r.a.createElement("input",{type:"password",id:"password",onChange:function(e){return t=e.target.value,p(Object(c.a)(Object(c.a)({},d),{},{password:t}));var t},className:"fadeIn third login-input-content",name:"login",placeholder:h("login.password")})),r.a.createElement("input",{type:"submit",className:"fadeIn fourth login-submit",value:h(j?"login.login":"login.register"),onClick:function(){var e=d.email,t=d.password;switch(d.isLogIn){case!0:return g(e,t);case!1:return v(e,t);default:return{}}}}),j&&r.a.createElement("div",{id:"formFooter",className:"forget-PWD"},r.a.createElement("a",{className:"underlineHover",href:"#",onClick:function(){return p(Object(c.a)(Object(c.a)({},d),{},{isOpenForgetPWD:!0}))}},h("forgotPassword")))),k&&r.a.createElement("div",{className:"input-forgetPWD-content"},r.a.createElement("input",{type:"text",id:"email",onChange:function(e){return t=e.target.value,p(Object(c.a)(Object(c.a)({},d),{},{resetEmail:t}));var t},className:"fadeIn second login-input-content",name:"login",placeholder:h("login.email")}),r.a.createElement("input",{key:"backToLogIn",onClick:w,type:"button",className:"fadeIn fourth login-forget back",value:"back"}),r.a.createElement("input",{type:"submit",className:"fadeIn fourth login-forget submit",value:"submit to mail",onClick:function(){var e=d.resetEmail;y.auth().sendPasswordResetEmail(e).then((function(){f.a.fire({icon:"warning",title:h("alertWarning"),text:h("resetPassword")}),w()})).catch((function(e){f.a.fire({icon:"warning",title:h("alertWarning"),text:e.message})}))}}))))})),it=a(278),lt=a(274),st=a(276),ut=(a(225),a(127),{color:"black"}),mt={fontSize:"24px"},dt=function(e){var t=e.title,a=e.value;return r.a.createElement("div",{className:"report-item"},r.a.createElement("div",{style:ut}," ",t," "),r.a.createElement("div",{style:mt}," ",a," "))},ft=a(69),pt=function(){var e=Object(i.c)((function(e){return e.apiDataReducer})).stockComment,t=Object(n.useState)(!1),o=Object(m.a)(t,2),c=o[0],l=o[1],d=Object(n.useState)(e),f=Object(m.a)(d,2),p=f[0],h=f[1],b=Object(n.useRef)(),g=Object(i.b)(),y=Object(u.b)().t;Object(n.useEffect)((function(){g(K())}),[]),Object(n.useEffect)((function(){h(e)}),[e]),Object(n.useEffect)((function(){b.current&&b.current.focus()}),[p]);var v=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{src:a(226),onClick:function(){l(!c)},isShowComment:c}))},E=Object(ft.a)("img")((function(e){return{boxShadow:e.isShowComment?"0 0 20px #d71313":"unset",cursor:"pointer",width:"32px",height:"32px",borderRadius:"1rem",marginLeft:"0.5rem"}})),O=Object(ft.a)("label")(V||(V=Object(ve.a)(["\n      font-weight: bold;\n      width: 100%;\n      color: #f0f0f0;\n      display: block;\n      text-align: center;\n      margin-bottom: 0px;\n      background: linear-gradient(90deg, rgb(118 40 170) 0%, rgb(218 15 15) 0%, rgb(205 148 69) 100%);\n      border-radius: 15px 15px 0 0;\n      line-height: 30px;\n      "]))),w=Object(ft.a)("div")(Q||(Q=Object(ve.a)(["\n    font-weight: bold;\n    width: 100%;\n    color: #f0f0f0;\n    display: block;\n    text-align: center;\n    margin-bottom: 0px;\n    background-color: #4CAF50;\n    border-radius: 0 0 15px 15px;\n    line-height: 30px;\n    cursor: pointer;\n    top: -10px;\n    position: relative;\n    :hover {\n      background-color: #17871b;\n    }\n  "]))),j=Object(n.useCallback)(s.a.debounce((function(e){C.updateStockComment(e).then((function(){g(K())}))}),1e3),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(v,null),c&&r.a.createElement("div",{className:"comment-wrapper"},r.a.createElement(O,{htmlFor:"exampleFormControlTextarea1",className:"form-label"},y("comment")),r.a.createElement("textarea",{type:"text",className:"form-control width-range",id:"exampleFormControlTextarea1",rows:"3",onChange:function(e){return function(e){h(e)}(e.target.value)}},p),r.a.createElement(w,{onClick:function(){j(p),l(!c)}},y("confirm"))))};function ht(){ht=function(){return t};var e,t={},a=Object.prototype,n=a.hasOwnProperty,r=Object.defineProperty||function(e,t,a){e[t]=a.value},o="function"==typeof Symbol?Symbol:{},c=o.iterator||"@@iterator",i=o.asyncIterator||"@@asyncIterator",l=o.toStringTag||"@@toStringTag";function s(e,t,a){return Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,a){return e[t]=a}}function u(e,t,a,n){var o=t&&t.prototype instanceof b?t:b,c=Object.create(o.prototype),i=new C(n||[]);return r(c,"_invoke",{value:x(e,a,i)}),c}function m(e,t,a){try{return{type:"normal",arg:e.call(t,a)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var d="suspendedStart",f="executing",p="completed",h={};function b(){}function g(){}function y(){}var v={};s(v,c,(function(){return this}));var E=Object.getPrototypeOf,O=E&&E(E(L([])));O&&O!==a&&n.call(O,c)&&(v=O);var w=y.prototype=b.prototype=Object.create(v);function j(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function a(r,o,c,i){var l=m(e[r],e,o);if("throw"!==l.type){var s=l.arg,u=s.value;return u&&"object"==typeof u&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){a("next",e,c,i)}),(function(e){a("throw",e,c,i)})):t.resolve(u).then((function(e){s.value=e,c(s)}),(function(e){return a("throw",e,c,i)}))}i(l.arg)}var o;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){a(e,n,t,r)}))}return o=o?o.then(r,r):r()}})}function x(t,a,n){var r=d;return function(o,c){if(r===f)throw new Error("Generator is already running");if(r===p){if("throw"===o)throw c;return{value:e,done:!0}}for(n.method=o,n.arg=c;;){var i=n.delegate;if(i){var l=N(i,n);if(l){if(l===h)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var s=m(t,a,n);if("normal"===s.type){if(r=n.done?p:"suspendedYield",s.arg===h)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}function N(t,a){var n=a.method,r=t.iterator[n];if(r===e)return a.delegate=null,"throw"===n&&t.iterator.return&&(a.method="return",a.arg=e,N(t,a),"throw"===a.method)||"return"!==n&&(a.method="throw",a.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=m(r,t.iterator,a.arg);if("throw"===o.type)return a.method="throw",a.arg=o.arg,a.delegate=null,h;var c=o.arg;return c?c.done?(a[t.resultName]=c.value,a.next=t.nextLoc,"return"!==a.method&&(a.method="next",a.arg=e),a.delegate=null,h):c:(a.method="throw",a.arg=new TypeError("iterator result is not an object"),a.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function L(t){if(t||""===t){var a=t[c];if(a)return a.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function a(){for(;++r<t.length;)if(n.call(t,r))return a.value=t[r],a.done=!1,a;return a.value=e,a.done=!0,a};return o.next=o}}throw new TypeError(typeof t+" is not iterable")}return g.prototype=y,r(w,"constructor",{value:y,configurable:!0}),r(y,"constructor",{value:g,configurable:!0}),g.displayName=s(y,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,s(e,l,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},j(k.prototype),s(k.prototype,i,(function(){return this})),t.AsyncIterator=k,t.async=function(e,a,n,r,o){void 0===o&&(o=Promise);var c=new k(u(e,a,n,r),o);return t.isGeneratorFunction(a)?c:c.next().then((function(e){return e.done?e.value:c.next()}))},j(w),s(w,l,"Generator"),s(w,c,(function(){return this})),s(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),a=[];for(var n in t)a.push(n);return a.reverse(),function e(){for(;a.length;){var n=a.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=L,C.prototype={constructor:C,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(_),!t)for(var a in this)"t"===a.charAt(0)&&n.call(this,a)&&!isNaN(+a.slice(1))&&(this[a]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var a=this;function r(n,r){return i.type="throw",i.arg=t,a.next=n,r&&(a.method="next",a.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var c=this.tryEntries[o],i=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var l=n.call(c,"catchLoc"),s=n.call(c,"finallyLoc");if(l&&s){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(l){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=e,c.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(c)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.finallyLoc===e)return this.complete(a.completion,a.afterLoc),_(a),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var a=this.tryEntries[t];if(a.tryLoc===e){var n=a.completion;if("throw"===n.type){var r=n.arg;_(a)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,a,n){return this.delegate={iterator:L(t),resultName:a,nextLoc:n},"next"===this.method&&(this.arg=e),h}},t}var bt=function(){var e,t=Object(i.b)(),a=Object(o.l)(),n=Object(o.j)(),c=Object(i.c)((function(e){return e.mutualStateReducer})).isMerge,l=Object(i.c)((function(e){return e.apiDataReducer})),s=l.totalCost,d=l.profit,f=l.profitAndLoss,p=l.lastYearROI,g=Object(u.b)().t,y="/sstock"===n.pathname||"/sstock/"===n.pathname,v="/sstock/stockHistory"===n.pathname,E=(e={},Object(h.a)(e,g("navBar.totalCost"),s+g("twDollars")),Object(h.a)(e,g("navBar.profitAndLoss"),f+g("twDollars")),Object(h.a)(e,g("navBar.profit"),d+g("percent")),Object(h.a)(e,g("navBar.lastYearROI"),p+g("percent")),e),O=function(){var e=Object(b.a)(ht().mark((function e(){return ht().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("account-stock"),t(ce()),a("/sstock/login");case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=Object.entries(E).map((function(e){var t=Object(m.a)(e,2),a=t[0],n=t[1];return r.a.createElement(dt,{key:a,title:a,value:n})}));return r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-expand-md navbar-light navbar-background"},r.a.createElement("div",{className:"navbar-brand  ".concat(y?"navbar-active stock":""),onClick:function(e){return a("/sstock")}},g("navBar.twStock")),r.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarCollapse","aria-controls":"navbarCollapse","aria-expanded":"false","aria-label":"Toggle navigation"},r.a.createElement("span",{className:"navbar-toggler-icon"})),r.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarCollapse",style:{flexBasis:"100%"}},r.a.createElement("ul",{className:"navbar-nav mr-auto navbar-ul"},r.a.createElement("li",{className:"nav-item ".concat("/sstock/stockHistory"===n.pathname?"navbar-active":""),"data-toggle":"collapse","data-target":".navbar-collapse.show"},r.a.createElement("div",{className:"nav-link",onClick:function(e){return a("/sstock/stockHistory")}},g("navBar.twStockHistory")," ",r.a.createElement("span",{className:"sr-only"}))),r.a.createElement("li",{className:"nav-item ".concat("/sstock/account"===n.pathname?"navbar-active":""),"data-toggle":"collapse","data-target":".navbar-collapse.show"},r.a.createElement("div",{className:"nav-link",onClick:function(e){return a("/sstock/account")}},g("navBar.myAccount"))),r.a.createElement("li",{className:"nav-item ".concat("/sstock/chart"===n.pathname?"navbar-active":""),"data-toggle":"collapse","data-target":".navbar-collapse.show"},r.a.createElement("div",{className:"nav-link",onClick:function(e){return a("/sstock/chart")}},g("navBar.incomeChart"))),y&&r.a.createElement(it.a,{sx:{whiteSpace:"nowrap"}},r.a.createElement(lt.a,{sx:{marginBottom:0,".MuiFormControlLabel-label":{fontWeight:"bold"}},control:r.a.createElement(st.a,{checked:c,onChange:function(){t(oe())},color:"warning"}),label:g("navBar.stockMerge")})),r.a.createElement(pt,null),r.a.createElement("li",{className:"nav-item logout","data-toggle":"collapse","data-target":".navbar-collapse.show"},r.a.createElement("div",{className:"nav-link logout-button",onClick:function(){return O()}},g("logout"))))),y&&r.a.createElement("div",{className:"summary-list report background-blur"},r.a.createElement(dt,{title:g("navBar.currentTotalcost"),value:s+g("twDollars")})),v&&r.a.createElement("div",{className:"summary-list report",style:{display:"inherit"}},r.a.createElement("div",{className:"summary-history"},w))))},gt=function(e){var t=e.children,c=Object(o.l)(),l=localStorage.getItem("account-stock"),s=Object(i.c)((function(e){return e.mutualStateReducer})).initLoading,u=Object(o.j)();return Object(n.useEffect)((function(){l?"/sstock/login"===u.pathname&&c("/sstock"):c("/sstock/login")}),[l]),r.a.createElement("div",null,!0===s&&r.a.createElement("div",{className:"loading-image-frame"},r.a.createElement("img",{alt:"",className:"loading-image",src:a(227)})),l&&r.a.createElement(bt,null),t)},yt=[{path:"/sstock",element:r.a.createElement(gt,{children:r.a.createElement(ye,null)}),children:[]},{path:"/sstock/login",element:r.a.createElement(gt,{children:r.a.createElement(ct,null)}),children:[]},{path:"/sstock/stockHistory",element:r.a.createElement(gt,{children:r.a.createElement(ye,null)}),children:[]},{path:"/sstock/account",element:r.a.createElement(gt,{children:r.a.createElement(Ce,null)}),children:[]},{path:"/sstock/chart",element:r.a.createElement(gt,{children:r.a.createElement(at,null)}),children:[]},{path:"*",element:r.a.createElement(gt,null,r.a.createElement(nt,null)),children:[]}],vt=function(){return Object(o.o)(yt)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Et=a(47),Ot=a(39),wt=Object(Ot.b)({mutualStateReducer:le,apiDataReducer:ee}),jt=Object(g.a)({reducer:wt}),kt=a(162),xt=a(107),Nt={en:{translation:a(163)},zh:{translation:a(164)}};xt.a.use(u.a).init({resources:Nt,fallbackLng:"zh",lng:"zh",interpolation:{escapeValue:!1}});xt.a;var St=document.getElementById("root");Object(kt.createRoot)(St).render(r.a.createElement(r.a.Fragment,null,r.a.createElement(Et.a,null,r.a.createElement(i.a,{store:jt},r.a.createElement(vt,null))))),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[174,1,2]]]);
//# sourceMappingURL=main.bc05bdc6.chunk.js.map