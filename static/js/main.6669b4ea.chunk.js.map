{"version":3,"sources":["component/account/record.jsx","utils/browserUtils.js","utils/dateFormat.js","api/api.js","component/account/AccountTransfer.jsx","component/account/account.jsx","component/navbar/navbar.jsx","component/input.jsx","component/stock/stock.jsx","component/inputRegion.jsx","component/stock/stocks.jsx","component/usstock/stock.jsx","component/usstock/stocks.jsx","App.js","serviceWorker.js","index.js"],"names":["initialState","Record","props","state","this","record","index","scope","account_record_Money","account_record_Stock","transfer","transferStatus","transferTime","source","Component","utils","isMobile","a","check","navigator","userAgent","vendor","window","opera","test","substr","daysOfMonth","dateFormat","date","getFullYear","getMonth","slice","getDate","toDualDigit","day","days","y","m","console","log","firebase","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","stockData","getDataRef","ref","getUSDataRef","getAccountRef","getAccountRecordRef","getUSAccountRecordRef","getUSAccountRef","api","getAllData","route","getRefOfData","once","then","snapshot","items","forEach","element","unshift","val","stocks","sort","b","unSaleStocks","filter","status","saleStocks","sale_date","item","total","profitAndLoss","saleCost","cost","income","getLastYearROI","lastYearROI","showStocks","allStocks","totalCost","profit","Math","floor","insertNewData","data","timestamp","Date","now","price","sheet","US_cost","child","toString","set","name","number","sale_cost","sale_price","sale_sheet","catch","err","error","deleteStock","remove","updateStock","salePrice","saleSheet","stock","round","US_income","US_sale_cost","d","update","getAccount","account","accountData","thisDataRef","getAccountRecord","whichAccount","accountRecord","getRefOfAccountRecord","tradeForAccount","transferInfo","transfer_price","getRefOfAccount","parseInt","money","accountMoney","accountStock","summary","updateAccountRecord","stockInfo","sale","transfer_date","parseFloat","toFixed","accountInfo","lastYearStartDate","lastYearEndDate","thisYearStartDate","thisYearEndDate","lastYearItems","thisYearItems","incomeOfLastYear","incomeOfThisYear","inAccountOfThisYear","accountRecords","thisYearAccountRecords","ROI","AccountTransfer","inputSource","setState","submitTrade","isNaN","alert","self","callback","getStyleOfButton","browserUtils","margin","handleChange","getTransferOptions","e","target","value","style","className","type","placeholder","onChange","c","data-toggle","onClick","id","autoComplete","borderRadius","acTime","acMoney","acStock","acSummary","records","usRecords","isAssetTransfer","Account","updateAccount","accountTime","selectAccount","role","width","href","aria-controls","aria-selected","aria-labelledby","map","ket","Navbar","getActiveStyle","fontSize","marginTop","background","cursor","getComputeStyleForMobile","flexBasis","flexGrow","alignItems","color","fontWeight","changeRoute","backgroundColor","padding","data-target","aria-expanded","aria-label","display","Input","inputDate","inputName","inputNumber","inputPrice","inputSheet","submitStock","datePickerDate","Stock","updateStockStatus","stockSaleCallback","delete","saleStatus","averagePrice","handlingFee","hideFiled","key","tabIndex","aria-hidden","data-dismiss","textAlign","htmlFor","input","InputRegion","queryRegion","region","dateRegion1","dateRegion2","stockStatus","yearAgo","setDate","handleStartDateChange","startStandardDate","handleEndDateChange","endStandardDate","getSaleOptions","getStockOptions","paddingRight","paddingLeft","overflowY","resetCallBack","zIndex","float","allData","isQueryOpen","Stocks","queryData","queryDataCallback","getQueryStatus","deleteCallback","saleStockCallback","isShowQueryOption","length","Usstock","Usstocks","UsInfo","inputData","saleIsOpen","App","updateAllData","saleStock","updateQueryData","startRegion","endRegion","result","reset","getSaleIsStatus","height","innerHeight","Boolean","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.6669b4ea.chunk.js","sourcesContent":["import React, {Component} from 'react';\r\n\r\nconst initialState = {\r\n};\r\n\r\nexport default class Record extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = initialState;\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  render() {\r\n    const {record, index} = this.props;\r\n    return (\r\n      <tr>\r\n        <th scope=\"row\">{index}</th>\r\n        <td>{record.account_record_Money}</td>\r\n        <td>{record.account_record_Stock}</td>\r\n        <td>{record.transfer}</td>\r\n        <td>{record.transferStatus=== '轉出' ? '轉出' : '存入'}</td>\r\n        <td>{record.transferTime}</td>\r\n        <td>{record.source}</td>\r\n      </tr>\r\n    )\r\n  }\r\n}\r\n","\r\nconst utils = {\r\n  isMobile: () => {\r\n    let check = false;\r\n    (function (a) {\r\n      if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\\\-(n|u)|c55\\/|capi|ccwa|cdm\\\\-|cell|chtm|cldc|cmd\\\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\\\-|_)|g1 u|g560|gene|gf\\\\-5|g\\\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\\\-(m|p|t)|hei\\\\-|hi(pt|ta)|hp( i|ip)|hs\\\\-c|ht(c(\\\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\\\-(20|go|ma)|i230|iac( |\\\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\\\-[a-w])|libw|lynx|m1\\\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\\\-2|po(ck|rt|se)|prox|psio|pt\\\\-g|qa\\\\-a|qc(07|12|21|32|60|\\\\-[2-7]|i\\\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\\\-|oo|p\\\\-)|sdk\\/|se(c(\\\\-|0|1)|47|mc|nd|ri)|sgh\\\\-|shar|sie(\\\\-|m)|sk\\\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\\\-|v\\\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\\\-|tdg\\\\-|tel(i|m)|tim\\\\-|t\\\\-mo|to(pl|sh)|ts(70|m\\\\-|m3|m5)|tx\\\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\\\-|your|zeto|zte\\\\-/i.test(a.substr(0, 4))) check = true;\r\n\r\n      if (/\\(macintosh; intel mac os x 10_15\\)/i.test(a)) {\r\n        check = true;\r\n      }\r\n    })(navigator.userAgent || navigator.vendor || window.opera);\r\n    return check;\r\n  },\r\n};\r\n\r\nexport default utils;","const daysOfMonth = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\r\nconst utils = {\r\n  dateFormat: date =>{\r\n    const year =  date.getFullYear();\r\n    const month = (\"0\" + (date.getMonth() + 1)).slice(-2);\r\n    const day = (\"0\" + (date.getDate())).slice(-2);\r\n    return year + '-' + month + '-' + day\r\n  },\r\n  toDualDigit : day => {\r\n    if (day < 10) return '0' + day;\r\n    return day;\r\n  },\r\n  days : (y,m) => {\r\n    console.log(y,m);\r\n    if (((((y % 4 === 0) && (y % 100 !== 0)) || ((y % 400 === 0)) )&& (m === 2))) {\r\n      return 29\r\n    }else{\r\n      return  daysOfMonth[m];\r\n    }\r\n  }\r\n};\r\n\r\nexport default utils;\r\n","// Firebase App (the core Firebase SDK) is always required and must be listed first\r\nimport * as firebase from \"firebase/app\";\r\n// If you enabled Analytics in your project, add the Firebase SDK for Analytics\r\nimport \"firebase/analytics\";\r\nimport \"firebase/database\";\r\n// Add the Firebase products that you want to use\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\nimport d from \"../utils/dateFormat\";\r\n\r\nconst fireBaseConfig= {\r\n  apiKey: process.env.REACT_APP_APP_KEY,\r\n  authDomain:process.env.REACT_APP_AUTHDOMAIN,\r\n  databaseURL:process.env.REACT_APP_DATABSEURL,\r\n  projectId:process.env.REACT_APP_PROJECTID,\r\n  storageBucket: process.env.REACT_APP_STORAGEBUCKET,\r\n  messagingSenderId: process.env.REACT_APP_MESSAGEINGSENDERID,\r\n  appId:　process.env.REACT_APP_APPID,\r\n  measurementId: process.env.REACT_APP_MEASUREMENTID\r\n};\r\n\r\nfirebase.initializeApp(fireBaseConfig);\r\nfirebase.analytics();\r\n// get database refer\r\nvar getDataRef = firebase.database().ref(`/stockInfo` );\r\nvar getUSDataRef = firebase.database().ref(`/us_stockInfo` );\r\nvar getAccountRef = firebase.database().ref(`/account` );\r\nvar getAccountRecordRef = firebase.database().ref(`/accountRecord` );\r\nvar getUSAccountRecordRef = firebase.database().ref(`/us_accountRecord` );\r\nvar getUSAccountRef = firebase.database().ref(`/us_account` );\r\nvar stockData;\r\n\r\nconst api = {\r\n  async getAllData(route) {\r\n    this.route = route;\r\n    let getRefOfData = route === \"US_account\" ? getUSDataRef : getDataRef\r\n    await getRefOfData.once('value').then(async (snapshot) => {\r\n      let items = [];\r\n      snapshot.forEach(element => {\r\n        items.unshift(element.val());\r\n      });\r\n      let stocks = items.sort(function (a, b) {\r\n        return a.date < b.date ? 1 : -1\r\n      });\r\n      let unSaleStocks = stocks.filter(a => a.status !== 'sale').sort(function (a, b) {\r\n        return a.date < b.date ? 1 : -1\r\n      });\r\n      let saleStocks = stocks.filter(a => a.status === 'sale').sort(function (a, b) {\r\n        return a.sale_date > b.sale_date ? 1 : -1\r\n      });\r\n\r\n      if (!!items) {\r\n        let total = 0;\r\n        let profitAndLoss = 0;\r\n        let saleCost = 0;\r\n        for (let item in items) {\r\n          total += items[item].status === \"unsale\" ? items[item].cost : 0;\r\n        }\r\n        for (let item in items) {\r\n          profitAndLoss += items[item].status === \"sale\" ? items[item].income : 0;\r\n          saleCost += items[item].status === \"sale\" ? items[item].cost : 0;\r\n        }\r\n        let lastYearROI = await this.getLastYearROI(items, route);\r\n        stockData = {\r\n          lastYearROI: lastYearROI,\r\n          showStocks: items,\r\n          allStocks: items,\r\n          saleStocks: saleStocks,\r\n          unSaleStocks: unSaleStocks,\r\n          totalCost: total,\r\n          profitAndLoss: profitAndLoss,\r\n          saleCost: saleCost,\r\n          profit: Math.floor(profitAndLoss / saleCost * 100)\r\n        }\r\n      }\r\n    });\r\n    return stockData;\r\n  },\r\n\r\n  async insertNewData(data){\r\n    let timestamp = Math.floor(Date.now() / 1000);\r\n    let cost = Math.floor(data.price * 1000 * data.sheet * 1.001425);\r\n    let US_cost = data.price * data.sheet;\r\n\r\n    let getRefOfData = this.route === \"US_account\" ? getUSDataRef : getDataRef\r\n      await getRefOfData.child(timestamp.toString()).set({\r\n      timestamp: timestamp,\r\n      date: data.date,\r\n      name: data.name,\r\n      number: data.number,\r\n      price: data.price,\r\n      sheet: data.sheet,\r\n      cost: this.route === \"US_account\" ?　US_cost : cost,\r\n      income:0,\r\n      sale_cost:0,\r\n      sale_date:0,\r\n      sale_price:0,\r\n      sale_sheet:0,\r\n      status:\"unsale\"\r\n    }).then(function () {\r\n      console.log(\"新增Post成功\");\r\n      // self.updateAllData();\r\n    }).catch(function (err) {\r\n      console.error(\"新增Post錯誤：\", err);\r\n    });\r\n  },\r\n\r\n  async deleteStock(timestamp){\r\n    let thisDataRef = this.route === 'US_account' ? getUSDataRef : getDataRef;\r\n    thisDataRef.child(`${timestamp}`).remove().then(function () {\r\n      console.log(\"刪除成功\");\r\n    }).catch(function (err) {\r\n      console.error(\"刪除錯誤：\", err);\r\n    });\r\n  },\r\n\r\n  async updateStock(salePrice, saleSheet, stock, route){\r\n      let income = Math.round(salePrice * 1000 * saleSheet) - Math.floor(salePrice * 1000 * saleSheet * 0.001425) - Math.floor(salePrice * 1000 * saleSheet * 0.003) - stock.cost;\r\n      let sale_cost = Math.round(salePrice * 1000 * saleSheet) - Math.floor(salePrice * 1000 * saleSheet * 0.001425) - Math.floor(salePrice * 1000 * saleSheet * 0.003);\r\n      let US_income = salePrice * saleSheet - stock.cost;\r\n      let US_sale_cost = salePrice * saleSheet;\r\n      let sale_date = d.dateFormat(new Date());\r\n      let getRefOfData =  route === \"US_account\" ? getUSDataRef : getDataRef\r\n\r\n      await getRefOfData.child(stock.timestamp).update({\r\n        income: route === 'US_account' ? US_income : income,\r\n        sale_cost: route === 'US_account' ? US_sale_cost　:　sale_cost,\r\n        sale_date: sale_date,\r\n        sale_price: salePrice,\r\n        sale_sheet: saleSheet,\r\n        status: \"sale\"\r\n      });\r\n  },\r\n\r\n  async getAccount(account){\r\n    let accountData = [];\r\n    const thisDataRef = account === 'US_account' ? getUSAccountRef : getAccountRef;\r\n\r\n      await thisDataRef.once('value').then((snapshot) => {\r\n        accountData = snapshot.val();\r\n    });\r\n    return accountData;\r\n  },\r\n\r\n  async getAccountRecord(whichAccount){\r\n    let accountRecord = [];\r\n    let  getRefOfAccountRecord = whichAccount === 'US_account' ? getUSAccountRecordRef : getAccountRecordRef;\r\n    await getRefOfAccountRecord.once('value').then((snapshot) => {\r\n      snapshot.forEach(element => {\r\n        accountRecord.unshift(element.val());\r\n      });\r\n    });\r\n    return accountRecord;\r\n  },\r\n\r\n  async tradeForAccount(transferInfo, whichAccount){\r\n    let accountData = [];\r\n    let transfer_price = 0;\r\n    let date = d.dateFormat(new Date());\r\n    let timestamp = Math.floor(Date.now() / 1000);\r\n    let  getRefOfAccount = whichAccount === 'Taiwan_account' ? getAccountRef : getUSAccountRef;\r\n    let  getRefOfAccountRecord = whichAccount === 'Taiwan_account' ? getAccountRecordRef : getUSAccountRecordRef;\r\n    await getRefOfAccount.once('value').then((snapshot) => {\r\n        accountData = snapshot.val();\r\n    });\r\n    if(transferInfo.transferStatus === \"transferOut\"){\r\n      transfer_price = parseInt(transferInfo.price) * -1;\r\n    }else{\r\n      transfer_price = parseInt(transferInfo.price);\r\n    }\r\n\r\n    let money = (whichAccount === 'Taiwan_account' ? parseInt(accountData.accountMoney) : accountData.accountMoney) + transfer_price;\r\n    let stock = (whichAccount === 'Taiwan_account' ? parseInt(accountData.accountStock) : accountData.accountStock);\r\n    let summary = money + stock;\r\n    await getRefOfAccount.update({\r\n      accountMoney: money,\r\n      accountStock: stock,\r\n      summary: summary\r\n    });\r\n\r\n    await getRefOfAccountRecord.child(timestamp.toString()).set({\r\n      timestamp: timestamp,\r\n      account_record_Money: money,\r\n      account_record_Stock: stock,\r\n      source: transferInfo.source,\r\n      transfer: transferInfo.price,\r\n      transferStatus: transferInfo.transferStatus === \"transferIn\" ? '存入': '轉出',\r\n      transferTime: date,\r\n    })\r\n    return ;\r\n\r\n  },\r\n  async updateAccountRecord(stockInfo, sale, route){\r\n    let timestamp = Math.floor(Date.now() / 1000);\r\n    let transfer_date = d.dateFormat(new Date())\r\n    let accountData = [];\r\n    let getRefOfAccount = (route === \"US_account\") ? getUSAccountRef :  getAccountRef;\r\n    await getRefOfAccount.once('value').then((snapshot) => {\r\n      accountData = snapshot.val();\r\n    });\r\n    let money = 0;\r\n    let stock = 0;\r\n    let cost = 0;\r\n    let salePrice = 0;\r\n    if(route !== \"US_account\") {\r\n      cost = Math.round(stockInfo.price * 1000 * stockInfo.sheet) - Math.floor(stockInfo.price * 1000 * stockInfo.sheet * 0.001425) - Math.floor(stockInfo.price * 1000 * stockInfo.sheet * 0.003);\r\n      salePrice = Math.floor(stockInfo.price * 1000 * stockInfo.sheet) + Math.floor(stockInfo.price * 1000 * stockInfo.sheet * 0.001425);\r\n\r\n      if (sale) {\r\n        money = parseInt(accountData.accountMoney) - salePrice;\r\n        stock = parseInt(accountData.accountStock) + salePrice;\r\n      } else {\r\n        money = parseInt(accountData.accountMoney) + cost;\r\n        stock = parseInt(accountData.accountStock) - stockInfo.cost;\r\n      }\r\n    }else{\r\n      cost = stockInfo.price * stockInfo.sheet;\r\n      salePrice = stockInfo.price * stockInfo.sheet;\r\n      cost = parseFloat(cost);\r\n      salePrice = parseFloat(salePrice);\r\n      if (sale) {\r\n        money = parseFloat(accountData.accountMoney) - parseFloat(salePrice);\r\n        stock = parseFloat(accountData.accountStock) + parseFloat(salePrice);\r\n      } else {\r\n        money = parseFloat(accountData.accountMoney) + cost;\r\n        stock =  parseFloat(accountData.accountStock) - stockInfo.cost;\r\n      }\r\n    }\r\n    money = parseFloat(money.toFixed(2));\r\n    stock = parseFloat(stock.toFixed(2));\r\n    await getRefOfAccount.update({\r\n      accountMoney: money,\r\n      accountStock: stock,\r\n      summary: (money + stock).toFixed(2)\r\n    });\r\n\r\n    let getRefOfAccountRecord =  route === \"US_account\" ? getUSAccountRecordRef : getAccountRecordRef;\r\n\r\n    await getRefOfAccountRecord.child(timestamp.toString()).set({\r\n      timestamp: timestamp,\r\n      account_record_Money: money,\r\n      account_record_Stock: stock,\r\n      source: '股票',\r\n      transfer: sale ? salePrice : cost,\r\n      transferTime: transfer_date,\r\n      transferStatus: sale ? '存入' : '轉出'\r\n    });\r\n\r\n    return ;\r\n  },\r\n\r\n  async getLastYearROI(items, route){\r\n    let accountInfo  = await this.getAccount();\r\n    let summary = parseInt(accountInfo.summary);\r\n    let lastYearStartDate = d.dateFormat(new Date(new Date().getFullYear() - 1,0,1));\r\n    let lastYearEndDate = d.dateFormat(new Date(new Date().getFullYear() - 1,11,31));\r\n    let thisYearStartDate = d.dateFormat(new Date(new Date().getFullYear(),0,1));\r\n    let thisYearEndDate = d.dateFormat(new Date(new Date().getFullYear(),11,31));\r\n    let lastYearItems = items.filter(a => (lastYearStartDate <= a.sale_date && a.sale_date <= lastYearEndDate));\r\n    let thisYearItems = items.filter(a => (thisYearStartDate <= a.sale_date && a.sale_date <= thisYearEndDate));\r\n    let incomeOfLastYear = 0;\r\n    let incomeOfThisYear = 0;\r\n    let inAccountOfThisYear = 0;\r\n    for (let item in lastYearItems) {\r\n      incomeOfLastYear += lastYearItems[item].income;\r\n    }\r\n    for (let item in thisYearItems) {\r\n      incomeOfThisYear += thisYearItems[item].income;\r\n    }\r\n    let accountRecords  = await this.getAccountRecord(route);\r\n    let thisYearAccountRecords = accountRecords.filter(a => (thisYearStartDate <= a.transferTime && a.transferTime <= thisYearEndDate));\r\n    for (let record in thisYearAccountRecords) {\r\n      inAccountOfThisYear += thisYearAccountRecords[record].source !== '股票' ? parseInt(thisYearAccountRecords[record].transfer) : 0;\r\n    }\r\n    let ROI = (incomeOfLastYear/(summary - incomeOfThisYear - inAccountOfThisYear));\r\n    return ROI.toFixed(4)\r\n  }\r\n};\r\n\r\nexport default api;","import React, {Component} from 'react';\r\nimport browserUtils from \"../../utils/browserUtils\";\r\nimport api from \"../../api/api\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\nconst initialState = {\r\n  date: new Date(),\r\n  price: '',\r\n  transferStatus: 'transferIn',\r\n  source: ''\r\n};\r\n\r\nexport default class AccountTransfer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = initialState;\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  inputSource = source => {\r\n    this.setState({\r\n      source\r\n    })\r\n  };\r\n\r\n  submitTrade = () => {\r\n    const {price, transferStatus, source} = this.state;\r\n    const {whichAccount} = this.props;\r\n    if (transferStatus && source && !isNaN(price)) {\r\n      let self = this.props;\r\n      const transferInfo = {price: price, transferStatus: transferStatus, source: source};\r\n      api.tradeForAccount(transferInfo, whichAccount).then(() => {\r\n        self.callback(whichAccount);\r\n      });\r\n      this.setState({\r\n        'price': '',\r\n        'source': ''\r\n      });\r\n    } else {\r\n      return alert('不許有任何一個為空');\r\n    }\r\n  };\r\n\r\n  getStyleOfButton = () =>{\r\n    if(browserUtils.isMobile()){\r\n      return {\r\n        margin: '4px  0px'\r\n      }\r\n    }else{\r\n      return {\r\n        margin: '0px  0px'\r\n      }\r\n    }\r\n  };\r\n\r\n  handleChange = (price) => {\r\n    this.setState({price: price});\r\n  };\r\n\r\n  getTransferOptions = (e) => this.setState({transferStatus: e.target.value});\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div style={{margin: '5px 5px'}}>\r\n        <div className=\"form-row\">\r\n          <div className=\"col\">\r\n            <input type=\"text\" className=\"form-control\" placeholder=\"金額\"\r\n                   onChange={(c) => this.handleChange(c.target.value)} value={this.state.price}/>\r\n          </div>\r\n          <div className=\"from-group col-md-2 input-sale-frame\">\r\n            <input type=\"text\" className=\"form-control\" placeholder=\"來源\"\r\n                   onChange={(c) => this.inputSource(c.target.value)} value={this.state.source}/>\r\n          </div>\r\n          <div className=\"btn-group btn-group-toggle from-group col-md-2\" data-toggle=\"buttons\"\r\n               style={{...this.getStyleOfButton()}}>\r\n            <label className=\"btn btn-warning active\" onClick={this.getTransferOptions}>\r\n              <input type=\"radio\" name=\"stockOption\" id=\"individual\" value='transferIn' autoComplete=\"off\"/> 存入\r\n            </label>\r\n            <label className=\"btn btn-warning\" onClick={this.getTransferOptions}>\r\n              <input type=\"radio\" name=\"stockOption\" id=\"mutual\" value='transferOut' autoComplete=\"off\"/> 轉出\r\n            </label>\r\n          </div>\r\n          <button style={{borderRadius: '5px', margin: 'auto 5px'}} className=\"btn btn-primary from-group col-md-2 input-sale-frame\" type=\"submit\"\r\n                  onClick={this.submitTrade}>確認送出\r\n          </button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\nimport Record from './record'\r\nimport AccountTransfer from './AccountTransfer'\r\nimport './account.css'\r\nimport api from '../../api/api'\r\nimport browserUtils from \"../../utils/browserUtils\";\r\n\r\nconst initialState = {\r\n  acTime: '',\r\n  acMoney: '',\r\n  acStock: '',\r\n  acSummary: '',\r\n  records:[],\r\n  usRecords:[],\r\n  whichAccount: 'Taiwan_account',\r\n  isAssetTransfer: false\r\n};\r\n\r\nexport default class Account extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = initialState;\r\n  }\r\n\r\n  componentDidMount() {\r\n    const {whichAccount} = this.state\r\n    this.updateAccount(whichAccount);\r\n  }\r\n\r\n  updateAccount = (whichAccount = 'Taiwan_account') =>{\r\n    api.getAccount(whichAccount).then((data)=> {\r\n      if(whichAccount === 'Taiwan_account') {\r\n        this.setState({\r\n          acTime: data.accountTime,\r\n          acMoney: data.accountMoney,\r\n          acStock: data.accountStock,\r\n          acSummary: data.summary,\r\n        });\r\n        api.getAccountRecord(whichAccount).then((data)=>{\r\n          this.setState({records:data})\r\n        });\r\n      }else{\r\n        this.setState({\r\n          acTime: data.accountTime,\r\n          acMoney: data.accountMoney,\r\n          acStock: data.accountStock,\r\n          acSummary: data.summary,\r\n        });\r\n      }\r\n      api.getAccountRecord(whichAccount).then((data)=>{\r\n        this.setState({usRecords:data})\r\n      });\r\n      });\r\n  };\r\n  selectAccount = account => {\r\n    this.setState({whichAccount: account, records:[], usRecords:[]})\r\n    this.updateAccount(account)\r\n  };\r\n\r\n  isAssetTransfer = status => this.setState({isAssetTransfer:status});\r\n\r\n  render() {\r\n    const {acTime, acMoney, acStock, acSummary, records, usRecords, whichAccount, isAssetTransfer} = this.state;\r\n    const {route} = this.props;\r\n\r\n    return (\r\n      <div>\r\n        <nav>\r\n          <div className=\"nav nav-tabs\" id=\"nav-tab\" role=\"tablist\">\r\n            <a className=\"nav-item nav-link active\" style={{width: '50%'}} id=\"nav-home-tab\" data-toggle=\"tab\" href=\"#nav-home\" role=\"tab\"\r\n               aria-controls=\"nav-home\" aria-selected=\"true\" onClick={() => this.selectAccount('Taiwan_account')}>台股資產</a>\r\n            <a className=\"nav-item nav-link\"  style={{width: '50%'}} id=\"nav-profile-tab\" data-toggle=\"tab\" href=\"#nav-profile\" role=\"tab\"\r\n               aria-controls=\"nav-profile\" aria-selected=\"false\" onClick={() => this.selectAccount('US_account')}>美股資產</a>\r\n          </div>\r\n        </nav>\r\n        <div className=\"tab-content\" id=\"nav-tabContent\">\r\n          <div className=\"tab-pane fade show active\" id=\"nav-home\" role=\"tabpanel\" aria-labelledby=\"nav-home-tab\">\r\n            {browserUtils.isMobile() && !this.state.isAssetTransfer && <button className=\"btn btn-warning from-group col-md-2 input-sale-frame\" type=\"submit\" onClick={() => this.isAssetTransfer(true)}>資產轉移</button>}\r\n            {browserUtils.isMobile() && this.state.isAssetTransfer  && <button className=\"btn btn-secondary from-group col-md-2 input-sale-frame\" type=\"submit\" onClick={() => this.isAssetTransfer(false)}>隱藏</button>}\r\n            {isAssetTransfer && <AccountTransfer whichAccount={whichAccount} callback={this.updateAccount}/>}\r\n            <div className=\"container\">\r\n              <table className=\"table table-striped\">\r\n                <thead>\r\n                <tr>\r\n                  <th>創建時間</th>\r\n                  <th>帳戶金額</th>\r\n                  <th>股票帳戶</th>\r\n                  <th>總金額</th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                <tr>\r\n                  <td>{acTime}</td>\r\n                  <td>{acMoney}</td>\r\n                  <td>{acStock}</td>\r\n                  <td>{acSummary}</td>\r\n                </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n            <div className=\"table-responsive\">\r\n              <table className=\"table\">\r\n                <thead>\r\n                <tr>\r\n                  <th scope=\"col\">#</th>\r\n                  <th scope=\"col\">帳戶金額</th>\r\n                  <th scope=\"col\">股票金額</th>\r\n                  <th scope=\"col\">金額(含損益)</th>\r\n                  <th scope=\"col\">狀態</th>\r\n                  <th scope=\"col\">時間</th>\r\n                  <th scope=\"col\">來源</th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                {\r\n                  records&&records.map((record, index) => (\r\n                    <Record ket={index} record={record} index={index}/>\r\n                  ))\r\n                }\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n          <div className=\"tab-pane fade\" id=\"nav-profile\" role=\"tabpanel\" aria-labelledby=\"nav-profile-tab\">\r\n            {browserUtils.isMobile() && !this.state.isAssetTransfer && <button className=\"btn btn-warning from-group col-md-2 input-sale-frame\" type=\"submit\" onClick={() => this.isAssetTransfer(true)}>資產轉移</button>}\r\n            {browserUtils.isMobile() && this.state.isAssetTransfer  && <button className=\"btn btn-secondary from-group col-md-2 input-sale-frame\" type=\"submit\" onClick={() => this.isAssetTransfer(false)}>隱藏</button>}\r\n            {isAssetTransfer && <AccountTransfer whichAccount={whichAccount} callback={this.updateAccount}/>}\r\n            <div className=\"container\">\r\n              <table className=\"table table-striped\">\r\n                <thead>\r\n                <tr>\r\n                  <th>創建時間</th>\r\n                  <th>帳戶金額($)</th>\r\n                  <th>股票帳戶($)</th>\r\n                  <th>總金額($)</th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                <tr>\r\n                  <td>{acTime}</td>\r\n                  <td>{acMoney}</td>\r\n                  <td>{acStock}</td>\r\n                  <td>{acSummary}</td>\r\n                </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n            <div className=\"table-responsive\">\r\n              <table className=\"table\">\r\n                <thead>\r\n                <tr>\r\n                  <th scope=\"col\">#</th>\r\n                  <th scope=\"col\">帳戶金額</th>\r\n                  <th scope=\"col\">股票金額</th>\r\n                  <th scope=\"col\">金額(含損益)</th>\r\n                  <th scope=\"col\">狀態</th>\r\n                  <th scope=\"col\">時間</th>\r\n                  <th scope=\"col\">來源</th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                {\r\n                  usRecords&&usRecords.map((record, index) => (\r\n                    <Record ket={index} record={record} index={index}/>\r\n                  ))\r\n                }\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\nimport browserUtils from '../../utils/browserUtils';\r\n\r\nexport default class Navbar extends Component {\r\n  componentDidMount() {\r\n  }\r\n\r\n  getActiveStyle = () =>{\r\n    if(browserUtils.isMobile()){\r\n      return {\r\n        fontSize: '16px',\r\n        marginTop: '5px',\r\n        background:'rgb(232 232 232)',\r\n        borderRadius: '10px'\r\n      }\r\n    } else {\r\n      return {\r\n        fontSize: '16px',\r\n        cursor: 'pointer',\r\n        background: 'rgb(232 232 232)',\r\n        borderRadius: '10px'\r\n      }\r\n    }\r\n  };\r\n\r\n  getComputeStyleForMobile = () =>{\r\n    if(browserUtils.isMobile()){\r\n      return {\r\n        flexBasis: '100%',\r\n        flexGrow: '1',\r\n        alignItems: 'center',\r\n        color:'#ed2a2a',\r\n        fontSize:'16px',\r\n        fontWeight:'bold'\r\n      }\r\n    }else{\r\n      return {\r\n        color:'#ed2a2a',\r\n        fontSize:'18px',\r\n        fontWeight:'bold'\r\n      }\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const {saleCost, profitAndLoss, profit, totalCost ,route, changeRoute, lastYearROI} = this.props;\r\n    return (\r\n      <div>\r\n        <nav className=\"navbar navbar-expand-md navbar-light \" style={{backgroundColor: 'rgb(52 149 220)', cursor: 'pointer'}}>\r\n          <div className=\"navbar-brand\"  style={route === 'Taiwan_account' ? {...this.getActiveStyle(), padding: '5px'} : {}}　onClick={e => changeRoute('Taiwan_account')}>台灣股票</div>\r\n          <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarCollapse\"\r\n                  aria-controls=\"navbarCollapse\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n            <span className=\"navbar-toggler-icon\"></span>\r\n          </button>\r\n          <div className=\"collapse navbar-collapse\" id=\"navbarCollapse\">\r\n            <ul className=\"navbar-nav mr-auto\">\r\n              <li className={`nav-item`} style={route === 'Taiwan_history' ? this.getActiveStyle() : {}}>\r\n                <div className=\"nav-link\"  onClick={e => changeRoute('Taiwan_history')}>台股歷史紀錄 <span className=\"sr-only\"></span></div>\r\n              </li>\r\n              <li className=\"nav-item\"  style={route === 'US_account' ? this.getActiveStyle() : {}} >\r\n                <div className=\"nav-link\"　style={{color: '#e91e63'}} onClick={e => changeRoute('US_account')} >美股證卷</div>\r\n              </li>\r\n              <li className=\"nav-item\"  style={route === 'account' ? this.getActiveStyle() : {}} >\r\n                <div className=\"nav-link\"　onClick={e => changeRoute('account')} >我的帳戶</div>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n          <div style={{display: 'inherit',...this.getComputeStyleForMobile()}}>\r\n          {(route === 'Taiwan_history' || route === 'US_account') && <div style={{display: 'flex'}}>\r\n          <div>投入成本:{saleCost.toFixed(2)}元</div>\r\n          <div>總損益: {profitAndLoss.toFixed(2)}元</div>\r\n          <div>投報率: {profit.toFixed(2)}%</div>\r\n          <div>去年投報率: {lastYearROI}%</div>\r\n          </div>}\r\n          </div>\r\n          <div style={{display: 'inherit', padding: '5px 0px',...this.getComputeStyleForMobile()}}>\r\n            {(route === 'Taiwan_account' || route === 'US_account') && <div>目前投入總成本: {totalCost.toFixed(2)}元</div>}\r\n          </div>\r\n        </nav>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\nimport utils from \"./../utils/dateFormat\";\r\nimport api from './../api/api'\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport browserUtils from \"./../utils/browserUtils\";\r\n\r\nconst initialState = {\r\n  'date': new Date(),\r\n  'name': '',\r\n  'number': '',\r\n  'code_name':'',\r\n  'price': '',\r\n  'sheet': '',\r\n  'datePickerDate': new Date()\r\n};\r\n\r\nexport default class Input extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = initialState;\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({date: utils.dateFormat(new Date()), datePickerDate: utils.dateFormat(new Date())})\r\n  }\r\n\r\n  inputDate = date => {\r\n    this.setState({\r\n      date\r\n    })\r\n  };\r\n\r\n  inputName = name => {\r\n    this.setState({\r\n      name\r\n    })\r\n  };\r\n\r\n  inputNumber = number => {\r\n    this.setState({\r\n      number\r\n    })\r\n  };\r\n\r\n  inputPrice = price => {\r\n    this.setState({\r\n      price\r\n    })\r\n  };\r\n\r\n  inputSheet = sheet => {\r\n    this.setState({\r\n      sheet\r\n    })\r\n  };\r\n\r\n  submitStock = route => {\r\n    const {date, name, number, price, sheet} = this.state;\r\n    if (date && name && number && !isNaN(price) && !isNaN(sheet)) {\r\n      const stockInfo = {'date': date, 'name': name, 'number': number, 'price': price, 'sheet': sheet};\r\n      api.updateAccountRecord(stockInfo, true, route);\r\n      this.props && this.props.callback(stockInfo);\r\n      this.setState({\r\n        'name': '',\r\n        'number': '',\r\n        'price': '',\r\n        'sheet': ''\r\n      })\r\n    } else {\r\n      return alert('不許有任何一個為空');\r\n    }\r\n  };\r\n\r\n  handleChange = (date) => {\r\n    this.setState({date: date, datePickerDate: date})\r\n  };\r\n\r\n  render() {\r\n    const {datePickerDate} = this.state;\r\n    const {route} = this.props;\r\n    const isMobile = browserUtils.isMobile();\r\n    return (\r\n      <div style={{margin: isMobile ?  '5px 5px 0px 5px' : '5px'}}>\r\n        <div className=\"form-row\">\r\n          <div className=\"col\">\r\n            <input type=\"date\" className=\"form-control\" placeholder=\"日期\"\r\n                   onChange={(c) => this.handleChange(c.target.value)} value={datePickerDate}/>\r\n          </div>\r\n          <div className=\"from-group col-md-2 input-sale-info-frame\">\r\n            <input type=\"text\" className=\"form-control\" placeholder=\"股票名稱\"\r\n                   onChange={(c) => this.inputName(c.target.value)} value={this.state.name} autoComplete=\"on\"/>\r\n          </div>\r\n          <div className=\"from-group col-md-2 input-sale-info-frame\">\r\n            <input type=\"text\" className=\"form-control\" placeholder={route === 'US_account' ?  \"美股代號\" : \"編號\" }\r\n                   onChange={(c) => this.inputNumber(c.target.value)} value={this.state.number} autoComplete=\"on\"/>\r\n          </div>\r\n          <div className=\"from-group col-md-2 input-sale-info-frame\">\r\n            <input type=\"text\" className=\"form-control\" placeholder=\"單價\"\r\n                   onChange={(c) => this.inputPrice(c.target.value)} value={this.state.price} autoComplete=\"on\"/>\r\n          </div>\r\n          <div className=\"from-group col-md-2 input-sale-info-frame\">\r\n            <input type=\"text\" className=\"form-control\" placeholder={route === 'US_account' ?  \"股數\" : \"張數\" }\r\n                   onChange={(c) => this.inputSheet(c.target.value)} value={this.state.sheet} autoComplete=\"on\"/>\r\n          </div>\r\n          <button className=\"btn btn-primary from-group col-md-2 input-sale-frame\" type=\"submit\"\r\n                  onClick={() => this.submitStock(route)}>確認買入\r\n          </button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\n\r\nconst initialState = {\r\n};\r\n\r\nexport default class Stock extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = initialState;\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  updateStockStatus = () => {\r\n    const {stock} = this.props;\r\n    const salePrice = parseInt(this.price.value);\r\n    if((stock.sheet < this.sheet.value) || isNaN(salePrice) || !salePrice )\r\n      alert('賣出張數錯誤');\r\n    else{\r\n      this.props.stockSaleCallback(this.price.value,this.sheet.value,stock);\r\n      this.price.value = '';\r\n      this.sheet.value = '';\r\n    }\r\n  };\r\n\r\n  deleteStock = () => {\r\n    const {stock} = this.props;\r\n    this.props.delete(stock.timestamp);\r\n  };\r\n\r\n  render() {\r\n    const {stock, saleStatus, index, route} = this.props;\r\n    const averagePrice = stock.price*1.001425.toFixed(2);\r\n    const handlingFee = stock.price*1000*stock.sheet*0.001424 < 20 ? 20 : Math.round(stock.price*1000*stock.sheet*0.001424);\r\n\r\n    return (\r\n        <tr>\r\n          <th scope=\"row\">{index}</th>\r\n          {!this.props.hideFiled && <td key={index}>\r\n            <button type=\"button\" className=\"btn btn-info\" data-toggle=\"modal\" data-target={`#modal-${index}`}>賣出</button>\r\n            <div>\r\n              <div className=\"modal fade\" id={`modal-${index}`} tabIndex=\"-1\" role=\"dialog\"\r\n                   aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n                <div className=\"modal-dialog\" role=\"document\">\r\n                  <div className=\"modal-content\">\r\n                    <div className=\"modal-header\">\r\n                      <h5 className=\"modal-title\" style={{color:'black'}} id=\"exampleModalLabel\">賣出資訊</h5>\r\n                      <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                        <span aria-hidden=\"true\">&times;</span>\r\n                      </button>\r\n                    </div>\r\n                    <div className=\"modal-body\">\r\n                      <div className=\"form-group\">\r\n                        <h5 style={{ color: 'black', textAlign: 'left'}} key={'price' + index} htmlFor={`price-name-${index}`} className=\"col-form-label\">賣出單價:</h5>\r\n                        <input type=\"text\" className=\"form-control\"  id={`price-name-${index}`} ref={(input) => { this.price = input; }} />\r\n                      </div>\r\n                      <div className=\"form-group\">\r\n                        <h5 style={{ color: 'black', textAlign: 'left'}} key={'sheet' + index} htmlFor={`sheet-name-${index}`} className=\"col-form-label\">賣出張數:</h5>\r\n                        <input type=\"text\" className=\"form-control\" id={`sheet-name-${index}`}  ref={(input) => { this.sheet = input; }}/>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"modal-footer\">\r\n                      <button type=\"button\" className=\"btn btn-primary\"  data-dismiss=\"modal\" aria-label=\"Close\"onClick={ this.updateStockStatus}>確認{stock.name}</button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </td>}\r\n          {  (route ==='Taiwan_account'  && stock.status === 'sale') && <td>{stock.sale_date}</td>}\r\n          {  (route ==='Taiwan_account'  && stock.status === 'unsale')  && <td>{stock.date}</td>}\r\n          { route !=='Taiwan_account' && (saleStatus === 'all' || saleStatus === 'sale') && (stock.status === 'sale' ? <td>{stock.sale_date}</td> : <td></td>)}\r\n          { route !=='Taiwan_account' && (saleStatus === 'all' || saleStatus === 'unsale') && (stock.status === 'unsale' ? <td>{stock.date}</td>: <td>{stock.date}</td>)}\r\n          <td>{stock.name}</td>\r\n          <td>{stock.number}</td>\r\n          <td>{averagePrice}</td>\r\n          <td>{stock.sheet}</td>\r\n          <td>{Math.floor(handlingFee)}</td>\r\n          <td>{Math.floor(stock.cost)}</td>\r\n          <td>{stock.status === \"unsale\" ? '未賣出' : '已賣出'}</td>\r\n          <td>{Math.floor(stock.sale_cost)}</td>\r\n          <td style={{ 'color': stock.income < 0 ? '#30ff30' : 'rgb(255 19 19)'}}>{Math.floor(stock.income)}</td>\r\n          <td>\r\n            <button type=\"button\" className=\"btn btn-danger\" onClick={this.deleteStock}>刪除</button>\r\n          </td>\r\n        </tr>\r\n    )\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\nimport utils from \"./../utils/dateFormat\";\r\nimport browserUtils from \"./../utils/browserUtils\";\r\nimport \"./styles.css\";\r\n\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nconst initialState = {\r\n  'startStandardDate': '',\r\n  'endStandardDate': '',\r\n  'dateRegion1': '',\r\n  'dateRegion2': '',\r\n  'saleStatus': 'all',\r\n  'stockStatus': 'individual'\r\n\r\n};\r\n\r\nexport default class InputRegion extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = initialState;\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({date: utils.dateFormat(new Date()),dateRegion1: utils.dateFormat(new Date()),dateRegion2: utils.dateFormat(new Date()), startStandardDate: utils.dateFormat(new Date()), endStandardDate: utils.dateFormat(new Date())})\r\n  }\r\n\r\n  queryRegion = (region = false) => {\r\n    const {dateRegion1, dateRegion2, saleStatus, stockStatus} = this.state;\r\n    let stockInfo = {};\r\n    let date = new Date();\r\n    if (region) {\r\n      if (region === 'yearAgo') {\r\n        const yearAgo = new Date().getFullYear() - 1\r\n        stockInfo = {\r\n          'dateRegion1': utils.dateFormat(new Date(yearAgo, 0, 1)),\r\n          'dateRegion2': utils.dateFormat(new Date(yearAgo, 11, 31)),\r\n          'saleStatus': saleStatus,\r\n          'stockStatus': stockStatus\r\n        };\r\n      } else if (region === 'thisYear') {\r\n        const yearAgo = new Date().getFullYear()\r\n        stockInfo = {\r\n          'dateRegion1': utils.dateFormat(new Date(yearAgo, 0, 1)),\r\n          'dateRegion2': utils.dateFormat(new Date(yearAgo, 11, 31)),\r\n          'saleStatus': saleStatus,\r\n          'stockStatus': stockStatus\r\n        };\r\n      } else {\r\n        date.setDate(date.getDate() - region);\r\n        stockInfo = {\r\n          'dateRegion1': utils.dateFormat(date),\r\n          'dateRegion2': utils.dateFormat(new Date()),\r\n          'saleStatus': saleStatus,\r\n          'stockStatus': stockStatus\r\n        };\r\n      }\r\n      return this.props && this.props.callback(stockInfo);\r\n    } else {\r\n      if (dateRegion1 && dateRegion2 && saleStatus && stockStatus) {\r\n        stockInfo = {\r\n          'dateRegion1': dateRegion1,\r\n          'dateRegion2': dateRegion2,\r\n          'saleStatus': saleStatus,\r\n          'stockStatus': stockStatus\r\n        };\r\n        this.props && this.props.callback(stockInfo);\r\n        this.setState({\r\n          'date': '',\r\n          'name': '',\r\n          'number': '',\r\n          'price': '',\r\n          'sheet': ''\r\n        })\r\n      } else {\r\n        return alert('不許有任何一個為空');\r\n      }\r\n    }\r\n  };\r\n\r\n  handleStartDateChange = (date) => this.setState({startStandardDate:date, dateRegion1: date});\r\n\r\n  handleEndDateChange = (date) => this.setState({endStandardDate:date, dateRegion2: date});\r\n\r\n  getSaleOptions = (e) => this.setState({saleStatus: e.target.value});\r\n\r\n  getStockOptions = (e) => this.setState({stockStatus: e.target.value});\r\n\r\n  getStyleOfButton = () =>{\r\n    if(browserUtils.isMobile()) {\r\n      return {\r\n        margin: '3px 0px',\r\n        paddingRight: '0px',\r\n        paddingLeft: '0px'\r\n      }\r\n    }else{\r\n      return {\r\n        margin: '3px 5px',\r\n        paddingRight: '0px',\r\n        paddingLeft: '0px'\r\n      }\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const {startStandardDate, endStandardDate} = this.state;\r\n    const isMobile = browserUtils.isMobile();\r\n    return (\r\n      <div>\r\n          <div className=\"form-row\" style={{margin:'5px', overflowY: isMobile ? 'scroll' : 'unset'}}>\r\n            <div style={{width:'100%', textAlign: 'left'}}>\r\n            <button type=\"button\" className=\"btn btn-info from-group col-md-2\" onClick={this.props.resetCallBack}>顯示全部 Stock </button>\r\n            <button type=\"button\"  className={\"btn btn-group btn-group-toggle\" + (isMobile ? ' from-group col-md-6' : ' from-group' +\r\n              ' col-md-2')} data-toggle=\"buttons\" style={{margin: '0px 10px', zIndex: 0, ...this.getStyleOfButton()}}>\r\n              <label className=\"btn btn-secondary active\" onClick={this.getSaleOptions}>\r\n                <input type=\"radio\" name=\"saleOption\" id=\"saleOption1\" value='all' autoComplete=\"off\" /> 全部\r\n              </label>\r\n              <label className=\"btn btn-secondary\" onClick={this.getSaleOptions}>\r\n                <input type=\"radio\" name=\"saleOption\" id=\"saleOption2\" value='sale' autoComplete=\"off\" /> 已賣出\r\n              </label>\r\n              <label className=\"btn btn-secondary\" onClick={this.getSaleOptions}>\r\n                <input type=\"radio\" name=\"saleOption\" id=\"saleOption3\" value='unsale'  autoComplete=\"off\" /> 未賣出\r\n              </label>\r\n            </button>\r\n            <div className=\"btn-group\" role=\"group\" aria-label=\"Basic outlined example\" style={{width : isMobile ? 'inherit' :'unset'}}>\r\n              <button type=\"button\" className=\"btn btn-outline-primary\" onClick={()=>this.queryRegion(0)} >Today</button>\r\n              <button type=\"button\" className=\"btn btn-outline-primary\"onClick={()=>this.queryRegion(7)}>前 7 日</button>\r\n              <button type=\"button\" className=\"btn btn-outline-primary\"onClick={()=>this.queryRegion(30)}>前 30 日</button>\r\n              <button type=\"button\" className=\"btn btn-outline-primary\"onClick={()=>this.queryRegion(120)}>前三月</button>\r\n              <button type=\"button\" className=\"btn btn-outline-primary\"onClick={()=>this.queryRegion('yearAgo')}>去年</button>\r\n              <button type=\"button\" className=\"btn btn-outline-primary\"onClick={()=>this.queryRegion('thisYear')}>今年</button>\r\n            </div>\r\n          </div>\r\n            <div style={{width:'100%', textAlign: 'initial'}}>\r\n            <div style={{margin:'5px', float: 'left', display: 'flex', alignItems: 'center', width: browserUtils.isMobile() ? '100%' : 'auto'}}>\r\n                <div>起始區間:</div>\r\n                <div className=\"col\">\r\n                  <input type=\"date\" className=\"form-control\" placeholder=\"日期\" onChange={(c) => this.handleStartDateChange(c.target.value)} value={startStandardDate}/>\r\n                </div>\r\n            </div>\r\n            <div style={{margin:'5px', float: 'left', display: 'flex', alignItems: 'center', width: browserUtils.isMobile() ? '100%' : 'auto'}}>\r\n                <div>結束區間:</div>\r\n                <div className=\"col\">\r\n                  <input type=\"date\" className=\"form-control\" placeholder=\"日期\" onChange={(c) => this.handleEndDateChange(c.target.value)} value={endStandardDate}/>\r\n                </div>\r\n              </div>\r\n            <div className=\"btn-group btn-group-toggle from-group col-md-3\" data-toggle=\"buttons\" style={{margin: '0px 10px', zIndex: 0, ...this.getStyleOfButton()}}>\r\n              <label className=\"btn btn-warning active\" onClick={this.getStockOptions} >\r\n                <input type=\"radio\" name=\"stockOption\" id=\"individual\" value='individual' autoComplete=\"off\" /> 個別股\r\n              </label>\r\n              {/*<label className=\"btn btn-warning\" onClick={this.getStockOptions} >*/}\r\n              {/*  <input type=\"radio\" name=\"stockOption\" id=\"mutual\" value='mutual' autoComplete=\"off\" /> 共同股*/}\r\n              {/*</label>*/}\r\n            </div>\r\n            <div className={\"btn btn-primary \"+ (isMobile ? ' from-group col-md-3' : ' from-group col-md-1') } type=\"submit\" style={{margin: '0px 0px'}} onClick={()=>this.queryRegion('')}>查詢送出</div>\r\n          </div>\r\n          </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\nimport Stock from './stock';\r\nimport InputRegion from \"../inputRegion\";\r\nimport browserUtils from \"../../utils/browserUtils\";\r\nconst initialState = {\r\n  allData:[],\r\n  allStocks:\"\",\r\n  isQueryOpen: false\r\n};\r\n\r\nexport default class Stocks extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = initialState;\r\n  }\r\n\r\n  componentDidMount() {\r\n    const allStocks = this.props;\r\n    if (allStocks) {\r\n      this.setState({allStocks: allStocks})\r\n    }\r\n  }\r\n\r\n  queryData = (stockInfo) => this.props.queryDataCallback(stockInfo);\r\n\r\n  isQueryOpen = status => this.setState({isQueryOpen:status});\r\n\r\n  getQueryStatus = () =>{\r\n    if(!browserUtils.isMobile()){\r\n      return true\r\n    }else{\r\n      return this.state.isQueryOpen;\r\n    }\r\n  };\r\n\r\n\r\n  render() {\r\n    const {allStocks, deleteCallback, queryDataCallback, saleStockCallback, resetCallBack, hideFiled, saleStatus, route}= this.props;\r\n    const {isQueryOpen}= this.state;\r\n    const isMobile = browserUtils.isMobile();\r\n    const isShowQueryOption = route === 'Taiwan_history';\r\n    return (\r\n      <div>\r\n        {isShowQueryOption && !isQueryOpen && isMobile && <button style={{borderRadius: '0px'}} className=\"btn btn-success from-group col-md-2\" type=\"submit\" onClick={() => this.isQueryOpen(true)}>查詢時區</button>}\r\n        {isShowQueryOption && isQueryOpen && isMobile && <button style={{borderRadius: '0px'}} className=\"btn btn-secondary from-group col-md-2\" type=\"submit\" onClick={() => this.isQueryOpen(false)}>隱藏</button>}\r\n        {isShowQueryOption && this.getQueryStatus() && <InputRegion callback={queryDataCallback} resetCallBack={resetCallBack}/>}\r\n        <div style={{overflowY: browserUtils.isMobile() ? 'scroll' : 'unset'}}>\r\n        <table className=\"table table-dark\">\r\n          <thead>\r\n          <tr>\r\n            <th scope=\"col\">#</th>\r\n            {!hideFiled && <th scope=\"col\">賣出</th>}\r\n            { saleStatus !== 'all' &&((saleStatus === 'sale') ? <th scope=\"col\">賣出日期</th> : <th scope=\"col\">購買日期</th> )}\r\n            {(saleStatus === 'all' && route !== 'Taiwan_account') && <th scope=\"col\">賣出日期</th>}\r\n            { saleStatus === 'all'  && <th scope=\"col\">購買日期</th>}\r\n            <th scope=\"col\">股票名稱</th>\r\n            <th scope=\"col\">編號</th>\r\n            <th scope=\"col\">平均單價</th>\r\n            <th scope=\"col\">張數</th>\r\n            <th scope=\"col\">手續費</th>\r\n            <th scope=\"col\">購買成本</th>\r\n            <th scope=\"col\">狀態</th>\r\n            <th scope=\"col\">賣出總價</th>\r\n            <th scope=\"col\">損益</th>\r\n            <th scope=\"col\">刪除</th>\r\n          </tr>\r\n          </thead>\r\n          <tbody>\r\n          {\r\n            (allStocks.length !== 0) && allStocks.map((stock, index) => (\r\n            <Stock hideFiled={hideFiled} saleStatus={saleStatus} key={stock.number+index} stock={stock} index={index+1} route={route} stockSaleCallback = {saleStockCallback} delete={index => deleteCallback(index)}/>\r\n            ))\r\n          }\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\n\r\nconst initialState = {\r\n};\r\n\r\nexport default class Usstock extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = initialState;\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  updateStockStatus = () => {\r\n    const {stock} = this.props;\r\n    const salePrice = parseFloat(this.price.value);\r\n    if((stock.sheet < this.sheet.value) || isNaN(salePrice) || !salePrice )\r\n      alert('賣出張數錯誤');\r\n    else{\r\n      this.props.stockSaleCallback(this.price.value,this.sheet.value,stock);\r\n      this.price.value = '';\r\n      this.sheet.value = '';\r\n    }\r\n  };\r\n\r\n  deleteStock = () => {\r\n    const {stock} = this.props;\r\n    this.props.delete(stock.timestamp);\r\n  };\r\n\r\n  render() {\r\n    const {stock, saleStatus, index} = this.props;\r\n    const averagePrice = stock.price;\r\n    return (\r\n        <tr>\r\n          <th scope=\"row\">{index}</th>\r\n          {!this.props.hideFiled && <td key={index}>\r\n            <button type=\"button\" className=\"btn btn-info\" data-toggle=\"modal\" data-target={`#modal-${index}`}>賣出</button>\r\n            <div>\r\n              <div className=\"modal fade\" id={`modal-${index}`} tabIndex=\"-1\" role=\"dialog\"\r\n                   aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n                <div className=\"modal-dialog\" role=\"document\">\r\n                  <div className=\"modal-content\">\r\n                    <div className=\"modal-header\">\r\n                      <h5 className=\"modal-title\" style={{color:'black'}} id=\"exampleModalLabel\">賣出資訊</h5>\r\n                      <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                        <span aria-hidden=\"true\">&times;</span>\r\n                      </button>\r\n                    </div>\r\n                    <div className=\"modal-body\">\r\n                      <div className=\"form-group\">\r\n                        <h5 style={{ color: 'black', textAlign: 'left'}} key={'price' + index} htmlFor={`price-name-${index}`} className=\"col-form-label\">賣出單價:</h5>\r\n                        <input type=\"text\" className=\"form-control\"  id={`price-name-${index}`} ref={(input) => { this.price = input; }} />\r\n                      </div>\r\n                      <div className=\"form-group\">\r\n                        <h5 style={{ color: 'black', textAlign: 'left'}} key={'sheet' + index} htmlFor={`sheet-name-${index}`} className=\"col-form-label\">賣出張數:</h5>\r\n                        <input type=\"text\" className=\"form-control\" id={`sheet-name-${index}`}  ref={(input) => { this.sheet = input; }}/>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"modal-footer\">\r\n                      <button type=\"button\" className=\"btn btn-primary\"  data-dismiss=\"modal\" aria-label=\"Close\"onClick={ this.updateStockStatus}>確認{stock.name}</button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </td>}\r\n          { (saleStatus === 'US_all') && (stock.status === 'sale' ? <td>{stock.sale_date}</td> : <td></td>)}\r\n          { (saleStatus === 'US_all') && (stock.status === 'unsale' ? <td>{stock.date}</td>: <td>{stock.date}</td>)}\r\n          <td>{stock.name}</td>\r\n          <td>{stock.number}</td>\r\n          <td>{averagePrice}</td>\r\n          <td>{stock.sheet}</td>\r\n          <td>{stock.cost}</td>\r\n          <td>{stock.status === \"unsale\" ? '未賣出' : '已賣出'}</td>\r\n          <td>{stock.sale_cost}</td>\r\n          <td style={{ 'color': stock.income < 0 ? '#30ff30' : 'rgb(255 19 19)'}}>{stock.income}</td>\r\n          <td>\r\n            <button type=\"button\" className=\"btn btn-danger\" onClick={this.deleteStock}>刪除</button>\r\n          </td>\r\n        </tr>\r\n    )\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\nimport Stock from './stock';\r\n// import InputRegion from \"../inputRegion\";\r\nimport browserUtils from \"../../utils/browserUtils\";\r\nimport InputRegion from \"../inputRegion\";\r\nconst initialState = {\r\n  allData:[],\r\n  allStocks:\"\",\r\n  isQueryOpen: false\r\n};\r\n\r\nexport default class Usstocks extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = initialState;\r\n  }\r\n\r\n  componentDidMount() {\r\n    const allStocks = this.props;\r\n    if (allStocks) {\r\n      this.setState({allStocks: allStocks})\r\n    }\r\n  }\r\n\r\n  queryData = (stockInfo) => this.props.queryDataCallback(stockInfo);\r\n\r\n  isQueryOpen = status => this.setState({isQueryOpen:status});\r\n\r\n  getQueryStatus = () =>{\r\n    if(!browserUtils.isMobile()){\r\n      return true\r\n    }else{\r\n      return this.state.isQueryOpen;\r\n    }\r\n  };\r\n\r\n\r\n  render() {\r\n    const {allStocks, deleteCallback, UsInfo, hideFiled, saleStatus, route, saleStockCallback, queryDataCallback, resetCallBack}= this.props;\r\n    const {isQueryOpen}= this.state;\r\n    const isMobile = browserUtils.isMobile();\r\n    return (\r\n      <div>\r\n        {route === 'US_account' && !isQueryOpen && isMobile && <button style={{borderRadius: '0px',}} className=\"btn btn-success from-group col-md-2\" type=\"submit\" onClick={() => this.isQueryOpen(true)}>查詢時區</button>}\r\n        {route === 'US_account' && isQueryOpen && isMobile && <button style={{borderRadius: '0px'}} className=\"btn btn-secondary from-group col-md-2\" type=\"submit\" onClick={() => this.isQueryOpen(false)}>隱藏</button>}\r\n        {route === 'US_account' && this.getQueryStatus() && <InputRegion callback={queryDataCallback} resetCallBack={resetCallBack}/>}\r\n        <div style={{overflowY: browserUtils.isMobile() ? 'scroll' : 'unset'}}>\r\n        <table className=\"table table-dark\">\r\n          <thead>\r\n          <tr>\r\n            <th scope=\"col\">#</th>\r\n            {!hideFiled && <th scope=\"col\">賣出</th>}\r\n            { saleStatus === 'US_all' && <th scope=\"col\">賣出日期</th>}\r\n            { saleStatus === 'US_all'  && <th scope=\"col\">購買日期</th>}\r\n            <th scope=\"col\">股票名稱</th>\r\n            <th scope=\"col\">代號</th>\r\n            <th scope=\"col\">單價</th>\r\n            <th scope=\"col\">股數</th>\r\n            <th scope=\"col\">購買成本</th>\r\n            <th scope=\"col\">狀態</th>\r\n            <th scope=\"col\">賣出總價</th>\r\n            <th scope=\"col\">損益</th>\r\n            <th scope=\"col\">刪除</th>\r\n          </tr>\r\n          </thead>\r\n          <tbody>\r\n          {\r\n            (allStocks.length !== 0) && allStocks.map((stock, index) => (\r\n            <Stock hideFiled={hideFiled} UsInfo={UsInfo} saleStatus={saleStatus} key={stock.number+index} stock={stock} index={index+1} route={route}  stockSaleCallback = {saleStockCallback} delete={index => deleteCallback(index)}/>\r\n            ))\r\n          }\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\n\r\nimport './App.css';\r\nimport './index.css';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport 'bootstrap/dist/js/bootstrap.bundle.js';\r\nimport Account from './component/account/account';\r\nimport Navbar from './component/navbar/navbar';\r\nimport Input from './component/input';\r\nimport Stocks from './component/stock/stocks';\r\nimport Usstocks from './component/usstock/stocks';\r\nimport browserUtils from \"./utils/browserUtils\";\r\nimport api from './api/api'\r\n\r\nconst initialState = {\r\n  inputData: [],\r\n  unSaleStocks: [],\r\n  saleStocks: [],\r\n  allStocks: [],\r\n  showStocks: [],\r\n  totalCost: 0,\r\n  route: 'Taiwan_account',\r\n  profitAndLoss: 0,\r\n  profit: 0,\r\n  saleCost: 0,\r\n  saleIsOpen: false,\r\n  saleStatus: 'all',\r\n  lastYearROI: 0\r\n};\r\n\r\nexport default class App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = initialState;\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.updateAllData(this.props.route);\r\n  }\r\n\r\n  updateAllData = route => {\r\n    if(route === \"US_account\") {\r\n      api.getAllData(route).then((stockData) => {\r\n          this.setState({\r\n            lastYearROI: stockData.lastYearROI,\r\n            saleStatus: 'US_all',\r\n            showStocks: stockData.showStocks,\r\n            allStocks: stockData.allStocks,\r\n            saleStocks: stockData.saleStocks,\r\n            unSaleStocks: stockData.unSaleStocks,\r\n            totalCost: stockData.totalCost,\r\n            profitAndLoss: stockData.profitAndLoss,\r\n            saleCost: stockData.saleCost,\r\n            profit: Math.floor(stockData.profitAndLoss / stockData.saleCost * 100)\r\n          })\r\n        }\r\n      );\r\n    }else{\r\n      api.getAllData(route).then((stockData) => {\r\n          this.setState({\r\n            lastYearROI: stockData.lastYearROI,\r\n            saleStatus: 'all',\r\n            showStocks: stockData.showStocks,\r\n            allStocks: stockData.allStocks,\r\n            saleStocks: stockData.saleStocks,\r\n            unSaleStocks: stockData.unSaleStocks,\r\n            totalCost: stockData.totalCost,\r\n            profitAndLoss: stockData.profitAndLoss,\r\n            saleCost: stockData.saleCost,\r\n            profit: Math.floor(stockData.profitAndLoss / stockData.saleCost * 100)\r\n          })\r\n        }\r\n      );\r\n    }\r\n  };\r\n\r\n  inputData = data => {\r\n    let self = this;\r\n    const {route} = this.state;\r\n    api.insertNewData(data).then(() => {\r\n      self.updateAllData(route)\r\n    });\r\n  };\r\n\r\n  deleteStock = (timestamp) => {\r\n    const {route} = this.state;\r\n    api.deleteStock(timestamp).then(() =>\r\n      this.updateAllData(route)\r\n    )\r\n  };\r\n\r\n  saleStock = (salePrice, saleSheet, stock) => {\r\n    const {route} = this.state;\r\n    api.updateStock(salePrice, saleSheet, stock, route).then(() => {\r\n        const stockInfo ={'price':salePrice, 'sheet':saleSheet, 'cost': stock.cost};\r\n        api.updateAccountRecord(stockInfo, false, route);\r\n        this.updateAllData(route)\r\n      }\r\n    )\r\n  };\r\n\r\n  changeRoute = (route) => {\r\n    this.setState({route: route});\r\n    this.updateAllData(route);\r\n  };\r\n\r\n  updateQueryData = (stockInfo) => {\r\n    const {allStocks, unSaleStocks, saleStocks} = this.state;\r\n    const startRegion = stockInfo.dateRegion1;\r\n    const endRegion = stockInfo.dateRegion2;\r\n\r\n    let profit = 0;\r\n    let saleCost = 0;\r\n    let profitAndLoss = 0;\r\n    let result = '';\r\n\r\n    this.setState({saleStatus: stockInfo.saleStatus});\r\n    if (stockInfo.stockStatus === 'individual') {\r\n      switch (stockInfo.saleStatus) {\r\n        case 'all':\r\n          result = allStocks.filter(a => (startRegion <= a.sale_date && a.sale_date <= endRegion));\r\n          break;\r\n        case 'sale':\r\n          result = saleStocks.filter(a => startRegion <= a.sale_date && a.sale_date <= endRegion);\r\n          break;\r\n        case 'unsale':\r\n          result = unSaleStocks.filter(a => startRegion <= a.date && a.date <= endRegion);\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n        for (let item in result) {\r\n        profitAndLoss += result[item].income;\r\n        saleCost += result[item].cost;\r\n      }\r\n      profit = Math.floor(profitAndLoss / saleCost * 100);\r\n      this.setState({showStocks: result, profit: profit, saleCost: saleCost, profitAndLoss: profitAndLoss});\r\n    } else if (stockInfo.stockStatus === 'mutual') {\r\n    }\r\n  };\r\n  reset = () => this.updateAllData(this.state.route);\r\n\r\n  saleIsOpen = () => this.setState({saleIsOpen: !this.state.saleIsOpen});\r\n\r\n  getSaleIsStatus = () => {\r\n    if (!browserUtils.isMobile()) {\r\n      return true\r\n    } else {\r\n      return this.state.saleIsOpen;\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const inputData = this.state.inputData;\r\n    const unSaleStocks = this.state.unSaleStocks;\r\n    const showStocks = this.state.showStocks;\r\n    const {route, lastYearROI} = this.state;\r\n    return (\r\n      <div className=\"App\" style={{\r\n        height: window.innerHeight,\r\n        margin: '0 auto',\r\n      }}>\r\n        <Navbar lastYearROI={lastYearROI} totalCost={this.state.totalCost} profitAndLoss={this.state.profitAndLoss} route={route} changeRoute={this.changeRoute} profit={this.state.profit} saleCost={this.state.saleCost}/>\r\n        {browserUtils.isMobile() && !this.state.saleIsOpen && (route === 'Taiwan_account' || route === 'US_account' ) && <button className=\"btn btn-warning from-group col-md-2 input-sale-frame\" type=\"submit\" onClick={() => this.saleIsOpen(true)}>買入</button>}\r\n        {browserUtils.isMobile() && this.state.saleIsOpen && (route === 'Taiwan_account' || route === 'US_account' ) && <button className=\"btn btn-secondary from-group col-md-2 input-sale-frame\" type=\"submit\" onClick={() => this.saleIsOpen(false)}>隱藏</button>}\r\n        {this.getSaleIsStatus() && (route === 'Taiwan_account' || route === 'US_account' ) && <Input callback={this.inputData} route={route}/>}\r\n        {route === 'Taiwan_account' && <Stocks hideFiled={false} saleStatus={this.state.saleStatus} inputData={inputData} allStocks={unSaleStocks} deleteCallback={this.deleteStock} saleStockCallback={this.saleStock} route={route}/>}\r\n        {route === 'Taiwan_history' && <Stocks hideFiled={true} saleStatus={this.state.saleStatus} inputData={inputData} allStocks={showStocks} deleteCallback={this.deleteStock} saleStockCallback={this.saleStock} route={route} queryDataCallback={this.updateQueryData} resetCallBack={this.reset}/>}\r\n        {route === 'US_account' && <Usstocks hideFiled={false} saleStatus={'US_all'} route={route} allStocks={showStocks} saleStockCallback={this.saleStock}  deleteCallback={this.deleteStock} queryDataCallback={this.updateQueryData} resetCallBack={this.reset} />}\r\n        {route === 'account' && <Account route={route}/>}\r\n\r\n      </div>\r\n    )\r\n  }\r\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}