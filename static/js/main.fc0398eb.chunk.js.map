{"version":3,"sources":["assets/img/logo.png","assets/img/loading.gif","api/api.js","component/account/record.jsx","utils/browserUtils.js","utils/dateFormat.js","component/settings/settings.js","component/account/AccountTransfer.jsx","component/account/account.jsx","component/navbar/style.js","component/navbar/navbar.jsx","component/input.jsx","component/stock/stock.jsx","component/inputRegion.jsx","component/stock/stocks.jsx","component/usstock/stock.jsx","component/usstock/stocks.jsx","component/login/styles.js","component/login/login.jsx","custom/YearColumnChart/index.js","custom/DulaColumnChart/index.js","component/twChart/index.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","stockData","initialState","Record","props","state","this","record","index","scope","account_record_Money","account_record_Stock","transfer","transferStatus","transferTime","source","Component","utils","isMobile","a","check","navigator","userAgent","vendor","window","opera","test","substr","daysOfMonth","dateFormat","date","getFullYear","getMonth","slice","getDate","toDualDigit","day","days","y","m","console","log","user_id","country","firebase","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","api","getAllData","getDataRef","ref","settings","once","then","snapshot","items","forEach","element","unshift","val","stocks","sort","b","unSaleStocks","filter","status","saleStocks","sale_date","item","total","profitAndLoss","saleCost","cost","income","getLastYearROI","lastYearROI","showStocks","allStocks","totalCost","profit","Math","floor","insertNewData","data","route","timestamp","Date","now","price","sheet","US_cost","child","toString","set","name","number","sale_cost","sale_price","sale_sheet","catch","err","error","deleteStock","remove","updateStock","salePrice","saleSheet","stock","isDayTrading","d","round","US_income","US_sale_cost","update","getAccount","accountData","getAccountRef","getAccountRecord","accountRecord","tradeForAccount","transferInfo","whichAccount","transfer_price","getRefOfAccount","getRefOfAccountRecord","parseInt","parseFloat","money","accountMoney","accountStock","summary","toFixed","updateAccountRecord","stockInfo","sale","transfer_date","accountInfo","lastYearStartDate","lastYearEndDate","thisYearStartDate","thisYearEndDate","lastYearItems","thisYearItems","incomeOfLastYear","incomeOfThisYear","inAccountOfThisYear","accountRecords","thisYearAccountRecords","ROI","AccountTransfer","inputSource","setState","submitTrade","isNaN","alert","self","callback","getStyleOfButton","browserUtils","margin","handleChange","getTransferOptions","e","target","value","style","className","type","placeholder","onChange","c","data-toggle","onClick","id","autoComplete","borderRadius","acTime","acMoney","acStock","acSummary","records","usRecords","isAssetTransfer","Account","updateAccount","accountTime","selectAccount","account","role","width","href","aria-controls","aria-selected","aria-labelledby","map","ket","logOutButton","backgroundColor","color","padding","fontSize","logOutButtonMobile","report","display","alignItems","reportMobile","reportFormat","reportFormatMobile","justifyContent","Navbar","getActiveStyle","marginTop","background","cursor","getComputeStyleForMobile","flexBasis","flexGrow","fontWeight","changeRoute","logOutCallBack","data-target","aria-expanded","aria-label","styles","Input","inputDate","inputName","inputNumber","inputPrice","inputSheet","submitStock","datePickerDate","Stock","updateStockStatus","stockSaleCallback","delete","saleStatus","averagePrice","handlingFee","hideFiled","key","tabIndex","aria-hidden","data-dismiss","textAlign","htmlFor","input","InputRegion","queryRegion","region","dateRegion1","dateRegion2","stockStatus","startDate","endDate","yearAgo","setDate","handleStartDateChange","startStandardDate","handleEndDateChange","endStandardDate","getSaleOptions","getStockOptions","paddingRight","paddingLeft","whiteSpace","overflowY","resetCallBack","zIndex","float","allData","isQueryOpen","Stocks","queryData","queryDataCallback","getQueryStatus","deleteCallback","saleStockCallback","isShowQueryOption","length","Usstock","wrapper","flexDirection","minHeight","position","frameContent","WebkitBorderRadius","maxWidth","WebkitBoxShadow","boxShadow","border","top","logIn","height","backgroundSize","register","logo","inputContent","textDecoration","submit","textTransform","opacity","back","forgetPWD","marginBottom","email","resetEmail","password","isLogIn","message","isOpenForgetPWD","Login","loginSubmitWithKeydown","getStatusMethod","actionForSubmit","logInSelect","logInSubmit","registerSubmit","logInCallBack","homePageCallBack","setTimeout","signInWithEmailAndPassword","result","user","currentUser","localStorage","setItem","uid","pwd","createUserWithEmailAndPassword","u","exist","setEmail","setPassword","openForgetPWD","closeForgetPWD","resetPWD","sendPasswordResetEmail","setResetEmail","document","removeEventListener","keyCode","bind","addEventListener","backgroundImage","require","Radium","SummaryInfo","styled","ChartTitle","ChartValue","ColumnChart","chartInfo","dividend","useState","yearDividend","setYearDividend","chartComponentRef","useRef","HighchartsReact","RefObject","options","chart","title","text","xAxis","categories","yearCategories","lineWidth","yAxis","labels","format","Highcharts","getOptions","colors","series","yearValue","tooltip","valueSuffix","useEffect","JSON","stringify","_yearDividend","year","push","reduce","allStockDividend","Number","Object","keys","previousValue","currentValue","highcharts","usRef","Container","DropDownContainer","StyledDiv","DualColumnChart","selectTimeRange","setSelectTimeRange","label","selectList","setSelectList","rate","info","setInfo","monthValue","RegExp","monthRate","list","concat","alignTicks","linkedTo","enabled","offset","softMax","max","softMin","min","gridLineWidth","opposite","getSummary","TextField","select","sx","option","MenuItem","TwChart","setChartInfo","setDividend","handleDateData","it","firstDateYear","substring","firstDateMonth","lastDateYear","lastDateMonth","dateArray","month","valueArray","ROIArray","balance","costSummary","getValue","yearArray","getYearDate","getYearValue","dividendInfo","isDividend","fetchData","Grid","container","xs","md","YearColumnChart","inputData","saleIsOpen","logInStatus","loading","App","updateAllData","saleStock","loginRecord","getItem","closeLoginPage","logOut","removeItem","updateQueryData","startRegion","endRegion","reset","getSaleIsStatus","innerHeight","left","alt","src","Boolean","location","hostname","match","ReactDOM","render","StrictMode","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.fc0398eb.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.e27c8735.png\";","module.exports = __webpack_public_path__ + \"static/media/loading.a57e7c9a.gif\";","// Firebase App (the core Firebase SDK) is always required and must be listed first\r\nimport * as firebase from \"firebase/app\";\r\n// If you enabled Analytics in your project, add the Firebase SDK for Analytics\r\nimport \"firebase/analytics\";\r\nimport \"firebase/database\";\r\n// Add the Firebase products that you want to use\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\nimport d from \"../utils/dateFormat\";\r\nimport settings from './../component/settings/settings'\r\n\r\nconst fireBaseConfig= {\r\n  apiKey: process.env.REACT_APP_APP_KEY,\r\n  authDomain:process.env.REACT_APP_AUTHDOMAIN,\r\n  databaseURL:process.env.REACT_APP_DATABSEURL,\r\n  projectId:process.env.REACT_APP_PROJECTID,\r\n  storageBucket: process.env.REACT_APP_STORAGEBUCKET,\r\n  messagingSenderId: process.env.REACT_APP_MESSAGEINGSENDERID,\r\n  appId:　process.env.REACT_APP_APPID,\r\n  measurementId: process.env.REACT_APP_MEASUREMENTID\r\n};\r\n\r\nfirebase.initializeApp(fireBaseConfig);\r\nfirebase.analytics();\r\n// get database refer\r\n// var getDataRef = firebase.database().ref(`/account_data/${settings.user_id}/${settings.country}/stockInfo` );\r\n// var getUSDataRef = firebase.database().ref(`/account_data/${settings.user_id}/${settings.country}/stockInfo` );\r\n//\r\n// var getAccountRef = firebase.database().ref(`/account_data/${settings.user_id}/${settings.country}/account_record` );\r\n// var getAccountRecordRef = firebase.database().ref(`/accountRecord` );\r\n// var getUSAccountRecordRef = firebase.database().ref(`/us_accountRecord` );\r\n// var getUSAccountRef = firebase.database().ref(`/us_account` );\r\nvar stockData;\r\n\r\nconst api = {\r\n  async getAllData() {\r\n    let  getDataRef = firebase.database().ref(`/account_data/${settings.user_id}/${settings.country}/stock_info` );\r\n    await getDataRef.once('value').then(async (snapshot) => {\r\n\r\n      let items = [];\r\n      snapshot.forEach(element => {\r\n        items.unshift(element.val());\r\n      });\r\n      let stocks = items.sort(function (a, b) {\r\n        return a.date < b.date ? 1 : -1\r\n      });\r\n      let unSaleStocks = stocks.filter(a => a.status !== 'sale').sort(function (a, b) {\r\n        return a.date < b.date ? 1 : -1\r\n      });\r\n      let saleStocks = stocks.filter(a => a.status === 'sale').sort(function (a, b) {\r\n        return a.sale_date > b.sale_date ? 1 : -1\r\n      });\r\n\r\n      if (!!items) {\r\n        let total = 0;\r\n        let profitAndLoss = 0;\r\n        let saleCost = 0;\r\n        for (let item in items) {\r\n          total += items[item].status === \"unsale\" ? items[item].cost : 0;\r\n        }\r\n        for (let item in items) {\r\n          profitAndLoss += items[item].status === \"sale\" ? items[item].income : 0;\r\n          saleCost += items[item].status === \"sale\" ? items[item].cost : 0;\r\n        }\r\n        let lastYearROI = await this.getLastYearROI(items);\r\n        stockData = {\r\n          lastYearROI: lastYearROI,\r\n          showStocks: items,\r\n          allStocks: items,\r\n          saleStocks: saleStocks,\r\n          unSaleStocks: unSaleStocks,\r\n          totalCost: total,\r\n          profitAndLoss: profitAndLoss,\r\n          saleCost: saleCost,\r\n          profit: Math.floor(profitAndLoss / saleCost * 100)\r\n        }\r\n      }\r\n    });\r\n    return stockData;\r\n  },\r\n\r\n  async insertNewData(data, route){\r\n    let timestamp = Math.floor(Date.now() / 1000);\r\n    let cost = Math.floor(data.price * 1000 * data.sheet * 1.001425);\r\n    let US_cost = data.price * data.sheet;\r\n    let  getDataRef = firebase.database().ref(`/account_data/${settings.user_id}/${settings.country}/stock_info` );\r\n      await getDataRef.child(timestamp.toString()).set({\r\n      timestamp: timestamp,\r\n      date: data.date,\r\n      name: data.name,\r\n      number: data.number,\r\n      price: data.price,\r\n      sheet: data.sheet,\r\n      cost: route === \"US_account\" ?　US_cost : cost,\r\n      income:0,\r\n      sale_cost:0,\r\n      sale_date:0,\r\n      sale_price:0,\r\n      sale_sheet:0,\r\n      status:\"unsale\"\r\n    }).then(function () {\r\n      console.log(\"insert new stock successfully\");\r\n      // self.updateAllData();\r\n    }).catch(function (err) {\r\n      console.error(\"insert new stock failed：\", err);\r\n    });\r\n  },\r\n\r\n  async deleteStock(timestamp){\r\n    let  getDataRef = firebase.database().ref(`/account_data/${settings.user_id}/${settings.country}/stock_info` );\r\n    getDataRef.child(`${timestamp}`).remove().then(function () {\r\n      console.log(\"delete stock successfully\");\r\n    }).catch(function (err) {\r\n      console.error(\"delete failed：\", err);\r\n    });\r\n  },\r\n\r\n  async updateStock(salePrice, saleSheet, stock, route){\r\n      const isDayTrading = stock.date == d.dateFormat(new Date());\r\n      let income = Math.round(salePrice * 1000 * saleSheet) - Math.floor(salePrice * 1000 * saleSheet * 0.001425) - Math.floor(salePrice * 1000 * saleSheet * 0.003 * (isDayTrading ? 0.5 : 1)) - stock.cost;\r\n      let sale_cost = Math.round(salePrice * 1000 * saleSheet) - Math.floor(salePrice * 1000 * saleSheet * 0.001425) - Math.floor(salePrice * 1000 * saleSheet * 0.003 * (isDayTrading ? 0.5 : 1));\r\n      let US_income = salePrice * saleSheet - stock.cost;\r\n      let US_sale_cost = salePrice * saleSheet;\r\n      let sale_date = d.dateFormat(new Date());\r\n      let  getDataRef = firebase.database().ref(`/account_data/${settings.user_id}/${settings.country}/stock_info` );\r\n\r\n      await getDataRef.child(stock.timestamp).update({\r\n        income: route === 'US_account' ? US_income : income,\r\n        sale_cost: route === 'US_account' ? US_sale_cost　:　sale_cost,\r\n        sale_date: sale_date,\r\n        sale_price: salePrice,\r\n        sale_sheet: saleSheet,\r\n        status: \"sale\"\r\n      });\r\n  },\r\n\r\n  async getAccount(){\r\n    let accountData = [];\r\n    let getAccountRef = firebase.database().ref(`/account_data/${settings.user_id}/${settings.country}/account_summary` );\r\n      await getAccountRef.once('value').then((snapshot) => {\r\n        accountData = snapshot.val();\r\n    });\r\n    return accountData;\r\n  },\r\n\r\n  async getAccountRecord(){\r\n    let accountRecord = [];\r\n    let getAccountRef = firebase.database().ref(`/account_data/${settings.user_id}/${settings.country}/account_record` );\r\n    await getAccountRef.once('value').then((snapshot) => {\r\n      snapshot.forEach(element => {\r\n        accountRecord.unshift(element.val());\r\n      });\r\n    });\r\n\r\n    return accountRecord;\r\n  },\r\n\r\n  async tradeForAccount(transferInfo, whichAccount){\r\n    let accountData = [];\r\n    let transfer_price = 0;\r\n    let date = d.dateFormat(new Date());\r\n    let timestamp = Math.floor(Date.now() / 1000);\r\n    let getRefOfAccount = firebase.database().ref(`/account_data/${settings.user_id}/${settings.country}/account_summary` );\r\n    let getRefOfAccountRecord = firebase.database().ref(`/account_data/${settings.user_id}/${settings.country}/account_record` );\r\n\r\n    await getRefOfAccount.once('value').then((snapshot) => {\r\n        accountData = snapshot.val();\r\n    });\r\n    if(transferInfo.transferStatus === \"transferOut\"){\r\n      transfer_price = whichAccount === 'Taiwan_account' ? parseInt(transferInfo.price) * -1 : parseFloat(transferInfo.price) * -1;\r\n    }else{\r\n      transfer_price = whichAccount === 'Taiwan_account' ? parseInt(transferInfo.price) : parseFloat(transferInfo.price);\r\n    }\r\n    let money = ((whichAccount === 'Taiwan_account' ? parseInt(accountData.accountMoney) : parseFloat(accountData.accountMoney)) + transfer_price);\r\n    let stock = (whichAccount === 'Taiwan_account' ? parseInt(accountData.accountStock) : parseFloat(accountData.accountStock));\r\n    let summary = money + stock;\r\n\r\n    await getRefOfAccount.update({\r\n      accountMoney: money.toFixed(2),\r\n      accountStock: stock.toFixed(2),\r\n      summary: summary.toFixed(2)\r\n    });\r\n\r\n    await getRefOfAccountRecord.child(timestamp.toString()).set({\r\n      timestamp: timestamp,\r\n      account_record_Money: money.toFixed(2),\r\n      account_record_Stock: stock.toFixed(2),\r\n      source: transferInfo.source,\r\n      transfer: transferInfo.price,\r\n      transferStatus: transferInfo.transferStatus === \"transferIn\" ? '轉出': '存入',\r\n      transferTime: date,\r\n    })\r\n    return ;\r\n\r\n  },\r\n  async updateAccountRecord(stockInfo, sale, route){\r\n    let timestamp = Math.floor(Date.now() / 1000);\r\n    let transfer_date = d.dateFormat(new Date())\r\n    let accountData = [];\r\n    let getRefOfAccount = firebase.database().ref(`/account_data/${settings.user_id}/${settings.country}/account_summary` );\r\n    await getRefOfAccount.once('value').then((snapshot) => {\r\n      accountData = snapshot.val();\r\n    });\r\n    let money = 0;\r\n    let stock = 0;\r\n    let cost = 0;\r\n    let salePrice = 0;\r\n    const isDayTrading = stockInfo.date == d.dateFormat(new Date());\r\n    if(route !== \"US_account\") {\r\n      if (sale) {\r\n        salePrice = Math.round(stockInfo.price * 1000 * stockInfo.sheet) - Math.floor(stockInfo.price * 1000 * stockInfo.sheet * 0.001425) - Math.floor(stockInfo.price * 1000 * stockInfo.sheet * (isDayTrading ? 0.5 : 1) * 0.003);\r\n        money = parseInt(accountData.accountMoney) + salePrice;\r\n        stock = parseInt(accountData.accountStock) - stockInfo.cost;\r\n      } else {\r\n        cost = Math.round(stockInfo.price * 1000 * stockInfo.sheet) + Math.floor(stockInfo.price * 1000 * stockInfo.sheet * 0.001425);\r\n        money = parseInt(accountData.accountMoney) - cost;\r\n        stock = parseInt(accountData.accountStock) + cost;\r\n      }\r\n    }else{\r\n      if (sale) {\r\n        salePrice =  parseFloat(stockInfo.price) * parseFloat(stockInfo.sheet);\r\n        cost = parseFloat(stockInfo.cost);\r\n        money = parseFloat(accountData.accountMoney) + parseFloat(salePrice);\r\n        stock = parseFloat(accountData.accountStock) - cost;\r\n      } else{\r\n        cost = parseFloat(stockInfo.price) * parseFloat(stockInfo.sheet);\r\n        money = parseFloat(accountData.accountMoney) - cost;\r\n        stock =  parseFloat(accountData.accountStock) + cost;\r\n      }\r\n    }\r\n    money = parseFloat(money.toFixed(2));\r\n    stock = parseFloat(stock.toFixed(2));\r\n    await getRefOfAccount.update({\r\n      accountMoney: money,\r\n      accountStock: stock,\r\n      summary: (money + stock).toFixed(2)\r\n    });\r\n\r\n    let getRefOfAccountRecord = firebase.database().ref(`/account_data/${settings.user_id}/${settings.country}/account_record` );\r\n    await getRefOfAccountRecord.child(timestamp.toString()).set({\r\n      timestamp: timestamp,\r\n      account_record_Money: money,\r\n      account_record_Stock: stock,\r\n      source: '股票',\r\n      transfer: sale ? salePrice : cost,\r\n      transferTime: transfer_date,\r\n      transferStatus: sale ? '轉出' : '存入'\r\n    });\r\n\r\n    return ;\r\n  },\r\n\r\n  async getLastYearROI(items){\r\n    let accountInfo  = await this.getAccount();\r\n    let summary = parseInt(accountInfo.summary);\r\n    let lastYearStartDate = d.dateFormat(new Date(new Date().getFullYear() - 1,0,1));\r\n    let lastYearEndDate = d.dateFormat(new Date(new Date().getFullYear() - 1,11,31));\r\n    let thisYearStartDate = d.dateFormat(new Date(new Date().getFullYear(),0,1));\r\n    let thisYearEndDate = d.dateFormat(new Date(new Date().getFullYear(),11,31));\r\n    let lastYearItems = items.filter(a => (lastYearStartDate <= a.sale_date && a.sale_date <= lastYearEndDate));\r\n    let thisYearItems = items.filter(a => (thisYearStartDate <= a.sale_date && a.sale_date <= thisYearEndDate));\r\n    let incomeOfLastYear = 0;\r\n    let incomeOfThisYear = 0;\r\n    let inAccountOfThisYear = 0;\r\n    for (let item in lastYearItems) {\r\n      incomeOfLastYear += lastYearItems[item].income;\r\n    }\r\n    for (let item in thisYearItems) {\r\n      incomeOfThisYear += thisYearItems[item].income;\r\n    }\r\n    let accountRecords  = await this.getAccountRecord();\r\n    let thisYearAccountRecords = accountRecords.filter(a => (thisYearStartDate <= a.transferTime && a.transferTime <= thisYearEndDate));\r\n    for (let record in thisYearAccountRecords) {\r\n      inAccountOfThisYear += thisYearAccountRecords[record].source !== '股票' ? parseInt(thisYearAccountRecords[record].transfer) : 0;\r\n    }\r\n    let ROI = (incomeOfLastYear/(summary - incomeOfThisYear - inAccountOfThisYear));\r\n    return ROI.toFixed(4)\r\n  }\r\n};\r\n\r\nexport default api;","import React, {Component} from 'react';\r\n\r\nconst initialState = {\r\n};\r\n\r\nexport default class Record extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = initialState;\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  render() {\r\n    const {record, index} = this.props;\r\n    return (\r\n      <tr>\r\n        <th scope=\"row\">{index}</th>\r\n        <td>{record.account_record_Money}</td>\r\n        <td>{record.account_record_Stock}</td>\r\n        <td>{record.transfer}</td>\r\n        <td>{record.transferStatus=== '轉出' ? '轉出' : '存入'}</td>\r\n        <td>{record.transferTime}</td>\r\n        <td>{record.source}</td>\r\n      </tr>\r\n    )\r\n  }\r\n}\r\n","\r\nconst utils = {\r\n  isMobile: () => {\r\n    let check = false;\r\n    (function (a) {\r\n      if (/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(a) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\\\-(n|u)|c55\\/|capi|ccwa|cdm\\\\-|cell|chtm|cldc|cmd\\\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\\\-|_)|g1 u|g560|gene|gf\\\\-5|g\\\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\\\-(m|p|t)|hei\\\\-|hi(pt|ta)|hp( i|ip)|hs\\\\-c|ht(c(\\\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\\\-(20|go|ma)|i230|iac( |\\\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\\\-[a-w])|libw|lynx|m1\\\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\\\-2|po(ck|rt|se)|prox|psio|pt\\\\-g|qa\\\\-a|qc(07|12|21|32|60|\\\\-[2-7]|i\\\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\\\-|oo|p\\\\-)|sdk\\/|se(c(\\\\-|0|1)|47|mc|nd|ri)|sgh\\\\-|shar|sie(\\\\-|m)|sk\\\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\\\-|v\\\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\\\-|tdg\\\\-|tel(i|m)|tim\\\\-|t\\\\-mo|to(pl|sh)|ts(70|m\\\\-|m3|m5)|tx\\\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\\\-|your|zeto|zte\\\\-/i.test(a.substr(0, 4))) check = true;\r\n\r\n      if (/\\(macintosh; intel mac os x 10_15\\)/i.test(a)) {\r\n        check = true;\r\n      }\r\n    })(navigator.userAgent || navigator.vendor || window.opera);\r\n    return check;\r\n  },\r\n};\r\n\r\nexport default utils;","const daysOfMonth = [31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\r\nconst utils = {\r\n  dateFormat: date =>{\r\n    const year =  date.getFullYear();\r\n    const month = (\"0\" + (date.getMonth() + 1)).slice(-2);\r\n    const day = (\"0\" + (date.getDate())).slice(-2);\r\n    return year + '-' + month + '-' + day\r\n  },\r\n  toDualDigit : day => {\r\n    if (day < 10) return '0' + day;\r\n    return day;\r\n  },\r\n  days : (y,m) => {\r\n    console.log(y,m);\r\n    if (((((y % 4 === 0) && (y % 100 !== 0)) || ((y % 400 === 0)) )&& (m === 2))) {\r\n      return 29\r\n    }else{\r\n      return  daysOfMonth[m];\r\n    }\r\n  }\r\n};\r\n\r\nexport default utils;\r\n","export default {\r\n  user_id: '',\r\n  country: 'tw',\r\n}","import React, {Component} from 'react';\r\nimport browserUtils from \"../../utils/browserUtils\";\r\nimport api from \"../../api/api\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\n\r\nconst initialState = {\r\n  date: new Date(),\r\n  price: '',\r\n  transferStatus: 'transferIn',\r\n  source: ''\r\n};\r\n\r\nexport default class AccountTransfer extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = initialState;\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  inputSource = source => {\r\n    this.setState({\r\n      source\r\n    })\r\n  };\r\n\r\n  submitTrade = () => {\r\n    const {price, transferStatus, source} = this.state;\r\n    const {whichAccount} = this.props;\r\n    if (transferStatus && source && !isNaN(price)) {\r\n      let self = this.props;\r\n\r\n      const transferInfo = {price: price, transferStatus: transferStatus, source: source};\r\n      api.tradeForAccount(transferInfo, whichAccount).then(() => {\r\n        self.callback(whichAccount);\r\n      });\r\n      this.setState({\r\n        'price': '',\r\n        'source': ''\r\n      });\r\n    } else {\r\n      return alert('不許有任何一個為空');\r\n    }\r\n  };\r\n\r\n  getStyleOfButton = () =>{\r\n    if(browserUtils.isMobile()){\r\n      return {\r\n        margin: '4px  0px'\r\n      }\r\n    }else{\r\n      return {\r\n        margin: '0px  0px'\r\n      }\r\n    }\r\n  };\r\n\r\n  handleChange = (price) => {\r\n    this.setState({price: price});\r\n  };\r\n\r\n  getTransferOptions = (e) => this.setState({transferStatus: e.target.value});\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div style={{margin: '5px 5px'}}>\r\n        <div className=\"form-row\">\r\n          <div className=\"col\">\r\n            <input type=\"text\" className=\"form-control\" placeholder=\"金額\"\r\n                   onChange={(c) => this.handleChange(c.target.value)} value={this.state.price}/>\r\n          </div>\r\n          <div className=\"from-group col-md-2 input-sale-frame\">\r\n            <input type=\"text\" className=\"form-control\" placeholder=\"來源\"\r\n                   onChange={(c) => this.inputSource(c.target.value)} value={this.state.source}/>\r\n          </div>\r\n          <div className=\"btn-group btn-group-toggle from-group col-md-2\" data-toggle=\"buttons\"\r\n               style={{...this.getStyleOfButton()}}>\r\n            <label className=\"btn btn-warning active\" onClick={this.getTransferOptions}>\r\n              <input type=\"radio\" name=\"stockOption\" id=\"individual\" value='transferIn' autoComplete=\"off\"/> 存入\r\n            </label>\r\n            <label className=\"btn btn-warning\" onClick={this.getTransferOptions}>\r\n              <input type=\"radio\" name=\"stockOption\" id=\"mutual\" value='transferOut' autoComplete=\"off\"/> 轉出\r\n            </label>\r\n          </div>\r\n          <button style={{borderRadius: '5px', margin: 'auto 5px'}} className=\"btn btn-primary from-group col-md-2 input-sale-frame\" type=\"submit\"\r\n                  onClick={this.submitTrade}>確認送出\r\n          </button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\nimport Record from './record'\r\nimport AccountTransfer from './AccountTransfer'\r\nimport './account.css'\r\nimport api from '../../api/api'\r\nimport browserUtils from \"../../utils/browserUtils\";\r\nimport settings from \"../settings/settings\";\r\n\r\nconst initialState = {\r\n  acTime: '',\r\n  acMoney: '',\r\n  acStock: '',\r\n  acSummary: '',\r\n  records:[],\r\n  usRecords:[],\r\n  whichAccount: 'Taiwan_account',\r\n  isAssetTransfer: false\r\n};\r\n\r\nexport default class Account extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = initialState;\r\n  }\r\n\r\n  componentDidMount() {\r\n    const {whichAccount} = this.state\r\n    this.updateAccount(whichAccount);\r\n  }\r\n\r\n  updateAccount = (whichAccount = 'Taiwan_account') =>{\r\n    api.getAccount().then((data)=> {\r\n      if(whichAccount === 'Taiwan_account') {\r\n        this.setState({\r\n          acTime: data.accountTime,\r\n          acMoney: data.accountMoney,\r\n          acStock: data.accountStock,\r\n          acSummary: data.summary,\r\n        });\r\n        api.getAccountRecord().then((data)=>{\r\n          this.setState({records:data})\r\n        });\r\n      }else{\r\n        this.setState({\r\n          acTime: data.accountTime,\r\n          acMoney: data.accountMoney,\r\n          acStock: data.accountStock,\r\n          acSummary: data.summary,\r\n        });\r\n      }\r\n      api.getAccountRecord().then((data)=>{\r\n        this.setState({usRecords:data})\r\n      });\r\n      });\r\n  };\r\n  selectAccount = account => {\r\n    if(account === 'Taiwan_account')\r\n      settings.country = 'tw';\r\n    else {\r\n      settings.country = 'us';\r\n    }\r\n    this.setState({whichAccount: account, records:[], usRecords:[]}, () => this.updateAccount(account))\r\n  };\r\n\r\n  isAssetTransfer = status => this.setState({isAssetTransfer:status});\r\n\r\n  render() {\r\n    const {acTime, acMoney, acStock, acSummary, records, usRecords, whichAccount, isAssetTransfer} = this.state;\r\n    return (\r\n      <div>\r\n        <nav>\r\n          <div className=\"nav nav-tabs\" id=\"nav-tab\" role=\"tablist\">\r\n            <a className=\"nav-item nav-link active\" style={{width: '100%'}} id=\"nav-home-tab\" data-toggle=\"tab\" href=\"#nav-home\" role=\"tab\"\r\n               aria-controls=\"nav-home\" aria-selected=\"true\" onClick={() => this.selectAccount('Taiwan_account')}>台股資產</a>\r\n            {/* <a className=\"nav-item nav-link\"  style={{width: '50%'}} id=\"nav-profile-tab\" data-toggle=\"tab\" href=\"#nav-profile\" role=\"tab\"\r\n               aria-controls=\"nav-profile\" aria-selected=\"false\" onClick={() => this.selectAccount('US_account')}>美股資產</a> */}\r\n          </div>\r\n        </nav>\r\n        <div className=\"tab-content\" id=\"nav-tabContent\">\r\n          <div className=\"tab-pane fade show active\" id=\"nav-home\" role=\"tabpanel\" aria-labelledby=\"nav-home-tab\">\r\n            {browserUtils.isMobile() && !isAssetTransfer && <button className=\"btn btn-warning from-group col-md-2 input-sale-frame\" type=\"submit\" onClick={() => this.isAssetTransfer(true)}>資產轉移</button>}\r\n            {browserUtils.isMobile() && !isAssetTransfer  && <button className=\"btn btn-secondary from-group col-md-2 input-sale-frame\" type=\"submit\" onClick={() => this.isAssetTransfer(false)}>隱藏</button>}\r\n            {isAssetTransfer && <AccountTransfer whichAccount={whichAccount} callback={this.updateAccount}/>}\r\n            {!browserUtils.isMobile() && <AccountTransfer whichAccount={whichAccount} callback={this.updateAccount}/>}\r\n            <div className=\"container\">\r\n              <table className=\"table table-striped\">\r\n                <thead>\r\n                <tr>\r\n                  <th>創建時間</th>\r\n                  <th>帳戶金額</th>\r\n                  <th>股票帳戶</th>\r\n                  <th>總金額</th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                <tr>\r\n                  <td>{acTime}</td>\r\n                  <td>{acMoney}</td>\r\n                  <td>{acStock}</td>\r\n                  <td>{acSummary}</td>\r\n                </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n            <div className=\"table-responsive\">\r\n              <table className=\"table\">\r\n                <thead>\r\n                <tr>\r\n                  <th scope=\"col\">#</th>\r\n                  <th scope=\"col\">帳戶金額</th>\r\n                  <th scope=\"col\">股票金額</th>\r\n                  <th scope=\"col\">金額(含損益)</th>\r\n                  <th scope=\"col\">狀態</th>\r\n                  <th scope=\"col\">時間</th>\r\n                  <th scope=\"col\">來源</th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                {\r\n                  records&&records.map((record, index) => (\r\n                    <Record ket={index} record={record} index={index}/>\r\n                  ))\r\n                }\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n          <div className=\"tab-pane fade\" id=\"nav-profile\" role=\"tabpanel\" aria-labelledby=\"nav-profile-tab\">\r\n            {browserUtils.isMobile() && !this.state.isAssetTransfer && <button className=\"btn btn-warning from-group col-md-2 input-sale-frame\" type=\"submit\" onClick={() => this.isAssetTransfer(true)}>資產轉移</button>}\r\n            {browserUtils.isMobile() && this.state.isAssetTransfer  && <button className=\"btn btn-secondary from-group col-md-2 input-sale-frame\" type=\"submit\" onClick={() => this.isAssetTransfer(false)}>隱藏</button>}\r\n            {isAssetTransfer && <AccountTransfer whichAccount={whichAccount} callback={this.updateAccount}/>}\r\n            {!browserUtils.isMobile() && <AccountTransfer whichAccount={whichAccount} callback={this.updateAccount}/>}\r\n            <div className=\"container\">\r\n              <table className=\"table table-striped\">\r\n                <thead>\r\n                <tr>\r\n                  <th>創建時間</th>\r\n                  <th>帳戶金額($)</th>\r\n                  <th>股票帳戶($)</th>\r\n                  <th>總金額($)</th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                <tr>\r\n                  <td>{acTime}</td>\r\n                  <td>{acMoney}</td>\r\n                  <td>{acStock}</td>\r\n                  <td>{acSummary}</td>\r\n                </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n            <div className=\"table-responsive\">\r\n              <table className=\"table\">\r\n                <thead>\r\n                <tr>\r\n                  <th scope=\"col\">#</th>\r\n                  <th scope=\"col\">帳戶金額</th>\r\n                  <th scope=\"col\">股票金額</th>\r\n                  <th scope=\"col\">金額(含損益)</th>\r\n                  <th scope=\"col\">狀態</th>\r\n                  <th scope=\"col\">時間</th>\r\n                  <th scope=\"col\">來源</th>\r\n                </tr>\r\n                </thead>\r\n                <tbody>\r\n                {/* {\r\n                  usRecords && usRecords.map((record, index) => (\r\n                    <Record ket={index} record={record} index={index}/>\r\n                  ))\r\n                } */}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","export default {\r\n  logOutButton: {\r\n    backgroundColor: '#ef5959',\r\n    color: '#ffffff',\r\n    borderRadius: '5px',\r\n    padding: '5px 10px',\r\n    margin: '0px 5px',\r\n    fontSize: '18px',\r\n    ':hover': {\r\n      backgroundColor: '#ef0f0f',\r\n    }\r\n  },\r\n  logOutButtonMobile:{\r\n    backgroundColor: '#ef5959',\r\n    color: '#ffffff',\r\n    borderRadius: '5px',\r\n    padding: '5px 10px',\r\n    fontSize: '18px',\r\n    ':hover': {\r\n      backgroundColor: '#ef0f0f',\r\n    }\r\n  },\r\n  report: {\r\n    display: 'flex',\r\n    alignItems: 'center'\r\n  },\r\n  reportMobile: {\r\n    width: '100%'\r\n  },\r\n  reportFormat: {\r\n    display: 'flex',\r\n  },\r\n  reportFormatMobile: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between'\r\n  }\r\n}","import React, {Component} from 'react';\r\nimport browserUtils from '../../utils/browserUtils';\r\nimport styles from './style';\r\nexport default class Navbar extends Component {\r\n  componentDidMount() {}\r\n\r\n  getActiveStyle = () =>{\r\n    if(browserUtils.isMobile()){\r\n      return {\r\n        fontSize: '16px',\r\n        marginTop: '5px',\r\n        background:'rgb(232 232 232)',\r\n        borderRadius: '10px'\r\n      }\r\n    } else {\r\n      return {\r\n        fontSize: '16px',\r\n        cursor: 'pointer',\r\n        background: 'rgb(232 232 232)',\r\n        borderRadius: '10px'\r\n      }\r\n    }\r\n  };\r\n\r\n  getComputeStyleForMobile = () =>{\r\n    if(browserUtils.isMobile()){\r\n      return {\r\n        flexBasis: '100%',\r\n        flexGrow: '1',\r\n        alignItems: 'center',\r\n        color:'#ed2a2a',\r\n        fontSize:'16px',\r\n        fontWeight:'bold'\r\n      }\r\n    }else{\r\n      return {\r\n        color:'#ed2a2a',\r\n        fontSize:'18px',\r\n        fontWeight:'bold'\r\n      }\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const {saleCost, profitAndLoss, profit, totalCost ,route, changeRoute, logOutCallBack, lastYearROI} = this.props;\r\n    const isMobile = browserUtils.isMobile();\r\n\r\n    return (\r\n      <div>\r\n        <nav className=\"navbar navbar-expand-md navbar-light \" style={{backgroundColor: 'rgb(52 149 220)', cursor: 'pointer'}}>\r\n          <div className=\"navbar-brand\"  style={route === 'Taiwan_account' ? {...this.getActiveStyle(), padding: '5px'} : {}}　onClick={e => changeRoute('Taiwan_account')}>台灣股票</div>\r\n          <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarCollapse\"\r\n                  aria-controls=\"navbarCollapse\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n            <span className=\"navbar-toggler-icon\"></span>\r\n          </button>\r\n          <div className=\"collapse navbar-collapse\" id=\"navbarCollapse\">\r\n            <ul className=\"navbar-nav mr-auto\">\r\n              <li className={`nav-item`} data-toggle=\"collapse\" data-target=\".navbar-collapse.show\" style={route === 'Taiwan_history' ? this.getActiveStyle() : {}}>\r\n                <div className=\"nav-link\"  onClick={e => changeRoute('Taiwan_history')}>台股歷史紀錄 <span className=\"sr-only\"></span></div>\r\n              </li>\r\n              {/* <li className=\"nav-item\" data-toggle=\"collapse\" data-target=\".navbar-collapse.show\" style={route === 'US_account' ? this.getActiveStyle() : {}} >\r\n                <div className=\"nav-link\"　style={{color: '#e91e63'}} onClick={e => changeRoute('US_account')} >美股證卷</div>\r\n              </li> */}\r\n              <li className=\"nav-item\" data-toggle=\"collapse\" data-target=\".navbar-collapse.show\" style={route === 'account' ? this.getActiveStyle() : {}} >\r\n                <div className=\"nav-link\"　onClick={e => changeRoute('account')} >我的帳戶</div>\r\n              </li>\r\n              <li className=\"nav-item\" data-toggle=\"collapse\" data-target=\".navbar-collapse.show\" style={route === 'twChart' ? this.getActiveStyle() : {}} >\r\n                <div className=\"nav-link\"　onClick={e => changeRoute('twChart')} >損益圖表</div>\r\n              </li>\r\n              {isMobile &&<li className=\"nav-item\"  data-toggle=\"collapse\" data-target=\".navbar-collapse.show\" style={{marginTop: '5px'}}>\r\n                <div className=\"nav-link\"　style={styles.logOutButtonMobile} onClick={() => logOutCallBack()} >登出</div>\r\n              </li>}\r\n            </ul>\r\n          </div>\r\n          <div style={{display: 'inherit',...this.getComputeStyleForMobile()}}>\r\n          {(route === 'Taiwan_history' || route === 'US_account') && <div style={isMobile ?　styles.reportMobile : styles.report}>\r\n          <div style={isMobile ?　styles.reportFormatMobile : styles.reportFormat}><div>投入成本:</div><div>{saleCost.toFixed(2)}元</div></div>\r\n          <div style={isMobile ?　styles.reportFormatMobile : styles.reportFormat}><div>總損益:</div> <div>{profitAndLoss.toFixed(2)}元</div></div>\r\n          <div style={isMobile ?　styles.reportFormatMobile : styles.reportFormat}><div>投報率:</div> <div>{profit}%</div></div>\r\n          <div style={isMobile ?　styles.reportFormatMobile : styles.reportFormat}><div>去年投報率:</div> <div>{lastYearROI}%</div></div>\r\n          </div>}\r\n          </div>\r\n          <div style={{ padding: '5px 0px',...this.getComputeStyleForMobile()}}>\r\n            {(route === 'Taiwan_account' || route === 'US_account') && <div style={isMobile ?　styles.reportFormatMobile : styles.reportFormat}><div>目前投入總成本:</div><div> {totalCost.toFixed(2)}元</div></div>}\r\n          </div>\r\n          {!isMobile && <div style={styles.logOutButton} onClick={() => logOutCallBack()}>登出</div>}\r\n        </nav>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\nimport utils from \"./../utils/dateFormat\";\r\nimport api from './../api/api'\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport browserUtils from \"./../utils/browserUtils\";\r\n\r\nconst initialState = {\r\n  'date': new Date(),\r\n  'name': '',\r\n  'number': '',\r\n  'code_name':'',\r\n  'price': '',\r\n  'sheet': '',\r\n  'datePickerDate': new Date()\r\n};\r\n\r\nexport default class Input extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = initialState;\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({date: utils.dateFormat(new Date()), datePickerDate: utils.dateFormat(new Date())})\r\n  }\r\n\r\n  inputDate = date => {\r\n    this.setState({\r\n      date\r\n    })\r\n  };\r\n\r\n  inputName = name => {\r\n    this.setState({\r\n      name\r\n    })\r\n  };\r\n\r\n  inputNumber = number => {\r\n    this.setState({\r\n      number\r\n    })\r\n  };\r\n\r\n  inputPrice = price => {\r\n    this.setState({\r\n      price\r\n    })\r\n  };\r\n\r\n  inputSheet = sheet => {\r\n    this.setState({\r\n      sheet\r\n    })\r\n  };\r\n\r\n  submitStock = route => {\r\n    const {date, name, number, price, sheet} = this.state;\r\n    if (date && name && number && !isNaN(price) && !isNaN(sheet)) {\r\n      const stockInfo = {'date': date, 'name': name, 'number': number, 'price': price, 'sheet': sheet};\r\n      api.updateAccountRecord(stockInfo, false, route);\r\n      this.props && this.props.callback(stockInfo);\r\n      this.setState({\r\n        'name': '',\r\n        'number': '',\r\n        'price': '',\r\n        'sheet': ''\r\n      })\r\n    } else {\r\n      return alert('不許有任何一個為空');\r\n    }\r\n  };\r\n\r\n  handleChange = (date) => {\r\n    this.setState({date: date, datePickerDate: date})\r\n  };\r\n\r\n  render() {\r\n    const {datePickerDate} = this.state;\r\n    const {route} = this.props;\r\n    const isMobile = browserUtils.isMobile();\r\n    return (\r\n      <div style={{margin: isMobile ?  '5px 5px 0px 5px' : '5px'}}>\r\n        <div className=\"form-row\">\r\n          <div className=\"col-md-2\">\r\n            <input type=\"date\" className=\"form-control\" placeholder=\"日期\"\r\n                   onChange={(c) => this.handleChange(c.target.value)} value={datePickerDate}/>\r\n          </div>\r\n          <div className=\"from-group col-md-2 input-sale-info-frame\">\r\n            <input type=\"text\" className=\"form-control\" placeholder=\"股票名稱\"\r\n                   onChange={(c) => this.inputName(c.target.value)} value={this.state.name} autoComplete=\"on\"/>\r\n          </div>\r\n          <div className=\"from-group col-md-2 input-sale-info-frame\">\r\n            <input type=\"text\" className=\"form-control\" placeholder={route === 'US_account' ?  \"美股代號\" : \"編號\" }\r\n                   onChange={(c) => this.inputNumber(c.target.value)} value={this.state.number} autoComplete=\"on\"/>\r\n          </div>\r\n          <div className=\"from-group col-md-2 input-sale-info-frame\">\r\n            <input type=\"text\" className=\"form-control\" placeholder=\"單價\"\r\n                   onChange={(c) => this.inputPrice(c.target.value)} value={this.state.price} autoComplete=\"on\"/>\r\n          </div>\r\n          <div className=\"from-group col-md-2 input-sale-info-frame\">\r\n            <input type=\"text\" className=\"form-control\" placeholder={route === 'US_account' ?  \"股數\" : \"張數\" }\r\n                   onChange={(c) => this.inputSheet(c.target.value)} value={this.state.sheet} autoComplete=\"on\"/>\r\n          </div>\r\n          <button className=\"btn btn-primary from-group col-md-2 input-sale-frame\" type=\"submit\"\r\n                  onClick={() => this.submitStock(route)}>確認買入\r\n          </button>\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\n\r\nconst initialState = {\r\n};\r\n\r\nexport default class Stock extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = initialState;\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  updateStockStatus = () => {\r\n    const {stock} = this.props;\r\n    const salePrice = parseInt(this.price.value);\r\n    if((stock.sheet < this.sheet.value) || isNaN(salePrice) || !salePrice )\r\n      alert('賣出張數錯誤');\r\n    else{\r\n      this.props.stockSaleCallback(this.price.value,this.sheet.value,stock);\r\n      this.price.value = '';\r\n      this.sheet.value = '';\r\n    }\r\n  };\r\n\r\n  deleteStock = () => {\r\n    const {stock} = this.props;\r\n    this.props.delete(stock.timestamp);\r\n  };\r\n\r\n  render() {\r\n    const {stock, saleStatus, index, route} = this.props;\r\n    const averagePrice = stock.price*1.001425.toFixed(2);\r\n    const handlingFee = stock.price*1000*stock.sheet*0.001424 < 20 ? 20 : Math.round(stock.price*1000*stock.sheet*0.001424);\r\n\r\n    return (\r\n        <tr>\r\n          <th scope=\"row\">{index}</th>\r\n          {!this.props.hideFiled && <td key={index}>\r\n            <button type=\"button\" className=\"btn btn-info\" data-toggle=\"modal\" data-target={`#modal-${index}`}>賣出</button>\r\n            <div>\r\n              <div className=\"modal fade\" id={`modal-${index}`} tabIndex=\"-1\" role=\"dialog\"\r\n                   aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n                <div className=\"modal-dialog\" role=\"document\">\r\n                  <div className=\"modal-content\">\r\n                    <div className=\"modal-header\">\r\n                      <h5 className=\"modal-title\" style={{color:'black'}} id=\"exampleModalLabel\">賣出資訊</h5>\r\n                      <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                        <span aria-hidden=\"true\">&times;</span>\r\n                      </button>\r\n                    </div>\r\n                    <div className=\"modal-body\">\r\n                      <div className=\"form-group\">\r\n                        <h5 style={{ color: 'black', textAlign: 'left'}} key={'price' + index} htmlFor={`price-name-${index}`} className=\"col-form-label\">賣出單價:</h5>\r\n                        <input type=\"text\" className=\"form-control\"  id={`price-name-${index}`} ref={(input) => { this.price = input; }} />\r\n                      </div>\r\n                      <div className=\"form-group\">\r\n                        <h5 style={{ color: 'black', textAlign: 'left'}} key={'sheet' + index} htmlFor={`sheet-name-${index}`} className=\"col-form-label\">賣出張數:</h5>\r\n                        <input type=\"text\" className=\"form-control\" id={`sheet-name-${index}`}  ref={(input) => { this.sheet = input; }}/>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"modal-footer\">\r\n                      <button type=\"button\" className=\"btn btn-primary\"  data-dismiss=\"modal\" aria-label=\"Close\"onClick={ this.updateStockStatus}>確認{stock.name}</button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </td>}\r\n          {  (route ==='Taiwan_account'  && stock.status === 'sale') && <td>{stock.sale_date}</td>}\r\n          {  (route ==='Taiwan_account'  && stock.status === 'unsale')  && <td>{stock.date}</td>}\r\n          { route !=='Taiwan_account' && (saleStatus === 'all' || saleStatus === 'sale') && (stock.status === 'sale' ? <td>{stock.sale_date}</td> : <td></td>)}\r\n          { route !=='Taiwan_account' && (saleStatus === 'all' || saleStatus === 'unsale') && (stock.status === 'unsale' ? <td>{stock.date}</td>: <td>{stock.date}</td>)}\r\n          <td>{stock.name}</td>\r\n          <td>{stock.number}</td>\r\n          <td>{averagePrice}</td>\r\n          <td>{stock.sheet}</td>\r\n          <td>{Math.floor(handlingFee)}</td>\r\n          <td>{Math.floor(stock.cost)}</td>\r\n          <td>{stock.status === \"unsale\" ? '未賣出' : '已賣出'}</td>\r\n          <td>{Math.floor(stock.sale_cost)}</td>\r\n          <td style={{ 'color': stock.income < 0 ? '#30ff30' : 'rgb(255 19 19)'}}>{Math.floor(stock.income)}</td>\r\n          <td>\r\n            <button type=\"button\" className=\"btn btn-danger\" onClick={this.deleteStock}>刪除</button>\r\n          </td>\r\n        </tr>\r\n    )\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\nimport utils from \"./../utils/dateFormat\";\r\nimport browserUtils from \"./../utils/browserUtils\";\r\nimport \"./styles.css\";\r\n\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nconst initialState = {\r\n  'startStandardDate': '',\r\n  'endStandardDate': '',\r\n  'dateRegion1': '',\r\n  'dateRegion2': '',\r\n  'saleStatus': 'all',\r\n  'stockStatus': 'individual'\r\n\r\n};\r\n\r\nexport default class InputRegion extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = initialState;\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.setState({date: utils.dateFormat(new Date()),dateRegion1: utils.dateFormat(new Date()),dateRegion2: utils.dateFormat(new Date()), startStandardDate: utils.dateFormat(new Date()), endStandardDate: utils.dateFormat(new Date())})\r\n  }\r\n\r\n  queryRegion = (region = false) => {\r\n    const {dateRegion1, dateRegion2, saleStatus, stockStatus} = this.state;\r\n    let stockInfo = {};\r\n    let startDate = new Date();\r\n    let endDate = new Date();\r\n\r\n    if (region) {\r\n      if (region === 'yearAgo') {\r\n        const yearAgo = new Date().getFullYear() - 1\r\n        stockInfo = {\r\n          'dateRegion1': utils.dateFormat(new Date(yearAgo, 0, 1)),\r\n          'dateRegion2': utils.dateFormat(new Date(yearAgo, 11, 31)),\r\n          'saleStatus': saleStatus,\r\n          'stockStatus': stockStatus\r\n        };\r\n      } else if (region === 'thisYear') {\r\n        const yearAgo = new Date().getFullYear()\r\n        stockInfo = {\r\n          'dateRegion1': utils.dateFormat(new Date(yearAgo, 0, 1)),\r\n          'dateRegion2': utils.dateFormat(new Date(yearAgo, 11, 31)),\r\n          'saleStatus': saleStatus,\r\n          'stockStatus': stockStatus\r\n        };\r\n      } else {\r\n        startDate.setDate(startDate.getDate() - region);\r\n        endDate.setDate(endDate.getDate() + 1);\r\n        stockInfo = {\r\n          'dateRegion1': utils.dateFormat(startDate),\r\n          'dateRegion2': utils.dateFormat(endDate),\r\n          'saleStatus': saleStatus,\r\n          'stockStatus': stockStatus\r\n        };\r\n      }\r\n      return this.props && this.props.callback(stockInfo);\r\n    } else {\r\n      if (dateRegion1 && dateRegion2 && saleStatus && stockStatus) {\r\n        stockInfo = {\r\n          'dateRegion1': dateRegion1,\r\n          'dateRegion2': dateRegion2,\r\n          'saleStatus': saleStatus,\r\n          'stockStatus': stockStatus\r\n        };\r\n        this.props && this.props.callback(stockInfo);\r\n        this.setState({\r\n          'date': '',\r\n          'name': '',\r\n          'number': '',\r\n          'price': '',\r\n          'sheet': ''\r\n        })\r\n      } else {\r\n        return alert('不許有任何一個為空');\r\n      }\r\n    }\r\n  };\r\n\r\n  handleStartDateChange = (date) => this.setState({startStandardDate:date, dateRegion1: date});\r\n\r\n  handleEndDateChange = (date) => this.setState({endStandardDate:date, dateRegion2: date});\r\n\r\n  getSaleOptions = (e) => this.setState({saleStatus: e.target.value});\r\n\r\n  getStockOptions = (e) => this.setState({stockStatus: e.target.value});\r\n\r\n  getStyleOfButton = () =>{\r\n    if(browserUtils.isMobile()) {\r\n      return {\r\n        margin: '0px 0px',\r\n        paddingRight: '0px',\r\n        paddingLeft: '0px',\r\n        whiteSpace: 'nowrap'\r\n      }\r\n    }else{\r\n      return {\r\n        margin: '3px 5px',\r\n        paddingRight: '0px',\r\n        paddingLeft: '0px',\r\n        whiteSpace: 'nowrap'\r\n      }\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const {startStandardDate, endStandardDate} = this.state;\r\n    const isMobile = browserUtils.isMobile();\r\n    return (\r\n      <div>\r\n          <div className=\"form-row\" style={{margin:'5px', overflowY: isMobile ? 'scroll' : 'unset'}}>\r\n            <button type=\"button\" className={\"btn btn-info from-group col-md-2\" + (isMobile ? ' show-all-stock-mobile' : ' show-all-stock')}  onClick={this.props.resetCallBack}>顯示全部 Stock </button>\r\n            <button type=\"button\"  className={\"btn btn-group btn-group-toggle\" + (isMobile ? ' from-group col-md-6' : ' from-group' +\r\n              ' col-md-2')} data-toggle=\"buttons\" style={{margin: '0px 10px', zIndex: 0, ...this.getStyleOfButton()}}>\r\n              <label className=\"btn btn-secondary active\" onClick={this.getSaleOptions}>\r\n                <input type=\"radio\" name=\"saleOption\" id=\"saleOption1\" value='all' autoComplete=\"off\" /> 全部\r\n              </label>\r\n              <label className=\"btn btn-secondary\" onClick={this.getSaleOptions}>\r\n                <input type=\"radio\" name=\"saleOption\" id=\"saleOption2\" value='sale' autoComplete=\"off\" /> 已賣出\r\n              </label>\r\n              <label className=\"btn btn-secondary\" onClick={this.getSaleOptions}>\r\n                <input type=\"radio\" name=\"saleOption\" id=\"saleOption3\" value='unsale'  autoComplete=\"off\" /> 未賣出\r\n              </label>\r\n            </button>\r\n            <div className={\"btn-group\" + (isMobile ? \" query-region-group-mobile\": \" query-region-group\")}  role=\"group\" aria-label=\"Basic outlined example\" style={{width : isMobile ? 'inherit' :'unset'}}>\r\n              <button type=\"button\" className=\"btn btn-outline-primary\" onClick={()=>this.queryRegion(0)} >Today</button>\r\n              <button type=\"button\" className=\"btn btn-outline-primary\"onClick={()=>this.queryRegion(7)}>前 7 日</button>\r\n              <button type=\"button\" className=\"btn btn-outline-primary\"onClick={()=>this.queryRegion(30)}>前 30 日</button>\r\n              <button type=\"button\" className=\"btn btn-outline-primary\"onClick={()=>this.queryRegion(120)}>前三月</button>\r\n              <button type=\"button\" className=\"btn btn-outline-primary\"onClick={()=>this.queryRegion('yearAgo')}>去年</button>\r\n              <button type=\"button\" className=\"btn btn-outline-primary\"onClick={()=>this.queryRegion('thisYear')}>今年</button>\r\n            </div>\r\n            <div style={{margin:'5px', float: 'left', display: 'flex', alignItems: 'center', width: browserUtils.isMobile() ? '100%' : 'auto'}}>\r\n                <div>起始區間:</div>\r\n                <div className=\"col\">\r\n                  <input type=\"date\" className=\"form-control\" placeholder=\"日期\" onChange={(c) => this.handleStartDateChange(c.target.value)} value={startStandardDate}/>\r\n                </div>\r\n            </div>\r\n            <div style={{margin:'5px', float: 'left', display: 'flex', alignItems: 'center', width: browserUtils.isMobile() ? '100%' : 'auto'}}>\r\n                <div>結束區間:</div>\r\n                <div className=\"col\">\r\n                  <input type=\"date\" className=\"form-control\" placeholder=\"日期\" onChange={(c) => this.handleEndDateChange(c.target.value)} value={endStandardDate}/>\r\n                </div>\r\n              </div>\r\n            <div className=\"btn-group btn-group-toggle from-group col-md-3\" data-toggle=\"buttons\" style={{margin: '0px 10px', zIndex: 0, ...this.getStyleOfButton()}}>\r\n              <label className=\"btn btn-warning active\" onClick={this.getStockOptions} >\r\n                <input type=\"radio\" name=\"stockOption\" id=\"individual\" value='individual' autoComplete=\"off\" /> 個別股\r\n              </label>\r\n              {/*<label className=\"btn btn-warning\" onClick={this.getStockOptions} >*/}\r\n              {/*  <input type=\"radio\" name=\"stockOption\" id=\"mutual\" value='mutual' autoComplete=\"off\" /> 共同股*/}\r\n              {/*</label>*/}\r\n            </div>\r\n            <button className={\"btn btn-primary query-region-submit \"+ (isMobile ? ' from-group col-md-3' : ' from-group col-md-1' +\r\n              ' query-region-submit') } onClick={()=>this.queryRegion('')}>查詢送出</button>\r\n          </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\nimport Stock from './stock';\r\nimport InputRegion from \"../inputRegion\";\r\nimport browserUtils from \"../../utils/browserUtils\";\r\nconst initialState = {\r\n  allData:[],\r\n  allStocks:\"\",\r\n  isQueryOpen: false\r\n};\r\n\r\nexport default class Stocks extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = initialState;\r\n  }\r\n\r\n  componentDidMount() {\r\n    const allStocks = this.props;\r\n    if (allStocks) {\r\n      this.setState({allStocks: allStocks})\r\n    }\r\n  }\r\n\r\n  queryData = (stockInfo) => this.props.queryDataCallback(stockInfo);\r\n\r\n  isQueryOpen = status => this.setState({isQueryOpen:status});\r\n\r\n  getQueryStatus = () =>{\r\n    if(!browserUtils.isMobile()){\r\n      return true\r\n    }else{\r\n      return this.state.isQueryOpen;\r\n    }\r\n  };\r\n\r\n\r\n  render() {\r\n    const {allStocks, deleteCallback, queryDataCallback, saleStockCallback, resetCallBack, hideFiled, saleStatus, route}= this.props;\r\n    const {isQueryOpen}= this.state;\r\n    const isMobile = browserUtils.isMobile();\r\n    const isShowQueryOption = route === 'Taiwan_history';\r\n    return (\r\n      <div>\r\n        {isShowQueryOption && !isQueryOpen && isMobile && <button style={{borderRadius: '0px'}} className=\"btn btn-success from-group col-md-2\" type=\"submit\" onClick={() => this.isQueryOpen(true)}>查詢時區</button>}\r\n        {isShowQueryOption && isQueryOpen && isMobile && <button style={{borderRadius: '0px'}} className=\"btn btn-secondary from-group col-md-2\" type=\"submit\" onClick={() => this.isQueryOpen(false)}>隱藏</button>}\r\n        {isShowQueryOption && this.getQueryStatus() && <InputRegion callback={queryDataCallback} resetCallBack={resetCallBack}/>}\r\n        <div style={{overflowY: browserUtils.isMobile() ? 'scroll' : 'unset'}}>\r\n        <table className=\"table table-dark\" style={{whiteSpace: 'nowrap'}}>\r\n          <thead>\r\n          <tr>\r\n            <th scope=\"col\">#</th>\r\n            {!hideFiled && <th scope=\"col\">賣出</th>}\r\n            { saleStatus !== 'all' &&((saleStatus === 'sale') ? <th scope=\"col\">賣出日期</th> : <th scope=\"col\">購買日期</th> )}\r\n            {(saleStatus === 'all' && route !== 'Taiwan_account') && <th scope=\"col\">賣出日期</th>}\r\n            { saleStatus === 'all'  && <th scope=\"col\">購買日期</th>}\r\n            <th scope=\"col\">股票名稱</th>\r\n            <th scope=\"col\">編號</th>\r\n            <th scope=\"col\">平均單價</th>\r\n            <th scope=\"col\">張數</th>\r\n            <th scope=\"col\">手續費</th>\r\n            <th scope=\"col\">購買成本</th>\r\n            <th scope=\"col\">狀態</th>\r\n            <th scope=\"col\">賣出總價</th>\r\n            <th scope=\"col\">損益</th>\r\n            <th scope=\"col\">刪除</th>\r\n          </tr>\r\n          </thead>\r\n          <tbody>\r\n          {\r\n            (allStocks.length !== 0) && allStocks.map((stock, index) => (\r\n            <Stock hideFiled={hideFiled} saleStatus={saleStatus} key={stock.number+index} stock={stock} index={index+1} route={route} stockSaleCallback = {saleStockCallback} delete={index => deleteCallback(index)}/>\r\n            ))\r\n          }\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\n\r\nconst initialState = {\r\n};\r\n\r\nexport default class Usstock extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = initialState;\r\n  }\r\n\r\n  componentDidMount() {\r\n  }\r\n\r\n  updateStockStatus = () => {\r\n    const {stock} = this.props;\r\n    const salePrice = parseFloat(this.price.value);\r\n    if((stock.sheet < this.sheet.value) || isNaN(salePrice) || !salePrice )\r\n      alert('賣出張數錯誤');\r\n    else{\r\n      this.props.stockSaleCallback(this.price.value,this.sheet.value,stock);\r\n      this.price.value = '';\r\n      this.sheet.value = '';\r\n    }\r\n  };\r\n\r\n  deleteStock = () => {\r\n    const {stock} = this.props;\r\n    this.props.delete(stock.timestamp);\r\n  };\r\n\r\n  render() {\r\n    const {stock, saleStatus, index} = this.props;\r\n    const averagePrice = stock.price;\r\n    return (\r\n        <tr>\r\n          <th scope=\"row\">{index}</th>\r\n          {!this.props.hideFiled && <td key={index}>\r\n            <button type=\"button\" className=\"btn btn-info\" data-toggle=\"modal\" data-target={`#modal-${index}`}>賣出</button>\r\n            <div>\r\n              <div className=\"modal fade\" id={`modal-${index}`} tabIndex=\"-1\" role=\"dialog\"\r\n                   aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n                <div className=\"modal-dialog\" role=\"document\">\r\n                  <div className=\"modal-content\">\r\n                    <div className=\"modal-header\">\r\n                      <h5 className=\"modal-title\" style={{color:'black'}} id=\"exampleModalLabel\">賣出資訊</h5>\r\n                      <button type=\"button\" className=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                        <span aria-hidden=\"true\">&times;</span>\r\n                      </button>\r\n                    </div>\r\n                    <div className=\"modal-body\">\r\n                      <div className=\"form-group\">\r\n                        <h5 style={{ color: 'black', textAlign: 'left'}} key={'price' + index} htmlFor={`price-name-${index}`} className=\"col-form-label\">賣出單價:</h5>\r\n                        <input type=\"text\" className=\"form-control\"  id={`price-name-${index}`} ref={(input) => { this.price = input; }} />\r\n                      </div>\r\n                      <div className=\"form-group\">\r\n                        <h5 style={{ color: 'black', textAlign: 'left'}} key={'sheet' + index} htmlFor={`sheet-name-${index}`} className=\"col-form-label\">賣出張數:</h5>\r\n                        <input type=\"text\" className=\"form-control\" id={`sheet-name-${index}`}  ref={(input) => { this.sheet = input; }}/>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"modal-footer\">\r\n                      <button type=\"button\" className=\"btn btn-primary\"  data-dismiss=\"modal\" aria-label=\"Close\"onClick={ this.updateStockStatus}>確認{stock.name}</button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </td>}\r\n          { (saleStatus === 'US_all') && (stock.status === 'sale' ? <td>{stock.sale_date}</td> : <td></td>)}\r\n          { (saleStatus === 'US_all') && (stock.status === 'unsale' ? <td>{stock.date}</td>: <td>{stock.date}</td>)}\r\n          <td>{stock.name}</td>\r\n          <td>{stock.number}</td>\r\n          <td>{averagePrice}</td>\r\n          <td>{stock.sheet}</td>\r\n          <td>{stock.cost}</td>\r\n          <td>{stock.status === \"unsale\" ? '未賣出' : '已賣出'}</td>\r\n          <td>{stock.sale_cost}</td>\r\n          <td style={{ 'color': stock.income < 0 ? '#30ff30' : 'rgb(255 19 19)'}}>{stock.income}</td>\r\n          <td>\r\n            <button type=\"button\" className=\"btn btn-danger\" onClick={this.deleteStock}>刪除</button>\r\n          </td>\r\n        </tr>\r\n    )\r\n  }\r\n}\r\n","import React, {Component} from 'react';\r\nimport Stock from './stock';\r\n// import InputRegion from \"../inputRegion\";\r\nimport browserUtils from \"../../utils/browserUtils\";\r\nimport InputRegion from \"../inputRegion\";\r\nconst initialState = {\r\n  allData:[],\r\n  allStocks:\"\",\r\n  isQueryOpen: false\r\n};\r\n\r\nexport default class Usstocks extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = initialState;\r\n  }\r\n\r\n  componentDidMount() {\r\n    const allStocks = this.props;\r\n    if (allStocks) {\r\n      this.setState({allStocks: allStocks})\r\n    }\r\n  }\r\n\r\n  queryData = (stockInfo) => this.props.queryDataCallback(stockInfo);\r\n\r\n  isQueryOpen = status => this.setState({isQueryOpen:status});\r\n\r\n  getQueryStatus = () =>{\r\n    if(!browserUtils.isMobile()){\r\n      return true\r\n    }else{\r\n      return this.state.isQueryOpen;\r\n    }\r\n  };\r\n\r\n\r\n  render() {\r\n    const {allStocks, deleteCallback, UsInfo, hideFiled, saleStatus, route, saleStockCallback, queryDataCallback, resetCallBack}= this.props;\r\n    const {isQueryOpen}= this.state;\r\n    const isMobile = browserUtils.isMobile();\r\n    return (\r\n      <div>\r\n        {route === 'US_account' && !isQueryOpen && isMobile && <button style={{borderRadius: '0px',}} className=\"btn btn-success from-group col-md-2\" type=\"submit\" onClick={() => this.isQueryOpen(true)}>查詢時區</button>}\r\n        {route === 'US_account' && isQueryOpen && isMobile && <button style={{borderRadius: '0px'}} className=\"btn btn-secondary from-group col-md-2\" type=\"submit\" onClick={() => this.isQueryOpen(false)}>隱藏</button>}\r\n        {route === 'US_account' && this.getQueryStatus() && <InputRegion callback={queryDataCallback} resetCallBack={resetCallBack}/>}\r\n        <div style={{overflowY: browserUtils.isMobile() ? 'scroll' : 'unset'}}>\r\n        <table className=\"table table-dark\" style={{whiteSpace: 'nowrap'}}>\r\n          <thead>\r\n          <tr>\r\n            <th scope=\"col\">#</th>\r\n            {!hideFiled && <th scope=\"col\">賣出</th>}\r\n            { saleStatus === 'US_all' && <th scope=\"col\">賣出日期</th>}\r\n            { saleStatus === 'US_all'  && <th scope=\"col\">購買日期</th>}\r\n            <th scope=\"col\">股票名稱</th>\r\n            <th scope=\"col\">代號</th>\r\n            <th scope=\"col\">單價</th>\r\n            <th scope=\"col\">股數</th>\r\n            <th scope=\"col\">購買成本</th>\r\n            <th scope=\"col\">狀態</th>\r\n            <th scope=\"col\">賣出總價</th>\r\n            <th scope=\"col\">損益</th>\r\n            <th scope=\"col\">刪除</th>\r\n          </tr>\r\n          </thead>\r\n          <tbody>\r\n          {\r\n            (allStocks.length !== 0) && allStocks.map((stock, index) => (\r\n            <Stock hideFiled={hideFiled} UsInfo={UsInfo} saleStatus={saleStatus} key={stock.number+index} stock={stock} index={index+1} route={route}  stockSaleCallback = {saleStockCallback} delete={index => deleteCallback(index)}/>\r\n            ))\r\n          }\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","export default {\r\n  wrapper: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    flexDirection: 'column',\r\n    justifyContent: 'center',\r\n    width: '100%',\r\n    minHeight: '100%',\r\n    padding: '20px',\r\n    position: 'absolute',\r\n    backgroundColor: 'rgba(0,0,0,0.7)',\r\n  },\r\n  frameContent: {\r\n    WebkitBorderRadius: '10px 10px 10px 10px',\r\n    borderRadius: '10px 10px 10px 10px',\r\n    background: '#fff',\r\n    padding: '0px',\r\n    width: '90%',\r\n    maxWidth: '450px',\r\n    position: 'fixed',\r\n    WebkitBoxShadow: '0 30px 60px 0 rgba(0,0,0,0.3)',\r\n    boxShadow: '0 30px 60px 0 rgba(0,0,0,0.3)',\r\n    textAlign: 'center',\r\n    border: '5px solid #2196f3',\r\n    top: '25%'\r\n  },\r\n  logIn: {\r\n    width: '75px',\r\n    height: '75px',\r\n    backgroundSize: '100%',\r\n    margin: '15px auto',\r\n    borderRadius: '50px',\r\n    backgroundColor: 'rgb(0 127 185 / 50%)',\r\n    position: 'relative',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    fontSize: '20px',\r\n    color: 'aliceblue',\r\n    cursor: 'pointer',\r\n    ':hover':{\r\n      backgroundColor: 'rgb(0 127 185 / 25%)',\r\n    }\r\n  },\r\n  register: {\r\n    width: '75px',\r\n    height: '75px',\r\n    backgroundSize: '100%',\r\n    margin: '15px auto',\r\n    borderRadius: '50px',\r\n    backgroundColor: 'rgb(232 88 78)',\r\n    position: 'relative',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    fontSize: '20px',\r\n    color: 'aliceblue',\r\n    cursor: 'pointer',\r\n    ':hover':{\r\n      backgroundColor: 'rgb(232 88 78 / 25%)',\r\n    }\r\n  },\r\n  logo: {\r\n    width: '75px',\r\n    height: '75px',\r\n    backgroundSize: '100%',\r\n    margin: '15px auto'\r\n  },\r\n  inputContent:{\r\n    textAlign: 'center',\r\n    textDecoration: 'none',\r\n    display: 'inline-block',\r\n    fontSize: '16px',\r\n    margin: '5px',\r\n    width: '93%',\r\n    padding: '10px 20px'\r\n  },\r\n  input:{\r\n    backgroundColor: '#f6f6f6',\r\n    color: '#0d0d0d',\r\n    padding: '10px 32px',\r\n    textDecoration: 'none',\r\n    display: 'inline-block',\r\n    fontSize: '16px',\r\n    margin: '5px',\r\n    width: '93%',\r\n    border: '2px solid #f6f6f6',\r\n  },\r\n  submit:{\r\n    backgroundColor: '#000000',\r\n    border: 'none',\r\n    color: 'white',\r\n    padding: '15px 20px',\r\n    textAlign: 'center',\r\n    textDecoration: 'none',\r\n    display: 'inline-block',\r\n    textTransform: 'uppercase',\r\n    fontSize: '13px',\r\n    opacity: 0.5,\r\n    margin: '20px',\r\n    width: '50%',\r\n    ':hover':{\r\n      opacity: 1,\r\n      backgroundColor: '#000000',\r\n      boxShadow: '#00000'\r\n    }\r\n  },\r\n  back:{\r\n    backgroundColor: '#ff990e',\r\n    border: 'none',\r\n    color: 'white',\r\n    padding: '15px 20px',\r\n    textAlign: 'center',\r\n    textDecoration: 'none',\r\n    display: 'inline-block',\r\n    textTransform: 'uppercase',\r\n    fontSize: '13px',\r\n    opacity: 0.5,\r\n    margin: '20px',\r\n    width: '50%',\r\n    ':hover':{\r\n      opacity: 1,\r\n      backgroundColor: '#ff990e',\r\n      boxShadow: '#00000'\r\n    }\r\n  },\r\n  forgetPWD:{\r\n    marginBottom: '20px'\r\n  }\r\n}","import React, {Component} from 'react';\r\nimport Radium from \"radium\";\r\n// Firebase App (the core Firebase SDK) is always required and must be listed first\r\nimport * as firebase from \"firebase/app\";\r\n// If you enabled Analytics in your project, add the Firebase SDK for Analytics\r\nimport \"firebase/analytics\";\r\nimport \"firebase/database\";\r\n// Add the Firebase products that you want to use\r\nimport styles from './styles'\r\nimport settings from './../settings/settings'\r\nimport utils from './../../utils/dateFormat'\r\nimport browserUtils from \"./../../utils/browserUtils\";\r\nconst initialState = {\r\n  email:'',\r\n  resetEmail:'',\r\n  password:'',\r\n  isLogIn: true,\r\n  error: false,\r\n  message: '',\r\n  isOpenForgetPWD: false\r\n};\r\n\r\nclass Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = initialState;\r\n  }\r\n  componentWillUnmount() {\r\n    window.document.removeEventListener('keydown', (function(e) {\r\n      if( e.keyCode === 13 ) this.loginSubmitWithKeydown();\r\n    }).bind(this));\r\n  }\r\n\r\n  componentDidMount() {\r\n    window.document.addEventListener('keydown', (function(e) {\r\n      if( e.keyCode === 13 ) this.loginSubmitWithKeydown();\r\n    }).bind(this));\r\n  }\r\n\r\n  loginSubmitWithKeydown =() => this.getStatusMethod();\r\n\r\n  getStatusMethod = ()=>{\r\n    return this.actionForSubmit(this.state.email, this.state.password);\r\n  }\r\n\r\n  logInSelect = status => this.setState({isOpenForgetPWD: false,isLogIn: status});\r\n\r\n  actionForSubmit = () =>{\r\n    const {email, password ,isLogIn} = this.state;\r\n    const self = this;\r\n    switch (isLogIn) {\r\n      case true:\r\n        return self.logInSubmit(email, password);\r\n      case false:\r\n        return self.registerSubmit(email, password);\r\n    }\r\n  };\r\n\r\n  logInSubmit = (email, password) =>{\r\n    const {logInCallBack, homePageCallBack} = this.props;\r\n    if(!email && !password ){\r\n      this.setState({error:true, message:'Please input email&password'});\r\n      setTimeout(() =>this.setState({error:false, message: ''}), 5000)\r\n      return ;\r\n    }\r\n    firebase.auth().signInWithEmailAndPassword(email, password)\r\n      .then((result) => {\r\n        var user = firebase.auth().currentUser;\r\n\r\n        if(user){\r\n          localStorage.setItem('account-stock', user.uid);\r\n          console.log('log in successfully');\r\n          settings.user_id = user.uid;\r\n          logInCallBack&&logInCallBack(user.uid);\r\n          homePageCallBack&&homePageCallBack();\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        window.alert(error.message.toString())\r\n        this.setState({error:true, message: error.message})\r\n        setTimeout(() =>this.setState({error:false, message: ''}), 5000);\r\n        return ;\r\n      });\r\n  };\r\n\r\n  registerSubmit = (email, password) =>{\r\n    const {logInCallBack, homePageCallBack} = this.props;\r\n    if(!email && !password ){\r\n      this.setState({error:true, message:'Please input email&password'});\r\n      setTimeout(() =>this.setState({error: false, message: ''}), 5000);\r\n      return ;\r\n    }\r\n    let user = {\r\n      email: email,\r\n      pwd: password\r\n    };\r\n    firebase.auth().createUserWithEmailAndPassword(user.email, user.pwd)\r\n      .then(u => {\r\n        settings.user_id = u.user.uid;\r\n        firebase.database().ref(`/account_data/${u.user.uid}`).set({\r\n          \"tw\" : {\r\n            \"account_summary\" : {\r\n              \"accountMoney\" : 0,\r\n              \"accountStock\" : 0,\r\n              \"accountTime\" : utils.dateFormat(new Date()),\r\n              \"summary\" : 0\r\n            },\r\n            \"account_record\" : {},\r\n            \"stock_info\" :{}\r\n          },\r\n          \"us\" : {\r\n            \"account_summary\" : {\r\n              \"accountMoney\" : 0,\r\n              \"accountStock\" : 0,\r\n              \"accountTime\" : utils.dateFormat(new Date()),\r\n              \"summary\" : 0\r\n            },\r\n            \"account_record\" : {},\r\n            \"stock_info\" : {}\r\n          }\r\n        }).then(() => {\r\n          // 儲存成功後顯示訊息\r\n          localStorage.setItem('account-sstock', u.user.uid);\r\n          console.log('register successfully');\r\n          logInCallBack&&logInCallBack(u.user.uid);\r\n          homePageCallBack&&homePageCallBack();\r\n        });\r\n      }).catch(error => {\r\n      // 註冊失敗時顯示錯誤訊息\r\n      this.setState({exist: true, error:true, message: error.message.toString()});\r\n      window.alert(error.message.toString())\r\n      console.log('register failed');\r\n      return ;\r\n    });\r\n  }\r\n\r\n  setEmail = email => this.setState({email:email});\r\n\r\n  setPassword = password => this.setState({password:password});\r\n\r\n  openForgetPWD = () => this.setState({isOpenForgetPWD: true});\r\n\r\n  closeForgetPWD = () => this.setState({isOpenForgetPWD: false});\r\n\r\n  resetPWD = () =>{\r\n    const {resetEmail} = this.state;\r\n    const self = this;\r\n    const auth = firebase.auth();\r\n    auth.sendPasswordResetEmail(resetEmail).then(function() {\r\n      window.alert('已發送信件至信箱，請按照信件說明重設密碼');\r\n      self.closeForgetPWD();\r\n    }).catch(function(error) {\r\n      window.alert(error.message)\r\n    });\r\n  };\r\n\r\n  setResetEmail = (email) => this.setState({resetEmail: email})\r\n\r\n  render() {\r\n    const {isLogIn, isOpenForgetPWD} = this.state;\r\n    const isMobile = browserUtils.isMobile();\r\n\r\n    return (\r\n        <div style={styles.wrapper} >\r\n          <div className=\"fadeInDown\"  style={{ width: isMobile ? '80%' : '40%', display: 'flex', position: 'fixed', top: '5%'}}>\r\n            <div key='logIn' style={{...styles.logIn, border: isLogIn ? '3px solid white' : ''}} onClick={() => this.logInSelect(true)}>登入</div>\r\n            <div key='register' style={{...styles.register, border: isLogIn ? '' : '3px solid white' }} onClick={() => this.logInSelect(false)}>註冊</div>\r\n          </div>\r\n        <div className=\"fadeInDown\"  style={{...styles.frameContent, border: isLogIn ? '5px' +\r\n            ' solid #2196f3' : '5px solid rgb(232 88 78)'}}>\r\n          {!isOpenForgetPWD && <div>\r\n          <div className=\"fadeIn first\">\r\n            <div style={{...styles.logo, backgroundImage: 'url(' + require('./../../assets/img/logo.png') + ')'}}/>\r\n          </div>\r\n          <div style={{...styles.inputContent}}>\r\n            <input type=\"text\" style={styles.input} id=\"email\"  onChange={(c) => this.setEmail(c.target.value)} className=\"fadeIn second\" name=\"login\" placeholder=\"email\"/>\r\n            <input type=\"text\" style={styles.input} id=\"password\" onChange={(c) => this.setPassword(c.target.value)} className=\"fadeIn third\" name=\"login\" placeholder=\"password\"/>\r\n          </div>\r\n          <input style={{...styles.submit}}  type=\"submit\" className=\"fadeIn fourth\"\r\n                 value={isLogIn ? 'Log In' : 'Register' } onClick={this.actionForSubmit}/>\r\n          {isLogIn && <div id=\"formFooter\"  style={styles.forgetPWD} >\r\n            <a className=\"underlineHover\" href=\"#\" onClick={this.openForgetPWD} >Forgot Password?</a>\r\n          </div>}\r\n          </div>}\r\n          {isOpenForgetPWD &&\r\n          <div style={{...styles.inputContent}}>\r\n            <input type=\"text\" style={styles.input} id=\"email\"  onChange={(c) => this.setResetEmail(c.target.value)} className=\"fadeIn second\" name=\"login\" placeholder=\"email\"/>\r\n            <input key={'backToLogIn'} style={{...styles.back, margin: '5px', width: '45%'}}  onClick={this.closeForgetPWD} type=\"button\" className=\"fadeIn fourth\"\r\n                   value={'back'}/>\r\n            <input style={{...styles.submit, margin: '5px',  width: '45%'}}  type=\"submit\" className=\"fadeIn fourth\"\r\n                   value={'submit to mail'} onClick={this.resetPWD}/>\r\n          </div>}\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Radium(Login)","import React, { Component, useEffect, useRef, useState } from \"react\";\r\nimport { render } from 'react-dom'\r\nimport Highcharts from 'highcharts'\r\nimport HighchartsReact from 'highcharts-react-official'\r\nimport { styled } from '@mui/material/styles';\r\n\r\nconst SummaryInfo = styled('div')`\r\n  display: flex;\r\n`\r\n\r\nconst ChartTitle = styled('div')`\r\n  margin:0px 5%;\r\n  width: 50%;\r\n  text-align: left;\r\n  font-size: 20px;\r\n  color: #6495ED;\t\r\n`\r\nconst ChartValue = styled('span')`\r\n  text-align: left;\r\n  font-size: 20px;\r\n  color: #FF0000;\t\r\n`\r\nconst ColumnChart = ({\r\n  chartInfo = {},\r\n  type,\r\n  dividend\r\n}) => {\r\n    // if(JSON.stringify(chartInfo) === '{}') \r\n    const [yearDividend, setYearDividend] = useState([]);\r\n\r\n    const chartComponentRef = useRef<HighchartsReact.RefObject>(null);\r\n    const options = {\r\n      chart:{\r\n        height: '70%',\r\n        type: 'column'\r\n      },\r\n      title: {\r\n        text: '年損益圖表'\r\n      },\r\n      xAxis: {\r\n        categories: chartInfo.yearCategories,\r\n        lineWidth: 1, \r\n      },\r\n      yAxis: [{ // Primary yAxis\r\n        lineWidth: 1,  \r\n        labels: {\r\n          format: '{value} 元',\r\n          style: {\r\n            color: Highcharts.getOptions().colors[1]\r\n          }\r\n        },\r\n        title: {\r\n          text: '台幣',\r\n          style: {\r\n            color: Highcharts.getOptions().colors[1]\r\n          }\r\n        }\r\n      },\r\n      \r\n    ],\r\n      series: [\r\n        { name: '損益',\r\n          type: 'column',  \r\n          data: chartInfo.yearValue,\r\n          tooltip: {\r\n            valueSuffix: ' 元'\r\n          }\r\n        },\r\n        { name: '股利',\r\n        type: 'column',  \r\n        data: yearDividend,\r\n        tooltip: {\r\n          valueSuffix: ' 元'\r\n        }\r\n      }\r\n      ],\r\n    }\r\n    const getSummary = () => Object.keys(chartInfo).length !== 0 && chartInfo.yearValue.reduce((previousValue, currentValue) => previousValue + currentValue.y, 0)\r\n    \r\n    useEffect(()=>{\r\n      if(JSON.stringify(chartInfo) === '{}') return \r\n      let _yearDividend = []\r\n      chartInfo.yearCategories.map((year)=>{\r\n        _yearDividend.push(dividend[year] ? dividend[year].reduce((allStockDividend, record)=>{\r\n            allStockDividend += Number(record.transfer)\r\n            return allStockDividend\r\n          }, 0) : 0)\r\n      })\r\n      setYearDividend(_yearDividend)\r\n    },[chartInfo])\r\n\r\n  return (<div style={{ height: '100vh' }}>\r\n    <SummaryInfo >\r\n    <ChartTitle>總損益: <ChartValue>{getSummary()}</ChartValue></ChartTitle>\r\n    </SummaryInfo>\r\n    <HighchartsReact\r\n        highcharts={Highcharts}\r\n        options={options}\r\n        usRef={chartComponentRef}\r\n    />\r\n    </div>)\r\n}\r\n\r\nexport default  ColumnChart","import React, { Component, useEffect, useRef, useState } from \"react\";\r\nimport { render } from \"react-dom\";\r\nimport Highcharts from \"highcharts\";\r\nimport HighchartsReact from \"highcharts-react-official\";\r\nimport { TextField, MenuItem } from \"@mui/material\";\r\nimport { styled } from \"@mui/material/styles\";\r\nconst Container = styled(\"div\")`\r\n  display: flex;\r\n`;\r\nconst ChartTitle = styled(\"div\")`\r\n  display: flex;\r\n  flex-basis: 30%;\r\n  margin: 0px 5%;\r\n  text-align: left;\r\n  font-size: 20px;\r\n  color: #6495ed;\r\n`;\r\nconst ChartValue = styled(\"span\")`\r\n  text-align: left;\r\n  font-size: 20px;\r\n  color: #ff0000;\r\n`;\r\n\r\nconst DropDownContainer = styled(\"div\")`\r\n  display: flex;\r\n  flex-grow: 1;\r\n`;\r\n\r\nconst StyledDiv = styled(\"div\")`\r\n  display: flex;\r\n  align-self: center;\r\n  font-size: 20px;\r\n  color: #6495ed;\r\n  &:after {\r\n    content: \"\\xa0\\xa0\";\r\n  }\r\n`;\r\n\r\nconst DualColumnChart = ({ chartInfo, type,  dividend }) => {\r\n  const [selectTimeRange, setSelectTimeRange] = useState(\"all\");\r\n  const [selectList, setSelectList] = useState([{value:'all', label: 'all'}]);\r\n  const [info, setInfo] = useState({ value: [], rate: [], date: [] });\r\n  const chartComponentRef = useRef < HighchartsReact.RefObject > null;\r\n\r\n  const handleChange = (e) => {\r\n    setSelectTimeRange(e.target.value);\r\n  };\r\n  const getSummary = () => {\r\n\r\n    if (!info.value) return;\r\n\r\n    if (info.value.length === 0) return;\r\n    let result = info.value.reduce(\r\n      (previousValue, currentValue) => previousValue + currentValue.y,\r\n      0\r\n    );\r\n    return result;\r\n  };\r\n  useEffect(() => {\r\n    if(JSON.stringify(chartInfo) === '{}') return\r\n    if(selectTimeRange !== 'all'){\r\n      setInfo({\r\n        value: chartInfo.monthValue.filter((item)=> new RegExp(`${selectTimeRange}`).test(item.date) && item),\r\n        rate: chartInfo.monthRate.filter((item)=> new RegExp(`${selectTimeRange}`).test(item.date) && item),\r\n        date: chartInfo.categories.filter((item)=> new RegExp(`${selectTimeRange}`).test(item) && item),\r\n      });\r\n    }else{\r\n      setInfo({\r\n        value: chartInfo.monthValue,\r\n        rate: chartInfo.monthRate,\r\n        date: chartInfo.categories,\r\n      });\r\n    }\r\n  }, [selectTimeRange]);\r\n\r\n  useEffect(() => {\r\n    setInfo({\r\n      value: chartInfo.monthValue,\r\n      rate: chartInfo.monthRate,\r\n      date: chartInfo.categories,\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if(JSON.stringify(chartInfo) === '{}') return\r\n    let list = chartInfo.yearCategories && chartInfo.yearCategories.map((year) => {\r\n      return { value: year, label: year };\r\n    });\r\n    if(!list){\r\n      setSelectList(selectList)\r\n    }else{\r\n      setSelectList(selectList.concat(list))\r\n    }\r\n\r\n    setInfo({\r\n      value: chartInfo.monthValue,\r\n      rate: chartInfo.monthRate,\r\n      date: chartInfo.categories,\r\n    });\r\n  }, [chartInfo]);          \r\n\r\n  const options = {\r\n    chart: {\r\n      height: \"70%\",\r\n      type: \"column\",\r\n      alignTicks: true,\r\n    },\r\n    title: {\r\n      text: \"月損益圖表\",\r\n    },\r\n    xAxis: [\r\n      {\r\n        type: \"category\",\r\n        categories: info.categories,\r\n      },\r\n      {\r\n        type: \"category\",\r\n        categories: info.categories,\r\n        linkedTo: 0,\r\n        labels: {\r\n          enabled: false,\r\n        },\r\n        offset: 0,\r\n      },\r\n    ],\r\n    yAxis: [\r\n      { \r\n        softMax: info.value ? Math.max(...info.value.map(item => item.y)) : 0,\r\n        softMin: info.value ? Math.min(...info.value.map(item => item.y)) : 0,\r\n        lineWidth: 1,\r\n        gridLineWidth: 3,//Set this to zero\r\n        labels: {\r\n          format: \"{value} 元\",\r\n          style: {\r\n            color: Highcharts.getOptions().colors[1],\r\n          },\r\n        },\r\n        title: {\r\n          text: \"台幣\",\r\n          style: {\r\n            color: Highcharts.getOptions().colors[1],\r\n          },\r\n        },\r\n        opposite: false,\r\n      },\r\n      // { \r\n      //   softMax: info.rate ? Math.max(...info.rate.map(item => item.y)) : 0,\r\n      //   softMin: info.rate ? Math.min(...info.rate.map(item => item.y)) : 0,\r\n      //   title: {\r\n      //     text: \"投報率\",\r\n      //     style: {\r\n      //       color: Highcharts.getOptions().colors[1],\r\n      //     },\r\n      //   },\r\n      //   labels: {\r\n      //     format: \"{value} %\",\r\n      //     style: {\r\n      //       color: Highcharts.getOptions().colors[1],\r\n      //     },\r\n      //   },\r\n      //   opposite: false,\r\n      // },\r\n    ],\r\n    series: [\r\n      {\r\n        name: \"損益\",\r\n        data: info.value,\r\n        tooltip: {\r\n          valueSuffix: \" 元\",\r\n        },\r\n      },\r\n      // {\r\n      //   name: \"投報率\",\r\n      //   data: info.rate,\r\n      //   tooltip: {\r\n      //     valueSuffix: \" %\",\r\n      //   },\r\n      //   yAxis: 1,\r\n      // },\r\n    ]\r\n  };\r\n\r\n  return (\r\n    <div style={{ height: \"100vh\"}}>\r\n      <Container>\r\n        <ChartTitle>\r\n          總損益: <ChartValue>{getSummary()}</ChartValue>\r\n        </ChartTitle>\r\n        <DropDownContainer>\r\n          <StyledDiv>\r\n          {'選擇年份:'}\r\n          </StyledDiv>\r\n          <TextField\r\n            id=\"outlined-select-year\"\r\n            select\r\n            value={selectTimeRange}\r\n            onChange={handleChange}\r\n            sx={{\r\n              height:\"30px\",\r\n              width: '75%',\r\n              '& .MuiOutlinedInput-root':{\r\n                height:\"30px\",\r\n              }\r\n            }}\r\n          >\r\n            {selectList.map((option) => (\r\n              <MenuItem key={option.value} value={option.value}>\r\n                {option.label}\r\n              </MenuItem>\r\n            ))}\r\n          </TextField>\r\n        </DropDownContainer>\r\n      </Container>\r\n      <HighchartsReact\r\n        highcharts={Highcharts}\r\n        options={options}\r\n        usRef={chartComponentRef}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DualColumnChart;\r\n","import React, { Component, useEffect, useState } from 'react'\r\nimport _ from 'lodash';\r\nimport { styled } from '@mui/material/styles';\r\nimport Grid from '@mui/material/Grid';\r\nimport YearColumnChart from '../../custom/YearColumnChart';\r\nimport DualColumnChart from '../../custom/DulaColumnChart';\r\nimport api from '../../api/api'\r\n\r\nconst Container = styled('div')`\r\n  display: flex;\r\n`\r\nconst TwChart = ({\r\n  allStocks=[], \r\n  route\r\n}) => {\r\n\r\n  const [chartInfo, setChartInfo] = useState({})\r\n  const [dividend, setDividend] = useState(null)\r\n\r\n  const getDate = data => {\r\n    const firstDateYear = data[data.length-1].date.substring(0 ,4)\r\n    const firstDateMonth = data[data.length-1].date.substring(5 ,7)\r\n    const lastDateYear = new Date().getFullYear()\r\n    const lastDateMonth = new Date().getMonth()\r\n    let dateArray = []\r\n    for(let year = firstDateYear; year <= lastDateYear; year++ ){\r\n      for(let month = (year === firstDateYear ? firstDateMonth : 1 ); month <= (year === lastDateYear ? lastDateMonth : 12 ); month++ ){\r\n        if(month.toString().length <=1 && month !== 0)\r\n          dateArray.push(`${year}-0${month}`)\r\n        else\r\n          dateArray.push(`${year}-${month}`)\r\n      }\r\n    }\r\n    dateArray = dateArray.slice(11);\r\n    return dateArray\r\n  }\r\n\r\n  const getYearValue = (categories, data) =>{\r\n    let valueArray = []\r\n    categories.map((year)=>{\r\n      let balance = 0\r\n      data.forEach(it => {\r\n        if(it.sale_date.substr(0, 4) === year){\r\n          balance += it.income\r\n        }\r\n      })\r\n      valueArray.push({y: balance, color: balance > 0 ? \"#32a852\" : \"#ff0000\"})\r\n    })\r\n    return valueArray\r\n  }\r\n\r\n  const getYearDate = data => {\r\n    const firstDateYear = data[data.length-1].date.substring(0 ,4)\r\n    const lastDateYear = new Date().getFullYear()\r\n    let yearArray = []\r\n    for(let year = firstDateYear; year <= lastDateYear; year++ ){\r\n      yearArray.push(`${year}`)\r\n    }\r\n    return yearArray\r\n  }\r\n\r\n  const getValue = (categories, data) =>{\r\n    let valueArray = []\r\n    let ROIArray = []\r\n    let ROI = 0\r\n    categories.map((date)=>{\r\n      let balance = 0\r\n      let costSummary = 0\r\n      data.forEach(it => {\r\n        if(it.sale_date === date){\r\n          balance += it.income\r\n          costSummary += it.cost \r\n        }\r\n      })\r\n      if(balance === 0 || costSummary === 0) ROI = 0\r\n      else{\r\n        ROI = Math.round((balance/costSummary) * 100)\r\n      }\r\n      valueArray.push({y: balance, date: date, color: balance > 0 ? \"#32a852\" : \"#ff0000\"})\r\n      ROIArray.push({y: ROI, date: date, color: ROI > 0 ? \"#0e6124\" : \"#8E0011\"})\r\n    })\r\n    return [valueArray, ROIArray]\r\n  }\r\n\r\n  useEffect(() => {\r\n    if(allStocks.length === 0) return\r\n    const saledData = allStocks.filter((it)=>it.income !== 0 )\r\n    const handleDateData = saledData.map((it)=>{\r\n      return {...it, sale_date: it.sale_date.substr(0, 7)}\r\n    })\r\n    const categories = getDate(allStocks)\r\n    const monthValue = getValue(categories, handleDateData)\r\n    const yearCategories = getYearDate(allStocks)\r\n    const yearValue = getYearValue(yearCategories, handleDateData)\r\n    setChartInfo({\r\n      categories,\r\n      monthValue: monthValue[0],\r\n      monthRate: monthValue[1],\r\n      yearCategories,\r\n      yearValue\r\n    })\r\n    return () => {\r\n      allStocks = []\r\n  };\r\n  }, [allStocks]);\r\n\r\n  useEffect(()=>{\r\n    const dividendInfo = {}\r\n    const fetchData = async () => {\r\n      return  await api.getAccountRecord()\r\n    }\r\n\r\n    const isDividend = record => (/股利/).test(record.source)\r\n\r\n    fetchData().then((accountRecord)=>{\r\n      accountRecord.map(record => {\r\n      if(!dividendInfo[record.transferTime.substring(0,4)] && isDividend(record)) {\r\n        dividendInfo[record.transferTime.substr(0,4)] = []\r\n        dividendInfo[record.transferTime.substr(0,4)].push(record)\r\n      }else if(isDividend(record)){\r\n      dividendInfo[record.transferTime.substr(0,4)].push(record)\r\n      }\r\n    })\r\n    setDividend(dividendInfo)\r\n    })\r\n  },[])\r\n\r\n  return (\r\n    <Grid container>\r\n        {/* <Container> */}\r\n        <Grid item xs={12} md={6}>\r\n          <DualColumnChart chartInfo={chartInfo} type={'year'}/>\r\n          </Grid>\r\n          <Grid item xs={12} md={6}>\r\n          <YearColumnChart chartInfo={chartInfo} type={'year'} dividend={dividend}/>\r\n          </Grid>\r\n        {/* </Container> */}\r\n    </Grid>\r\n      )\r\n}\r\n\r\n\r\nexport default TwChart","import React, {Component} from 'react';\r\n\r\nimport './App.css';\r\nimport './index.css';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\nimport 'bootstrap/dist/js/bootstrap.bundle.js';\r\nimport Account from './component/account/account';\r\nimport Navbar from './component/navbar/navbar';\r\nimport Input from './component/input';\r\nimport Stocks from './component/stock/stocks';\r\nimport Usstocks from './component/usstock/stocks';\r\nimport browserUtils from \"./utils/browserUtils\";\r\nimport Login from './component/login/login';\r\nimport settings from './component/settings/settings'\r\nimport TwChart from './component/twChart'\r\nimport api from './api/api'\r\n\r\nconst initialState = {\r\n  inputData: [],\r\n  unSaleStocks: [],\r\n  saleStocks: [],\r\n  allStocks: [],\r\n  showStocks: [],\r\n  totalCost: 0,\r\n  route: 'Taiwan_account',\r\n  profitAndLoss: 0,\r\n  profit: 0,\r\n  saleCost: 0,\r\n  saleIsOpen: false,\r\n  saleStatus: 'all',\r\n  lastYearROI: 0,\r\n  logInStatus: false,\r\n  loading: false\r\n};\r\n\r\nexport default class App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = initialState;\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.loginRecord();\r\n    if(this.state.logInStatus) {\r\n      this.updateAllData();\r\n    }\r\n  }\r\n\r\n  updateAllData = () => {\r\n    const {route} = this.state;\r\n    settings.route = route;\r\n    // if(route === \"US_account\") {\r\n    //   settings.country = 'us';\r\n    //   api.getAllData().then((stockData) => {\r\n    //       this.setState({\r\n    //         lastYearROI: stockData.lastYearROI,\r\n    //         saleStatus: 'US_all',\r\n    //         showStocks: stockData.showStocks,\r\n    //         allStocks: stockData.allStocks,\r\n    //         saleStocks: stockData.saleStocks,\r\n    //         unSaleStocks: stockData.unSaleStocks,\r\n    //         totalCost: stockData.totalCost,\r\n    //         profitAndLoss: stockData.profitAndLoss,\r\n    //         saleCost: stockData.saleCost,\r\n    //         profit: (stockData.profitAndLoss / stockData.saleCost * 100).toFixed(2),\r\n    //         loading: false\r\n    //       })\r\n    //     }\r\n    //   );\r\n    // }else{\r\n      api.getAllData().then((stockData) => {\r\n        settings.country = 'tw';\r\n          this.setState({\r\n            lastYearROI: stockData.lastYearROI,\r\n            saleStatus: 'all',\r\n            showStocks: stockData.showStocks,\r\n            allStocks: stockData.allStocks,\r\n            saleStocks: stockData.saleStocks,\r\n            unSaleStocks: stockData.unSaleStocks,\r\n            totalCost: stockData.totalCost,\r\n            profitAndLoss: stockData.profitAndLoss,\r\n            saleCost: stockData.saleCost,\r\n            profit: (stockData.profitAndLoss / stockData.saleCost * 100).toFixed(2),\r\n            loading: false\r\n          })\r\n        }\r\n      );\r\n    // }\r\n  };\r\n\r\n  inputData = data => {\r\n    let self = this;\r\n    const route = this.state.route\r\n    api.insertNewData(data, route).then(() => {\r\n      self.updateAllData()\r\n    });\r\n  };\r\n\r\n  deleteStock = (timestamp) => {\r\n    api.deleteStock(timestamp).then(() =>\r\n      this.updateAllData()\r\n    )\r\n  };\r\n\r\n  saleStock = (salePrice, saleSheet, stock) => {\r\n    const {route} = this.state;\r\n    api.updateStock(salePrice, saleSheet, stock, route).then(() => {\r\n      const stockInfo = {'price': salePrice, 'sheet': saleSheet, 'cost': stock.cost, 'date': stock.date};\r\n      api.updateAccountRecord(stockInfo, true, route);\r\n      this.updateAllData()\r\n      }\r\n    )\r\n  };\r\n\r\n  loginRecord = () =>{\r\n    const account = localStorage.getItem('account-stock');\r\n    if(!!account) {\r\n      settings.user_id = account;\r\n      this.closeLoginPage();\r\n      this.updateAllData();\r\n    }\r\n    else return;\r\n  };\r\n\r\n  logOut = () =>{\r\n    localStorage.removeItem('account-sstock');\r\n    this.setState({logInStatus: false})\r\n  };\r\n\r\n  changeRoute = (route) => {\r\n    switch (route) {\r\n      case 'twChart':\r\n      case 'Taiwan_history':\r\n      case 'Taiwan_account':\r\n        settings.country = 'tw';\r\n        break;\r\n      // case 'US_account':\r\n      // case 'US_history':\r\n      //   settings.country = 'us';\r\n        break;\r\n    }\r\n    this.setState({route: route, showStocks: []}, ()=>this.updateAllData());\r\n  };\r\n\r\n  updateQueryData = (stockInfo) => {\r\n    const {allStocks, unSaleStocks, saleStocks} = this.state;\r\n    const startRegion = stockInfo.dateRegion1;\r\n    const endRegion = stockInfo.dateRegion2;\r\n\r\n    let profit = 0;\r\n    let saleCost = 0;\r\n    let profitAndLoss = 0;\r\n    let result = '';\r\n\r\n    this.setState({saleStatus: stockInfo.saleStatus});\r\n    if (stockInfo.stockStatus === 'individual') {\r\n      switch (stockInfo.saleStatus) {\r\n        case 'all':\r\n          result = allStocks.filter(a => (startRegion <= a.sale_date && a.sale_date <= endRegion));\r\n          break;\r\n        case 'sale':\r\n          result = saleStocks.filter(a => startRegion <= a.sale_date && a.sale_date <= endRegion);\r\n          break;\r\n        case 'unsale':\r\n          result = unSaleStocks.filter(a => startRegion <= a.date && a.date <= endRegion);\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n        for (let item in result) {\r\n        profitAndLoss += result[item].income;\r\n        saleCost += result[item].cost;\r\n      }\r\n      profit = (profitAndLoss / saleCost * 100).toFixed(2);\r\n      this.setState({showStocks: result, profit: profit, saleCost: saleCost, profitAndLoss: profitAndLoss});\r\n    } else if (stockInfo.stockStatus === 'mutual') {\r\n    }\r\n  };\r\n  reset = () => this.updateAllData();\r\n\r\n  saleIsOpen = () => this.setState({saleIsOpen: !this.state.saleIsOpen});\r\n\r\n  getSaleIsStatus = () => {\r\n    if (!browserUtils.isMobile()) {\r\n      return true\r\n    } else {\r\n      return this.state.saleIsOpen;\r\n    }\r\n  };\r\n\r\n  closeLoginPage = () => this.setState({logInStatus: true, loading: true});\r\n\r\n  render() {\r\n    const inputData = this.state.inputData;\r\n    const unSaleStocks = this.state.unSaleStocks;\r\n    const showStocks = this.state.showStocks;\r\n    const {route, logInStatus, lastYearROI, loading} = this.state;\r\n    if(!logInStatus){\r\n      return (\r\n        <div>\r\n      <Login logInCallBack ={() => this.updateAllData()} homePageCallBack={this.closeLoginPage}/>\r\n        </div>\r\n      )\r\n    }else {\r\n      return (\r\n        <div className=\"App\" style={{\r\n          height: window.innerHeight,\r\n          margin: '0 auto',\r\n        }}>\r\n          {loading === true &&<div style={{position: 'absolute',\r\n            top: 0,\r\n            left: 0,\r\n            height: '100%',\r\n            width: '100%',\r\n            display: 'block',\r\n            zIndex: 7,\r\n            backgroundColor: 'rgba(0, 0, 0, 0.5)'}}><img  alt=\"\" style={{display:'flex',\r\n            width: '128px',\r\n            height: '128px',\r\n            position: 'relative',\r\n            margin: '0px auto',\r\n            backgroundSize: '100%',\r\n            top: 'calc(50% - 50px)'\r\n          }} src={require('./assets/img/loading.gif')}/></div>}\r\n          <Navbar lastYearROI={lastYearROI} totalCost={this.state.totalCost} profitAndLoss={this.state.profitAndLoss}\r\n                  route={route} changeRoute={this.changeRoute} profit={this.state.profit} logOutCallBack={this.logOut}\r\n                  saleCost={this.state.saleCost}/>\r\n          {browserUtils.isMobile() && !this.state.saleIsOpen && (route === 'Taiwan_account' || route === 'US_account') &&\r\n          <button className=\"btn btn-warning from-group col-md-2 input-sale-frame\" type=\"submit\"\r\n                  onClick={() => this.saleIsOpen(true)}>買入</button>}\r\n          {browserUtils.isMobile() && this.state.saleIsOpen && (route === 'Taiwan_account' || route === 'US_account') &&\r\n          <button className=\"btn btn-secondary from-group col-md-2 input-sale-frame\" type=\"submit\"\r\n                  onClick={() => this.saleIsOpen(false)}>隱藏</button>}\r\n          {this.getSaleIsStatus() && (route === 'Taiwan_account' || route === 'US_account') &&\r\n          <Input callback={this.inputData} route={route}/>}\r\n          {route === 'Taiwan_account' &&\r\n          <Stocks hideFiled={false} saleStatus={this.state.saleStatus} inputData={inputData} allStocks={unSaleStocks}\r\n                  deleteCallback={this.deleteStock} saleStockCallback={this.saleStock} route={route}/>}\r\n          {route === 'twChart' &&<TwChart hideFiled={false} allStocks={showStocks} route={route}/>}\r\n          {route === 'Taiwan_history' &&\r\n          <Stocks hideFiled={true} saleStatus={this.state.saleStatus} inputData={inputData} allStocks={showStocks}\r\n                  deleteCallback={this.deleteStock} saleStockCallback={this.saleStock} route={route}\r\n                  queryDataCallback={this.updateQueryData} resetCallBack={this.reset}/>}\r\n          {/* {route === 'US_account' &&\r\n          <Usstocks hideFiled={false} saleStatus={'US_all'} route={route} allStocks={showStocks}\r\n                    saleStockCallback={this.saleStock} deleteCallback={this.deleteStock}\r\n                    queryDataCallback={this.updateQueryData} resetCallBack={this.reset}/>} */}\r\n          {route === 'account' && <Account route={route}/>}\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n}","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}